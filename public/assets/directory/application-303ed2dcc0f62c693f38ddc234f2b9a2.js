/*!
 * jQuery JavaScript Library v1.9.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2012 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-2-4
 */
/**
 * mule-upload.js
 *
 * Copyright 2012-2013, Gabriel Purcaru
 * Released under GPL License.
 * License: http://www.gnu.org/copyleft/gpl.html
 */
function mule_upload(e){function t(e){var t=this;e=e||{},t.input=e.file_input,t.file=e.file,e.chunk_size=e.chunk_size||6*a,e.max_size=e.max_size||5*(1<<30),e.key=e.key||"the_key",e.bucket=e.bucket,e.host=e.host||"http://"+e.bucket+".s3.amazonaws.com",e.access_key=e.access_key,e.content_type=e.content_type||"application/octet-stream",e.acl=e.acl||"public-read",e.on_progress=e.on_progress||function(){},e.on_select=e.on_select||function(){},e.on_error=e.on_error||function(){},e.on_complete=e.on_complete||function(){},e.on_init=e.on_init||function(){},e.on_start=e.on_start||function(){},e.on_chunk_uploaded=e.on_chunk_uploaded||function(){},e.ajax_base=e.ajax_base||"/upload-backend",e.accepted_extensions=e.accepted_extensions||"",t.settings=e,t.set_state("waiting"),t.input&&(t.input.onchange=function(e){if("waiting"!=t.get_state())return!1;var n=e.target.files[0];t.upload_file(n,!1)}),t.settings.on_init.apply(t)}var n=!1,i=function(){};n&&console&&console.log&&(i=function(){for(var e=["[MuleUploader]"],t=0;t<arguments.length;t++)e.push(arguments[t]);return console.log.apply(console,e)});var r=function(e){e.headers=e.headers||{},e.method=e.method||"GET";var t=new XMLHttpRequest;e.load_callback&&"function"==typeof e.load_callback&&t.addEventListener("load",e.load_callback,!0),e.error_callback&&"function"==typeof e.error_callback&&t.addEventListener("error",e.error_callback,!0),e.state_change_callback&&"function"==typeof e.state_change_callback&&t.addEventListener("readystatechange",e.state_change_callback),e.progress_callback&&"function"==typeof e.progress_callback&&t.upload.addEventListener("progress",e.progress_callback),e.timeout_callback&&"function"==typeof e.timeout_callback&&t.addEventListener("timeout",timeout_callback),t.open(e.method,e.url);for(var n in e.headers)t.setRequestHeader(n,e.headers[n]);return e.body?t.send(e.body):t.send(),t},o=1024,a=1024*o,s=1024*a;if(File.prototype.slice=File.prototype.webkitSlice||File.prototype.mozSlice||File.prototype.slice,!(window.File&&window.FileList&&window.Blob))return-1;if(-1!==navigator.userAgent.indexOf("Firefox"))try{new Blob(["something"])}catch(l){return-1}return i("OK"),t.prototype.upload_file=function(t,n){var i=this;if("waiting"!=i.get_state())return!1;if(t&&(i.file=t),!i.file)return!1;if(i.file.lastModifiedDate=i.file.lastModifiedDate||new Date(0),i.file.size>i.settings.max_size)return alert("The maximum allowed file size is "+i.settings.max_size/s+"GB. Please select another file."),void 0;if(i.settings.accepted_extensions){var o=t.name.split(".").pop();extensions_array=i.settings.accepted_extensions.split(",");for(var a=!1,l=0;l<extensions_array.length;l++)if(o==extensions_array[l]){a=!0;break}if(!a)return alert("This file format is not accepted. Please use a file with an extension like '"+i.settings.accepted_extensions),void 0}i.get_init_signature(function(o,a){if(i.upload_id)n?i.get_all_signatures(function(){i.load_file(t)}):i.list_parts(function(){i.get_all_signatures(function(){i.load_file(t)})},function(){return i.upload_id=null,this._loaded_chunks=null,i._progress=null,i._loaded_chunks=null,i._uploading_chunks=null,i._chunks=null,i.upload_file(t,!0)});else{var s="AWS "+e.access_key+":"+o,l=function(e){i.settings.on_select.call(i,t);var n=e.target.responseXML;i.upload_id=n.getElementsByTagName("UploadId")[0].textContent,i.get_all_signatures(function(){i.load_file(t)})};r({method:"POST",url:e.host+"/"+e.key+"?uploads",load_callback:l,error_callback:l,headers:{"x-amz-date":a,"x-amz-acl":e.acl,Authorization:s,"Content-Disposition":"attachment; filename="+i.file.name}})}},n)},t.prototype.load_file=function(){var e=this;if("waiting"==e.get_state()){e._start_fired||(e.settings.on_start.call(e,e.file),e.settings.on_progress.call(e,0,e.file.size),e._start_fired=!0),e.set_state("processing"),e.settings.on_progress.call(e,e.get_total_progress(),e.file.size);var t=e.get_next_chunk();-1!=t?e.upload_chunk(t):(i("All done; finish upload"),e.finish_upload())}},t.prototype.upload_chunk=function(e){var t=this;return"processing"!=t.get_state()?(i("NOT processing; return"),void 0):t.get_chunk_uploading(e)?(i("Already Uploading"),void 0):(t.set_chunk_uploading(e),i("Uploading Chunk: "+e),t.get_chunk_signature(e,function(n,o){var a=t.settings.chunk_size,s=e*a,l=Math.min(s+a,t.file.size),c=new Date;if(t._intervals=t._intervals||{},t.is_chunk_loaded(e)){var u=t.get_next_chunk();-1!=u?t.upload_chunk(u):t.upload_finished()&&t.finish_upload()}var d=function(n){if(n.target.readyState==this.DONE&&"processing"==t.get_state()&&0!==n.target.status){if(2!=n.target.status/100)return f();i("Chunk uploaded: "+e),t.notify_chunk_uploaded(e),t.settings.on_chunk_uploaded.call(t,e),clearInterval(t._intervals[e]),t.set_chunk_finished(e);var r=t.get_next_chunk();-1!=r?t.upload_chunk(r):(i("Done"),t.finish_upload())}},h=function(n){t.set_progress(e,n.loaded),t.settings.on_progress.call(t,t.get_total_progress(),t.file.size),c=new Date},p=!1,f=function(){var n=arguments,r=this;t.check_already_uploaded(function(){t.set_state("finished"),t.notify_upload_finished(),t.settings.on_progress.call(t,t.file.size,t.file.size),t.settings.on_complete.call(t)},function(){i("Error: "),i(n),p||(p=!0,i("Abort"),i(r),r.abort(),i("Retry chunk: "+e),clearInterval(t._intervals[e]),setTimeout(function(){if("processing"==t.get_state()){t.set_chunk_uploading(e,!1);var n=t.get_next_chunk();-1!==n&&t.get_all_signatures(function(){t.upload_chunk(t.get_next_chunk())})}},1e3))})},g="/"+t.settings.key;g+="?partNumber="+(e+1)+"&uploadId="+t.upload_id;var m="AWS "+t.settings.access_key+":"+n,v=t.file.slice(s,l),y=r({method:"PUT",url:t.settings.host+g,progress_callback:h,state_change_callback:d,error_handler:f,timeout_handler:f,headers:{"x-amz-date":o,Authorization:m,"Content-Type":t.settings.content_type,"Content-Disposition":"attachment; filename="+t.file.name},body:v});window.xhrs=window.xhrs||[],window.xhrs.push(y),t._chunk_xhr=t._chunk_xhr||[],t._chunk_xhr.push(y),t._intervals[e]=setInterval(function(){c&&new Date-c>15e3&&(i("Chunk Failed; retry"),clearInterval(t._intervals[e]),"processing"==t.get_state()&&(y.abort(),f.call(y)))},4e3)}),void 0)},t.prototype.finish_upload=function(){var e=this;"processing"==e.get_state()&&(e.set_state("finishing"),e.settings.on_progress.call(e,e.file.size,e.file.size),this.get_end_signature(function(t,n){var o="/"+e.settings.key+"?uploadId="+e.upload_id,a="AWS "+e.settings.access_key+":"+t,s=function(t){2==t.target.status/100?(i("Finished file."),e.set_state("finished"),e.settings.on_progress.call(e,e.file.size,e.file.size),e.notify_upload_finished(),e.settings.on_complete.call(e)):400==t.target.status&&-1!==t.target.responseText.indexOf("EntityTooSmall")?e.list_parts(function(t){e.update_chunks(t);var n=e.get_next_chunk();e.set_state("processing"),e.upload_chunk(n)}):404==t.target.status?e.cancel(function(){e.upload_file(e.file,!0)}):e.check_already_uploaded(function(){s({target:{status:200}})},function(){s({target:{status:404}})})};e.list_parts(function(t){var i=Math.ceil(e.file.size/e.settings.chunk_size);if(t.length!=i){e.update_chunks(t);var l=e.get_next_chunk();return e.set_state("processing"),e.upload_chunk(l),void 0}for(var c="<CompleteMultipartUpload>",u=0;u<t.length;u++)c+="<Part>",c+="<PartNumber>"+t[u][0]+"</PartNumber>",c+="<ETag>"+t[u][1]+"</ETag>",c+="</Part>";c+="</CompleteMultipartUpload>",-1!==navigator.userAgent.indexOf("Firefox")&&(c=new Blob([c])),r({url:e.settings.host+o,method:"POST",load_callback:s,error_callback:s,headers:{"x-amz-date":n,Authorization:a,"Content-Type":e.settings.content_type,"Content-Disposition":"attachment; filename="+e.file.name},body:c})})}))},t.prototype.list_parts=function(e,t){var n=this;n.get_list_signature(function(i,o){var a=function(i){if(2!=i.target.status/100&&t)return t(i);for(var r=i.target.responseXML,o=[],a=r.getElementsByTagName("Part"),s=Math.ceil(n.file.size/n.settings.chunk_size),l=0;l<a.length;l++){var c=parseInt(a[l].getElementsByTagName("PartNumber")[0].textContent,10),u=a[l].getElementsByTagName("ETag")[0].textContent,d=parseInt(a[l].getElementsByTagName("Size")[0].textContent,10);if(c!=s&&d!=n.settings.chunk_size)return;if(c==s&&d!=n.file.size%n.settings.chunk_size)return;o.push([c,u,d])}e(o)},s="/"+n.settings.key+"?uploadId="+n.upload_id,l="AWS "+n.settings.access_key+":"+i;r({method:"GET",load_callback:a,url:n.settings.host+s,headers:{"x-amz-date":o,Authorization:l}})})},t.prototype.get_end_signature=function(e){var t=this;if(t._end_signature)return e(t._end_signature[0],t._end_signature[1]),void 0;var n=function(t){var n=JSON.parse(t.target.responseText);e(n.signature,n.date)},i=function(){setTimeout(function(){t.get_end_signature(e)},1e3)},o=t.settings.ajax_base+"/get_end_signature/?upload_id="+escape(this.upload_id)+"&key="+this.settings.key;r({url:o,load_callback:n,error_callback:i})},t.prototype.get_list_signature=function(e,t){var n=this;if(t=t||function(){},n._list_signature)return e(n._list_signature[0],n._list_signature[1]),void 0;var i=function(t){var n=JSON.parse(t.target.responseText);e(n.signature,n.date)},o=function(){setTimeout(function(){n.get_list_signature(e)},1e3)},a=n.settings.ajax_base+"/get_list_signature/?upload_id="+escape(this.upload_id)+"&key="+this.settings.key;r({load_callback:i,error_callback:o,url:a})},t.prototype.get_chunk_signature=function(e,t){var n=this;if(n._chunk_signatures&&n._chunk_signatures[e+1])return t(n._chunk_signatures[e+1][0],n._chunk_signatures[e+1][1]),void 0;var i=function(e){var n=JSON.parse(e.target.responseText);t(n.signature,n.date)},o=function(){setTimeout(function(){n.get_chunk_signature(e,t)},1e3)},a=n.settings.ajax_base+"/get_chunk_signature/?chunk="+(e+1)+"&upload_id="+escape(this.upload_id)+"&key="+this.settings.key;r({load_callback:i,error_callback:o,url:a})},t.prototype.get_init_signature=function(e,t){var n=this,o=Math.ceil(n.file.size/n.settings.chunk_size),a=function(t){var r=JSON.parse(t.target.responseText);if(r.chunks){if(r.chunks.length==o)return i(r.chunks.length,o),n.get_init_signature(e,!0);i("Resume upload...");var a=r.chunks;n._progress=n._progress||[];for(var s=0;s<a.length;s++)i("Chunk already uploaded: "+(a[s]-1)),n._progress[a[s]]=n.settings.chunk_size,n.add_loaded_chunk(a[s]-1),n.set_chunk_finished(a[s]-1),n.bytes_started=(n.bytes_started||0)+n.settings.chunk_size;i(r),n.upload_id=r.upload_id,n.settings.key=r.key}e(r.signature,r.date)},s=function(){i("Failed; trying again"),setTimeout(function(){n.get_init_signature(e)},1e3)},l=n.settings.ajax_base+"/get_init_signature/?key="+n.settings.key+"&mime_type="+escape(n.settings.content_type)+"&filename="+escape(n.file.name)+"&filesize="+n.file.size+"&last_modified="+n.file.lastModifiedDate.valueOf()+(t?"&force=true":"");r({url:l,load_callback:a,error_callback:s})},t.prototype.get_all_signatures=function(e){var t=this,n=t.settings.key,i=Math.ceil(t.file.size/t.settings.chunk_size),o=t.upload_id,a=function(n){var i=JSON.parse(n.target.responseText);t._chunk_signatures=i.chunk_signatures,t._list_signature=i.list_signature,t._end_signature=i.end_signature,t._delete_signature=i.delete_signature,e()},s=function(){setTimeout(function(){t.get_all_signatures(e)},1e3)},l=t.settings.ajax_base+"/get_all_signatures/?key="+n+"&mime_type="+escape(t.settings.content_type)+"&num_chunks="+i+"&upload_id="+o+"&filename="+escape(t.file.name)+"&filesize="+t.file.size+"&last_modified="+t.file.lastModifiedDate.valueOf();r({url:l,load_callback:a,error_callback:s})},t.prototype.notify_chunk_uploaded=function(e){var t=this;if("processing"==t.get_state()){var n=t.settings.key,i=t.upload_id,o=t.settings.ajax_base+"/chunk_loaded/?key="+n+"&chunk="+(e+1)+"&upload_id="+i+"&filename="+escape(t.file.name)+"&filesize="+t.file.size+"&last_modified="+t.file.lastModifiedDate.valueOf();r({url:o})}},t.prototype.notify_upload_finished=function(){var e=this;if("finished"==e.get_state()){var t=e.settings.key,n=e.upload_id,i=e.settings.ajax_base+"/upload_finished/?key="+t+"&upload_id="+n+"&filename="+escape(e.file.name)+"&filesize="+e.file.size+"&last_modified="+e.file.lastModifiedDate.valueOf();r({url:i})}},t.prototype.check_already_uploaded=function(e,t){var n=this,o="/"+n.settings.key,a=function(n){2==n.target.status/100?(i("Already Uploaded"),e()):(i("Error!"),t())};t||"function"==typeof t||(t=function(){setTimeout(function(){return n.check_already_uploaded(e,t)},2500)}),r({url:n.settings.host+o,method:"HEAD",load_callback:a,error_callback:t})},t.prototype.cancel=function(e){for(var t=this,n=0;n<t._chunk_xhr.length;n++)i("Abort chunk: "+t._chunk_xhr[n]),t._chunk_xhr[n].abort();t._intervals=t._intervals||{};for(var r in t._intervals)clearInterval(t._intervals[r]);e=e||function(){},t.set_state("canceled"),t._chunk_xhr=t._chunk_xhr||[],t.settings.on_progress.call(t,0,0),t._chunk_xhr=null,t._chunks=null,t._uploading_chunks=null,t._loaded_chunks=null,t._start_fired=!1,t.upload_id=null,t._progress=null,t._chunk_signatures=null,t._list_signature=null,t._end_signature=null,t._delete_signature=null,t.set_state("waiting"),e()},t.prototype.update_chunks=function(e){var t=this,n=[],r=Math.ceil(t.file.size/t.settings.chunk_size);t._init_chunks(!0),t._uploading_chunks=[],t._loaded_chunks=[];for(var o=0;o<e.length;o++){var a=parseInt(e[o][0],10);t.add_loaded_chunk(a-1),t.set_chunk_finished(a-1),n.push(a-1)}i(n);for(var s=0;r>s;s++)-1===n.indexOf(s)&&(i("Chunk not uploaded: ",s),t.set_progress(s,0))},t.prototype.is_selected=function(){return!!this.file},t.prototype.get_state=function(){return this._state},t.prototype.set_state=function(e){return this._state=e},t.prototype.set_progress=function(e,t){var n=Math.ceil(this.file.size/this.settings.chunk_size);i("Progress: Chunk "+(e+1)+" / "+n+", Bytes "+t+" / "+this.settings.chunk_size+" ("+(100*(t/this.settings.chunk_size)).toFixed(2)+"%)"),this._progress=this._progress||{},this._progress[e]=t},t.prototype.get_total_progress=function(){var e=0;for(var t in this._progress)e+=this._progress[t];return e},t.prototype.is_chunk_loaded=function(e){return this._loaded_chunks=this._loaded_chunks||[],-1!==this._loaded_chunks.indexOf(e)},t.prototype.add_loaded_chunk=function(e){this._loaded_chunks=this._loaded_chunks||[],this._loaded_chunks.push(e),this.set_progress(e,this.settings.chunk_size)},t.prototype.get_chunk_uploading=function(e){return this._uploading_chunks=this._uploading_chunks||[],-1!==this._uploading_chunks.indexOf(e)},t.prototype.set_chunk_uploading=function(e,t){if("undefined"==typeof t&&(t=!0),this._uploading_chunks=this._uploading_chunks||[],t)this._uploading_chunks.push(e);else{for(var n=[],i=0;i<this._uploading_chunks.length;i++)this._uploading_chunks[i]!=e&&n.push(this._uploading_chunks[i]);this._uploading_chunks=n}},t.prototype._init_chunks=function(e){var t=this;if(!t._chunks||e){t._chunks=[];for(var n=Math.ceil(t.file.size/t.settings.chunk_size),i=0;n>i;i++)t._chunks.push(!1)}},t.prototype.set_chunk_finished=function(e,t){"undefined"==typeof t&&(t=!0);var n=this;n._init_chunks(),n._chunks[e]=t},t.prototype.get_next_chunk=function(){var e=this;e._init_chunks();for(var t=0;t<e._chunks.length;t++)if(!e._chunks[t]&&!e.get_chunk_uploading(t))return t;return-1},t.prototype.upload_finished=function(){var e=this;e._init_chunks();for(var t=0;t<e._chunks.length;t++)if(!e._chunks[t]||e.get_chunk_uploading(t))return!1;return!0},new t(e)}function parseNestedQuery(e,t){for(var n,i,r,o=o?new RegExp("["+t+"] *"):/[&;] */,a={},s=(e||"").split(o),l=0;l<s.length;l++)n=s[l].split("=",2),i=unescape(n[0]),r=unescape(n[1]),normalizeParams(a,i,r);return a}function normalizeParams(e,t,n,i){if("undefined"!=typeof t){var r,o=t.match(/^[\[\]]*([^\[\]]+)\]*(.*)/),a=o[1]||"",s=o[2]||"";if(i=i||[],""!=a){if(""==s)"undefined"!=typeof e[a]&&i.push(e[a]),e[a]=n;else if("[]"==s){if(e[a]=e[a]||[],!(e[a]instanceof Array))throw"Expected an array, got an object for param "+a;e[a].push(n)}else if(o=s.match(/^\[\]\[([^\[\]]+)\]$/)||s.match(/^\[\](.+)$/)){if(r=o[1],e[a]=e[a]||[],!(e[a]instanceof Array))throw"Expected an array, got an object for param "+a;"object"==typeof e[a][e[a].length-1]&&"undefined"==typeof e[a][e[a].length-1][r]?normalizeParams(e[a][e[a].length-1],r,n):e[a].push(normalizeParams({},r,n))}else e[a]=e[a]||{},e[a]=normalizeParams(e[a],s,n);return e}}}!function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Ct[e]={};return lt.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(lt.acceptData(e)){var o,a,s=lt.expando,l="string"==typeof n,c=e.nodeType,u=c?lt.cache:e,d=c?e[s]:e[s]&&s;if(d&&u[d]&&(r||u[d].data)||!l||i!==t)return d||(c?e[s]=d=Z.pop()||lt.guid++:d=s),u[d]||(u[d]={},c||(u[d].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(r?u[d]=lt.extend(u[d],n):u[d].data=lt.extend(u[d].data,n)),o=u[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[lt.camelCase(n)]=i),l?(a=o[n],null==a&&(a=o[lt.camelCase(n)])):a=o,a}}function o(e,t,n){if(lt.acceptData(e)){var i,r,o,a=e.nodeType,l=a?lt.cache:e,c=a?e[lt.expando]:lt.expando;if(l[c]){if(t&&(o=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in o?t=[t]:(t=lt.camelCase(t),t=t in o?[t]:t.split(" "));for(i=0,r=t.length;r>i;i++)delete o[t[i]];if(!(n?s:lt.isEmptyObject)(o))return}(n||(delete l[c].data,s(l[c])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(St,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:kt.test(i)?lt.parseJSON(i):i}catch(o){}lt.data(e,n,i)}else i=t}return i}function s(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if(Ht.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function h(e){var t=Wt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function g(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,r,o=lt._data(e),a=lt._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)lt.event.add(t,n,s[n][i])}a.data&&(a.data=lt.extend({},a.data))}}function y(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){r=lt._data(t);for(i in r.events)lt.removeEvent(t,i,r.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,g(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function b(e,n){var i,r,o=0,a=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||lt.nodeName(r,n)?a.push(r):lt.merge(a,b(r,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],a):a}function $(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=Sn.length;r--;)if(t=Sn[r]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function C(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=lt._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(o[a]=lt._data(i,"olddisplay",_(i.nodeName)))):o[a]||(r=x(i),(n&&"none"!==n||!r)&&lt._data(i,"olddisplay",r?n:lt.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=lt.css(e,n+kn[o],!0,r)),i?("content"===n&&(a-=lt.css(e,"padding"+kn[o],!0,r)),"margin"!==n&&(a-=lt.css(e,"border"+kn[o]+"Width",!0,r))):(a+=lt.css(e,"padding"+kn[o],!0,r),"padding"!==n&&(a+=lt.css(e,"border"+kn[o]+"Width",!0,r)));return a}function T(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=dn(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=hn(e,t,o),(0>r||null==r)&&(r=e.style[t]),bn.test(r))return r;i=a&&(lt.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(a?"border":"content"),i,o)+"px"}function _(e){var t=X,n=wn[e];return n||(n=E(e,t),"none"!==n&&n||(un=(un||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),un.detach()),wn[e]=n),n}function E(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function D(e,t,n,i){var r;if(lt.isArray(t))lt.each(t,function(t,r){n||_n.test(e)?i(e,r):D(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(r in t)D(e+"["+r+"]",t[r],n,i)}function A(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ut)||[];if(lt.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function M(e,t,n,i){function r(s){var l;return o[s]=!0,lt.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Vn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function N(e,n){var i,r,o=lt.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&lt.extend(!0,e,i),e}function I(e,n,i){var r,o,a,s,l=e.contents,c=e.dataTypes,u=e.responseFields;for(s in u)s in i&&(n[u[s]]=i[s]);for(;"*"===c[0];)c.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){c.unshift(s);break}if(c[0]in i)a=c[0];else{for(s in i){if(!c[0]||e.converters[s+" "+c[0]]){a=s;break}r||(r=s)}a=a||r}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function P(e,t){var n,i,r,o,a={},s=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(r in e.converters)a[r.toLowerCase()]=e.converters[r];for(;i=l[++s];)if("*"!==i){if("*"!==c&&c!==i){if(r=a[c+" "+i]||a["* "+i],!r)for(n in a)if(o=n.split(" "),o[1]===i&&(r=a[c+" "+o[0]]||a["* "+o[0]])){r===!0?r=a[n]:a[n]!==!0&&(i=o[0],l.splice(s--,0,i));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function j(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function q(e,t){lt.each(t,function(t,n){for(var i=(oi[t]||[]).concat(oi["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function R(e,t,n){var i,r,o=0,a=ri.length,s=lt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zn||F(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||F(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(U(u,c.opts.specialEasing);a>o;o++)if(i=ri[o].call(c,e,u,c.opts))return i;return q(c,u),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(e,t){var n,i,r,o,a;for(r in e)if(i=lt.camelCase(r),o=t[i],n=e[r],lt.isArray(n)&&(o=n[1],n=e[r]=n[0]),r!==i&&(e[i]=n,delete e[r]),a=lt.cssHooks[i],a&&"expand"in a){n=a.expand(n),delete e[i];for(r in n)r in e||(e[r]=n[r],t[r]=o)}else t[i]=o}function L(e,t,n){var i,r,o,a,s,l,c,u,d,h=this,p=e.style,f={},g=[],m=e.nodeType&&x(e);n.queue||(u=lt._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,h.always(function(){h.always(function(){u.unqueued--,lt.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==_(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(a=t[r],ti.exec(a)){if(delete t[r],l=l||"toggle"===a,a===(m?"hide":"show"))continue;g.push(r)}if(o=g.length){s=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),l&&(s.hidden=!m),m?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(r=0;o>r;r++)i=g[r],c=h.createTween(i,m?s[i]:0),f[i]=s[i]||lt.style(e,i),i in s||(s[i]=c.start,m&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function z(e,t,n,i,r){return new z.prototype.init(e,t,n,i,r)}function H(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=kn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function V(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var B,W,Y=typeof t,X=e.document,K=e.location,Q=e.jQuery,G=e.$,J={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,it=Z.slice,rt=Z.indexOf,ot=J.toString,at=J.hasOwnProperty,st=et.trim,lt=function(e,t){return new lt.fn.init(e,t,W)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,gt=/(?:^|:|,)(?:\s*\[)+/g,mt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,yt=/^-ms-/,bt=/-([\da-z])/gi,$t=function(e,t){return t.toUpperCase()},wt=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(xt(),lt.ready())},xt=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(X.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:X,!0)),pt.test(r[1])&&lt.isPlainObject(n))for(r in n)lt.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=X.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"==typeof s||lt.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(o=arguments[l]))for(r in o)e=s[r],i=o[r],s!==i&&(u&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,a=e&&lt.isArray(e)?e:[]):a=e&&lt.isPlainObject(e)?e:{},s[r]=lt.extend(u,a,i)):i!==t&&(s[r]=i));return s},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=G),t&&e.jQuery===lt&&(e.jQuery=Q),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!X.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(B.resolveWith(X,[lt]),lt.fn.trigger&&lt(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?J[ot.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!at.call(e,"constructor")&&!at.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||at.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||X;var i=pt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,r),r&&lt(r).remove(),lt.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&ft.test(t.replace(mt,"@").replace(vt,"]").replace(gt,"")))?new Function("return "+t)():(lt.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(yt,"ms-").replace(bt,$t)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:st&&!st.call("﻿ ")?function(e){return null==e?"":st.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(rt)return rt.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;
if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),lt.isFunction(e)?(i=it.call(arguments,2),r=function(){return e.apply(n||this,i.concat(it.call(arguments)))},r.guid=e.guid=e.guid||lt.guid++,r):t},access:function(e,n,i,r,o,a,s){var l=0,c=e.length,u=null==i;if("object"===lt.type(i)){o=!0;for(l in i)lt.access(e,n,l,i[l],!0,a,s)}else if(r!==t&&(o=!0,lt.isFunction(r)||(s=!0),u&&(s?(n.call(e,r),n=null):(u=n,n=function(e,t,n){return u.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return o?e:u?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!B)if(B=lt.Deferred(),"complete"===X.readyState)setTimeout(lt.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{X.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var n=!1;try{n=null==e.frameElement&&X.documentElement}catch(i){}n&&n.doScroll&&function r(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}xt(),lt.ready()}}()}return B.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),W=lt(X);var Ct={};lt.Callbacks=function(e){e="string"==typeof e?Ct[e]||i(e):lt.extend({},e);var n,r,o,a,s,l,c=[],u=!e.once&&[],d=function(t){for(r=e.memory&&t,o=!0,s=l||0,l=0,a=c.length,n=!0;c&&a>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):r?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){lt.each(t,function(t,n){var r=lt.type(n);"function"===r?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?a=c.length:r&&(l=t,d(r))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,s>=i&&s--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=r=t,this},disabled:function(){return!c},lock:function(){return u=t,r||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||o&&!u||(n?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,o){var a=o[0],s=lt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=s&&s.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},r={};return i.pipe=i.then,lt.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=it.call(arguments),a=o.length,s=1!==a||e&&lt.isFunction(e.promise)?a:0,l=1===s?e:lt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?it.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&lt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}}),lt.support=function(){var t,n,i,r,o,a,s,l,c,u,d=X.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};o=X.createElement("select"),s=o.appendChild(X.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!r.value,optSelected:s.selected,enctype:!!X.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===X.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!s.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}r=X.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),a=X.createDocumentFragment(),a.appendChild(r),t.appendChecked=r.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,lt(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=X.getElementsByTagName("body")[0];a&&(n=X.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(X.createElement("div")),i.style.cssText=d.style.cssText=o,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==Y&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=d=r=i=null)}),n=o=a=s=i=r=null,t}();var kt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!s(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,r,o=this[0],s=0,l=null;if(e===t){if(this.length&&(l=lt.data(o),1===o.nodeType&&!lt._data(o,"parsedAttrs"))){for(i=o.attributes;s<i.length;s++)r=i[s].name,r.indexOf("data-")||(r=lt.camelCase(r.slice(5)),a(o,r,l[r]));lt._data(o,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?o?a(o,e,lt.data(o,e)):null:(this.each(function(){lt.data(this,e,n)}),void 0)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=lt._data(e,t),n&&(!i||lt.isArray(n)?i=lt._data(e,t,lt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,r=n.shift(),o=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),o.cur=r,r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=lt.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=lt._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var Tt,_t,Et=/[\t\r\n]/g,Dt=/\r/g,At=/^(?:input|select|textarea|button|object)$/i,Mt=/^(?:a|area)$/i,Nt=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,It=/^(?:checked|selected)$/i,Pt=lt.support.getSetAttribute,Ot=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a=0,s=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,a=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];s>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return lt.isFunction(e)?this.each(function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var r,o=0,a=lt(this),s=t,l=e.match(ut)||[];r=l[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else(n===Y||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Et," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=lt.isFunction(e),this.each(function(n){var o,a=lt(this);1===this.nodeType&&(o=r?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":lt.isArray(o)&&(o=lt.map(o,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=lt.valHooks[o.type]||lt.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===Y?lt.prop(e,n,i):(o=1!==s||!lt.isXMLDoc(e),o&&(n=n.toLowerCase(),r=lt.attrHooks[n]||(Nt.test(n)?_t:Tt)),i===t?r&&o&&"get"in r&&null!==(a=r.get(e,n))?a:(typeof e.getAttribute!==Y&&(a=e.getAttribute(n)),null==a?t:a):null!==i?r&&o&&"set"in r&&(a=r.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):(lt.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ut);if(o&&1===e.nodeType)for(;n=o[r++];)i=lt.propFix[n]||n,Nt.test(n)?!Pt&&It.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Pt?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!lt.isXMLDoc(e),a&&(n=lt.propFix[n]||n,o=lt.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):At.test(e.nodeName)||Mt.test(e.nodeName)&&e.href?0:t}}}}),_t={get:function(e,n){var i=lt.prop(e,n),r="boolean"==typeof i&&e.getAttribute(n),o="boolean"==typeof i?Ot&&Pt?null!=r:It.test(n)?e[lt.camelCase("default-"+n)]:!!r:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Ot&&Pt||!It.test(n)?e.setAttribute(!Pt&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Ot&&Pt||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return lt.nodeName(e,"input")?(e.defaultValue=t,void 0):Tt&&Tt.set(e,t,n)}}),Pt||(Tt=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.attrHooks.contenteditable={get:Tt.get,set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var jt=/^(?:input|select|textarea)$/i,Ft=/^key/,qt=/^(?:mouse|contextmenu)|click/,Rt=/^(?:focusinfocus|focusoutblur)$/,Ut=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,r,o){var a,s,l,c,u,d,h,p,f,g,m,v=lt._data(e);if(v){for(i.handler&&(c=i,i=c.handler,o=c.selector),i.guid||(i.guid=lt.guid++),(s=v.events)||(s=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof lt===Y||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ut)||[""],l=n.length;l--;)a=Ut.exec(n[l])||[],f=m=a[1],g=(a[2]||"").split(".").sort(),u=lt.event.special[f]||{},f=(o?u.delegateType:u.bindType)||f,u=lt.event.special[f]||{},h=lt.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&lt.expr.match.needsContext.test(o),namespace:g.join(".")},c),(p=s[f])||(p=s[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,r,g,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),lt.event.global[f]=!0;e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,g,m=lt.hasData(e)&&lt._data(e);if(m&&(u=m.events)){for(t=(t||"").match(ut)||[""],c=t.length;c--;)if(s=Ut.exec(t[c])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(d=lt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||lt.removeEvent(e,p,m.handle),delete u[p])}else for(p in u)lt.event.remove(e,p+t[c],n,i,!0);lt.isEmptyObject(u)&&(delete m.handle,lt._removeData(e,"events"))}},trigger:function(n,i,r,o){var a,s,l,c,u,d,h,p=[r||X],f=at.call(n,"type")?n.type:n,g=at.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||X,3!==r.nodeType&&8!==r.nodeType&&!Rt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),s=f.indexOf(":")<0&&"on"+f,n=n[lt.expando]?n:new lt.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:lt.makeArray(i,[n]),u=lt.event.special[f]||{},o||!u.trigger||u.trigger.apply(r,i)!==!1)){if(!o&&!u.noBubble&&!lt.isWindow(r)){for(c=u.delegateType||f,Rt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(r.ownerDocument||X)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?c:u.bindType||f,a=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),a&&a.apply(l,i),a=s&&l[s],a&&lt.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!(o||n.isDefaultPrevented()||u._default&&u._default.apply(r.ownerDocument,i)!==!1||"click"===f&&lt.nodeName(r,"a")||!lt.acceptData(r)||!s||!r[f]||lt.isWindow(r))){d=r[s],d&&(r[s]=null),lt.event.triggered=f;try{r[f]()}catch(m){}lt.event.triggered=t,d&&(r[s]=d)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,r,o,a,s=[],l=it.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(s=lt.event.handlers.call(this,e,c),n=0;(o=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,a=0;(r=o.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((lt.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,a,s=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(o=[],a=0;l>a;a++)r=n[a],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),o[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[lt.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=qt.test(r)?this.mouseHooks:Ft.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new lt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||X,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==X.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===X.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(r,null,t):lt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=X.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Y&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),this[lt.expando]=!0,void 0):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!lt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:(lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:(lt.event.remove(this,"._submit"),void 0)}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return jt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):(lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;jt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!jt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&X.addEventListener(e,i,!0)},teardown:function(){0===--n&&X.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=c;else if(!r)return this;return 1===o&&(s=r,r=function(e){return lt().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,lt(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),/*!
 * Sizzle CSS Selector Engine
 * Copyright 2012 jQuery Foundation and other contributors
 * Released under the MIT license
 * http://sizzlejs.com/
 */
function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>k.cacheLength&&delete e[t.shift()],e[n]=i}}function r(e){return e[R]=!0,e}function o(e){var t=M.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var r,o,a,s,l,c,u,p,f,g;if((t?t.ownerDocument||t:U)!==M&&A(t),t=t||M,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!I&&!i){if(r=gt.exec(e))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&F(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return G.apply(n,J.call(t.getElementsByTagName(e),0)),n;if((a=r[3])&&L.getByClassName&&t.getElementsByClassName)return G.apply(n,J.call(t.getElementsByClassName(a),0)),n}if(L.qsa&&!P.test(e)){if(u=!0,p=R,f=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?p=u.replace(yt,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=pt.test(e)&&t.parentNode||t,g=c.join(",")}if(g)try{return G.apply(n,J.call(f.querySelectorAll(g),0)),n}catch(m){}finally{u||t.removeAttribute("id")}}}return $(e.replace(at,"$1"),t,n,i)}function s(e,t){var n=t&&e,i=n&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e,t){var n,i,r,o,s,l,c,u=B[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=k.preFilter;s;){(!n||(i=st.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(r=[])),n=!1,(i=ct.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(at," ")}),s=s.slice(n.length));for(o in k.filter)!(i=ht[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?a.error(e):B(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=H++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c,u=z+" "+o;if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(c=t[R]||(t[R]={}),(l=c[i])&&l[0]===u){if((s=l[1])===!0||s===C)return s===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||C,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function m(e,t,n,i,o,a){return i&&!i[R]&&(i=m(i)),o&&!o[R]&&(o=m(o,a)),r(function(r,a,s,l){var c,u,d,h=[],p=[],f=a.length,m=r||b(t||"*",s.nodeType?[s]:s,[]),v=!e||!r&&t?m:g(m,h,e,s,l),y=n?o||(r?e:f||i)?[]:a:v;if(n&&n(v,y,s,l),i)for(c=g(y,p),i(c,[],s,l),u=c.length;u--;)(d=c[u])&&(y[p[u]]=!(v[p[u]]=d));if(r){if(o||e){if(o){for(c=[],u=y.length;u--;)(d=y[u])&&c.push(v[u]=d);o(null,y=[],c,l)}for(u=y.length;u--;)(d=y[u])&&(c=o?Z.call(r,d):h[u])>-1&&(r[c]=!(a[c]=d))}}else y=g(y===a?y.splice(f,y.length):y),o?o(null,a,y,l):G.apply(a,y)})}function v(e){for(var t,n,i,r=e.length,o=k.relative[e[0].type],a=o||k.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return Z.call(t,e)>-1},a,!0),u=[function(e,n,i){return!o&&(i||n!==D)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];r>s;s++)if(n=k.relative[e[s].type])u=[p(f(u),n)];else{if(n=k.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;r>i&&!k.relative[e[i].type];i++);return m(s>1&&f(u),s>1&&h(e.slice(0,s-1)).replace(at,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}u.push(n)}return f(u)}function y(e,t){var n=0,i=t.length>0,o=e.length>0,s=function(r,s,l,c,u){var d,h,p,f=[],m=0,v="0",y=r&&[],b=null!=u,$=D,w=r||o&&k.find.TAG("*",u&&s.parentNode||s),x=z+=null==$?1:Math.random()||.1;for(b&&(D=s!==M&&s,C=n);null!=(d=w[v]);v++){if(o&&d){for(h=0;p=e[h++];)if(p(d,s,l)){c.push(d);break}b&&(z=x,C=++n)}i&&((d=!p&&d)&&m--,r&&y.push(d))}if(m+=v,i&&v!==m){for(h=0;p=t[h++];)p(y,f,s,l);if(r){if(m>0)for(;v--;)y[v]||f[v]||(f[v]=Q.call(c));f=g(f)}G.apply(c,f),b&&!r&&f.length>0&&m+t.length>1&&a.uniqueSort(c)}return b&&(z=x,D=$),y};return i?r(s):s}function b(e,t,n){for(var i=0,r=t.length;r>i;i++)a(e,t[i],n);return n}function $(e,t,n,i){var r,o,a,s,l,c=d(e);if(!i&&1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&!I&&k.relative[o[1].type]){if(t=k.find.ID(a.matches[0].replace($t,wt),t)[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=ht.needsContext.test(e)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace($t,wt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return G.apply(n,J.call(i,0)),n;break}}return _(e,c)(i,t,I,n,pt.test(e)),n}function w(){}var x,C,k,S,T,_,E,D,A,M,N,I,P,O,j,F,q,R="sizzle"+-new Date,U=e.document,L={},z=0,H=0,V=i(),B=i(),W=i(),Y=typeof t,X=1<<31,K=[],Q=K.pop,G=K.push,J=K.slice,Z=K.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",rt="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",ot=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+rt.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),st=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(ot),dt=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,gt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,yt=/'|\\/g,bt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,$t=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{J.call(U.documentElement.childNodes,0)[0].nodeType}catch(xt){J=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}T=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},A=a.setDocument=function(e){var i=e?e.ownerDocument||e:U;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,N=i.documentElement,I=T(i),L.tagNameNoComments=o(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),L.attributes=o(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),L.getByClassName=o(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),L.getByName=o(function(e){e.id=R+0,e.innerHTML="<a name='"+R+"'></a><div name='"+R+"'></div>",N.insertBefore(e,N.firstChild);var t=i.getElementsByName&&i.getElementsByName(R).length===2+i.getElementsByName(R+0).length;return L.getIdNotName=!i.getElementById(R),N.removeChild(e),t}),k.attrHandle=o(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==Y&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},L.getIdNotName?(k.find.ID=function(e,t){if(typeof t.getElementById!==Y&&!I){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},k.filter.ID=function(e){var t=e.replace($t,wt);return function(e){return e.getAttribute("id")===t}}):(k.find.ID=function(e,n){if(typeof n.getElementById!==Y&&!I){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==Y&&i.getAttributeNode("id").value===e?[i]:t:[]}},k.filter.ID=function(e){var t=e.replace($t,wt);return function(e){var n=typeof e.getAttributeNode!==Y&&e.getAttributeNode("id");return n&&n.value===t}}),k.find.TAG=L.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==Y?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.NAME=L.getByName&&function(e,t){return typeof t.getElementsByName!==Y?t.getElementsByName(name):void 0},k.find.CLASS=L.getByClassName&&function(e,t){return typeof t.getElementsByClassName===Y||I?void 0:t.getElementsByClassName(e)},O=[],P=[":focus"],(L.qsa=n(i.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||P.push(":checked")}),o(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&P.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(L.matchesSelector=n(j=N.matchesSelector||N.mozMatchesSelector||N.webkitMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){L.disconnectedMatch=j.call(e,"div"),j.call(e,"[s!='']:x"),O.push("!=",ot)}),P=new RegExp(P.join("|")),O=new RegExp(O.join("|")),F=n(N.contains)||N.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=N.compareDocumentPosition?function(e,t){var n;return e===t?(E=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||F(U,e)?-1:t===i||F(U,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,r=0,o=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return E=!0,0;if(!o||!a)return e===i?-1:t===i?1:o?-1:a?1:0;if(o===a)return s(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?s(l[r],c[r]):l[r]===U?-1:c[r]===U?1:0},E=!1,[0,0].sort(q),L.detectDuplicates=E,M):M},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==M&&A(e),t=t.replace(bt,"='$1']"),!(!L.matchesSelector||I||O&&O.test(t)||P.test(t)))try{var n=j.call(e,t);if(n||L.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,M,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==M&&A(e),F(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==M&&A(e),I||(t=t.toLowerCase()),(n=k.attrHandle[t])?n(e):I||L.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=1,r=0;if(E=!L.detectDuplicates,e.sort(q),E){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},S=a.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=S(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=S(t);return n},k=a.selectors={cacheLength:50,createPseudo:r,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($t,wt),e[3]=(e[4]||e[5]||"").replace($t,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace($t,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=V[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&V(e,function(e){return t.test(e.className||typeof e.getAttribute!==Y&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=a.attr(i,e);return null==r?"!="===t:t?(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r+" ").indexOf(n)>-1:"|="===t?r===n||r.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(u=m[R]||(m[R]={}),c=u[e]||[],p=c[0]===z&&c[1],h=c[0]===z&&c[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[z,p,h];break}}else if(y&&(c=(t[R]||(t[R]={}))[e])&&c[0]===z)h=c[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[R]||(d[R]={}))[e]=[z,h]),d!==t)););return h-=r,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=k.pseudos[e]||k.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[R]?i(t):i.length>1?(n=[e,e,"",t],k.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)r=Z.call(e,o[a]),e[r]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:r(function(e){var t=[],n=[],i=_(e.replace(at,"$1"));return i[R]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return a(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:r(function(e){return dt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace($t,wt).toLowerCase(),function(t){var n;do if(n=I?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!k.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})k.pseudos[x]=c(x);_=a.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=d(e)),n=t.length;n--;)o=v(t[n]),o[R]?i.push(o):r.push(o);o=W(e,y(r,i))}return o},k.pseudos.nth=k.pseudos.eq,k.filters=w.prototype=k.pseudos,k.setFilters=new w,A(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(e);var Lt=/Until$/,zt=/^(?:parents|prev(?:Until|All))/,Ht=/^.[^:#\[\.,]*$/,Vt=lt.expr.match.needsContext,Bt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,r=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;r>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;r>t;t++)lt.find(e,this[t],n);return n=this.pushStack(r>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?Vt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Vt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return this.pushStack(o.length>1?lt.unique(o):o)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var r=lt.map(this,t,n);return Lt.test(e)||(i=n),i&&"string"==typeof i&&(r=lt.filter(i,r)),r=this.length>1&&!Bt[e]?lt.unique(r):r,this.length>1&&zt.test(e)&&(r=r.reverse()),this.pushStack(r)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!lt(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Yt=/ jQuery\d+="(?:null|\d+)"/g,Xt=new RegExp("<(?:"+Wt+")[\\s/>]","i"),Kt=/^\s+/,Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Gt=/<([\w:]+)/,Jt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sn={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(X),cn=ln.appendChild(X.createElement("div"));sn.optgroup=sn.option,sn.tbody=sn.tfoot=sn.colgroup=sn.caption=sn.thead,sn.th=sn.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return lt.isFunction(e)?this.each(function(t){lt(this).wrapInner(e.call(this,t))}):this.each(function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(b(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&m(b(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(b(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Yt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Xt.test(e)||!lt.support.leadingWhitespace&&Kt.test(e)||sn[(Gt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(b(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var r,o,a,s,l,c,u=0,d=this.length,h=this,m=d-1,v=e[0],y=lt.isFunction(v);if(y||!(1>=d||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(r){var o=h.eq(r);y&&(e[0]=v.call(this,r,n?o.html():t)),o.domManip(e,n,i)});if(d&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),r=c.firstChild,1===c.childNodes.length&&(c=r),r)){for(n=n&&lt.nodeName(r,"tr"),s=lt.map(b(c,"script"),f),a=s.length;d>u;u++)o=c,u!==m&&(o=lt.clone(o,!0,!0),a&&lt.merge(s,b(o,"script"))),i.call(n&&lt.nodeName(this[u],"table")?p(this[u],"tbody"):this[u],o,u);if(a)for(l=s[s.length-1].ownerDocument,lt.map(s,g),u=0;a>u;u++)o=s[u],rn.test(o.type||"")&&!lt._data(o,"globalEval")&&lt.contains(l,o)&&(o.src?lt.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((o.text||o.textContent||o.innerHTML||"").replace(an,"")));c=r=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,r=[],o=lt(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),lt(o[i])[t](n),nt.apply(r,n.get());return this.pushStack(r)}}),lt.extend({clone:function(e,t,n){var i,r,o,a,s,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(o=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=b(o),s=b(e),a=0;null!=(r=s[a]);++a)i[a]&&y(r,i[a]);if(t)if(n)for(s=s||b(e),i=i||b(o),a=0;null!=(r=s[a]);a++)v(r,i[a]);else v(e,o);return i=b(o,"script"),i.length>0&&m(i,!l&&b(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,d=e.length,p=h(t),f=[],g=0;d>g;g++)if(o=e[g],o||0===o)if("object"===lt.type(o))lt.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(s=s||p.appendChild(t.createElement("div")),l=(Gt.exec(o)||["",""])[1].toLowerCase(),u=sn[l]||sn._default,s.innerHTML=u[1]+o.replace(Qt,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!lt.support.leadingWhitespace&&Kt.test(o)&&f.push(t.createTextNode(Kt.exec(o)[0])),!lt.support.tbody)for(o="table"!==l||Jt.test(o)?"<table>"!==u[1]||Jt.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)lt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(lt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=p.lastChild}else f.push(t.createTextNode(o));for(s&&p.removeChild(s),lt.support.appendChecked||lt.grep(b(f,"input"),$),g=0;o=f[g++];)if((!i||-1===lt.inArray(o,i))&&(a=lt.contains(o.ownerDocument,o),s=b(p.appendChild(o),"script"),a&&m(s),n))for(r=0;o=s[r++];)rn.test(o.type||"")&&n.push(o);return s=null,p},cleanData:function(e,t){for(var n,i,r,o,a=0,s=lt.expando,l=lt.cache,c=lt.support.deleteExpando,u=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?lt.event.remove(n,i):lt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==Y?n.removeAttribute(s):n[s]=null,Z.push(r))}}});var un,dn,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+ct+")(.*)$","i"),bn=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),$n=new RegExp("^([+-])=("+ct+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],Sn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var r,o,a={},s=0;if(lt.isArray(n)){for(o=dn(e),r=n.length;r>s;s++)a[n[s]]=lt.css(e,n[s],!1,o);return a}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=w(c,l)),s=lt.cssHooks[n]||lt.cssHooks[l],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:c[n];if(a=typeof i,"string"===a&&(o=$n.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(lt.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,r){var o,a,s,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=w(e.style,l)),s=lt.cssHooks[n]||lt.cssHooks[l],s&&"get"in s&&(a=s.get(e,!0,i)),a===t&&(a=hn(e,n,r)),"normal"===a&&n in Cn&&(a=Cn[n]),""===i||i?(o=parseFloat(a),i===!0||lt.isNumeric(o)?o||0:a):a},swap:function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var r,o,a,s=i||dn(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style;return s&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),bn.test(l)&&vn.test(n)&&(r=c.width,o=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=r,c.minWidth=o,c.maxWidth=a)),l}):X.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},hn=function(e,n,i){var r,o,a,s=i||dn(e),l=s?s[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),bn.test(l)&&!gn.test(n)&&(r=c.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=r,a&&(o.left=a)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&mn.test(lt.css(e,"display"))?lt.swap(e,xn,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var r=i&&dn(e);return k(e,n,i?S(e,t,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r),r):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),bn.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+kn[i]+t]=o[i]||o[i-2]||o[0];return r}},vn.test(e)||(lt.cssHooks[e+t].set=k)});var Tn=/%20/g,_n=/\[\]$/,En=/\r?\n/g,Dn=/^(?:submit|button|image|reset|file)$/i,An=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&An.test(this.nodeName)&&!Dn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),lt.param=function(e,n){var i,r=[],o=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)
};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){o(this.name,this.value)});else for(i in e)D(i,e[i],n,o);return r.join("&").replace(Tn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Mn,Nn,In=lt.now(),Pn=/\?/,On=/#.*$/,jn=/([?&])_=[^&]*/,Fn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,qn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rn=/^(?:GET|HEAD)$/,Un=/^\/\//,Ln=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zn=lt.fn.load,Hn={},Vn={},Bn="*/".concat("*");try{Nn=K.href}catch(Wn){Nn=X.createElement("a"),Nn.href="",Nn=Nn.href}Mn=Ln.exec(Nn.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&zn)return zn.apply(this,arguments);var r,o,a,s=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&lt.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(r?lt("<div>").append(lt.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){s.each(i,o||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,r,o){return lt.isFunction(i)&&(o=o||r,r=i,i=t),lt.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Nn,type:"GET",isLocal:qn.test(Mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?N(N(e,lt.ajaxSettings),t):N(lt.ajaxSettings,e)},ajaxPrefilter:A(Hn),ajaxTransport:A(Vn),ajax:function(e,n){function i(e,n,i,r){var o,d,y,b,w,C=n;2!==$&&($=2,l&&clearTimeout(l),u=t,s=r||"",x.readyState=e>0?4:0,i&&(b=I(h,x,i)),e>=200&&300>e||304===e?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(lt.etag[a]=w)),204===e?(o=!0,C="nocontent"):304===e?(o=!0,C="notmodified"):(o=P(h,b),C=o.state,d=o.data,y=o.error,o=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(n||C)+"",o?g.resolveWith(p,[d,C,x]):g.rejectWith(p,[x,C,y]),x.statusCode(v),v=t,c&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?d:y]),m.fireWith(p,[x,C]),c&&(f.trigger("ajaxComplete",[x,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,l,c,u,d,h=lt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?lt(p):lt.event,g=lt.Deferred(),m=lt.Callbacks("once memory"),v=h.statusCode||{},y={},b={},$=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===$){if(!d)for(d={};t=Fn.exec(s);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===$?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return $||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return $||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>$)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),i(0,t),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Nn)+"").replace(On,"").replace(Un,Mn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain&&(r=Ln.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===Mn[1]&&r[2]===Mn[2]&&(r[3]||("http:"===r[1]?80:443))==(Mn[3]||("http:"===Mn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),M(Hn,h,n,x),2===$)return x;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Rn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Pn.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=jn.test(a)?a.replace(jn,"$1_="+In++):a+(Pn.test(a)?"&":"?")+"_="+In++)),h.ifModified&&(lt.lastModified[a]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&x.setRequestHeader("If-None-Match",lt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Bn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===$))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(u=M(Vn,h,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{$=1,u.send(y,i)}catch(C){if(!(2>$))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=X.head||lt("head")[0]||X.documentElement;return{send:function(t,r){n=X.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Yn=[],Xn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yn.pop()||lt.expando+"_"+In++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,l=n.jsonp!==!1&&(Xn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Xn,"$1"+o):n.jsonp!==!1&&(n.url+=(Pn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||lt.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Yn.push(o)),s&&lt.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0});var Kn,Qn,Gn=0,Jn=e.ActiveXObject&&function(){var e;for(e in Kn)Kn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||j()}:O,Qn=lt.ajaxSettings.xhr(),lt.support.cors=!!Qn&&"withCredentials"in Qn,Qn=lt.support.ajax=!!Qn,Qn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(r,o){var a,s,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)l.setRequestHeader(s,r[s])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,r){var s,c,u,d;try{if(i&&(r||4===l.readyState))if(i=t,a&&(l.onreadystatechange=lt.noop,Jn&&delete Kn[a]),r)4!==l.readyState&&l.abort();else{d={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(p){r||o(-1,p)}d&&o(s,u,d,c)},n.async?4===l.readyState?setTimeout(i):(a=++Gn,Jn&&(Kn||(Kn={},lt(e).unload(Jn)),Kn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[L],oi={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=ni.exec(t),a=r.cur(),s=+a||0,l=1,c=20;if(o){if(n=+o[2],i=o[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&s){s=lt.css(r.elem,e,!0)||n||1;do l=l||".5",s/=l,lt.style(r.elem,e,s+i);while(l!==(l=r.cur()/a)&&1!==l&&--c)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};lt.Animation=lt.extend(R,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),lt.Tween=z,z.prototype={constructor:z,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(lt.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,i,r)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=lt.isEmptyObject(e),o=lt.speed(t,n,i),a=function(){var t=R(this,lt.extend({},e),o);a.finish=function(){t.stop(!0)},(r||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=lt.timers,a=lt._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=lt.timers,a=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),r&&r.cur&&r.cur.finish&&r.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=z.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument;if(a)return n=a.documentElement,lt.contains(n,o)?(typeof o.getBoundingClientRect!==Y&&(r=o.getBoundingClientRect()),i=V(a),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=lt(e),s=a.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),u=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,c])>-1,d={},h={};u?(h=a.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||X.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||X.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(r){return lt.access(this,function(e,r,o){var a=V(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:(a?a.scrollTo(i?lt(a).scrollLeft():o,i?o:lt(a).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){lt.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return lt.access(this,function(n,i,r){var o;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?lt.css(n,i,s):lt.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})}(window),/* ===================================================
 * bootstrap-transition.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#transitions
 * ===================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),/* ==========================================================
 * bootstrap-affix.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#affix
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.bottom,s=o.top,l="affix affix-top affix-bottom";"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom()),t=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?r.top-i:null,this.$element.removeClass(l).addClass("affix"+(t?"-"+t:"")))}};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var i=e(this),r=i.data("affix"),o="object"==typeof n&&n;r||i.data("affix",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),/* ==========================================================
 * bootstrap-alert.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#alerts
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){i.trigger("closed").remove()}var i,r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),i=e(o),t&&t.preventDefault(),i.length||(i=r.hasClass("alert")?r:r.parent()),i.trigger(t=e.Event("close")),t.isDefaultPrevented()||(i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,n):n())};var i=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var i=e(this),r=i.data("alert");r||i.data("alert",r=new n(this)),"string"==typeof t&&r[t].call(i)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),/* ============================================================
 * bootstrap-button.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#buttons
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.data(),r=n.is("input")?"val":"html";e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var i=e(this),r=i.data("button"),o="object"==typeof n&&n;r||i.data("button",r=new t(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),/* ==========================================================
 * bootstrap-carousel.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#carousel
 * ==========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(t){var n=this.getActiveIndex(),i=this;if(!(t>this.$items.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var i,r=this.$element.find(".item.active"),o=n||r[t](),a=this.interval,s="next"==t?"left":"right",l="next"==t?"first":"last",c=this;if(this.sliding=!0,a&&this.pause(),o=o.length?o:this.$element.find(".item")[l](),i=e.Event("slide",{relatedTarget:o[0],direction:s}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(c.$indicators.children()[c.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),this.$element.one(e.support.transition.end,function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return a&&this.cycle(),this}}};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var i=e(this),r=i.data("carousel"),o=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),a="string"==typeof n?n:o.slide;r||i.data("carousel",r=new t(this,o)),"number"==typeof n?r.to(n):a?r[a]():o.interval&&r.pause().cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n,i,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),a=e.extend({},o.data(),r.data());o.carousel(a),(i=r.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),t.preventDefault()})}(window.jQuery),/* =============================================================
 * bootstrap-collapse.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#collapse
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,i,r;if(!this.transitioning&&!this.$element.hasClass("in")){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(r=i.data("collapse"),r&&r.transitioning)return;i.collapse("hide"),r||i.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;!this.transitioning&&this.$element.hasClass("in")&&(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,i){var r=this,o=function(){"show"==n.type&&r.reset(),r.transitioning=0,r.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var i=e(this),r=i.data("collapse"),o=e.extend({},e.fn.collapse.defaults,i.data(),"object"==typeof n&&n);r||i.data("collapse",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,i=e(this),r=i.attr("data-target")||t.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(r).collapse(o)})}(window.jQuery),/* ============================================================
 * bootstrap-dropdown.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#dropdowns
 * ============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";function t(){e(".dropdown-backdrop").remove(),e(i).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,i=t.attr("data-target");return i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&e(i),n&&n.length||(n=t.parent()),n}var i="[data-toggle=dropdown]",r=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};r.prototype={constructor:r,toggle:function(){var i,r,o=e(this);if(!o.is(".disabled, :disabled"))return i=n(o),r=i.hasClass("open"),t(),r||("ontouchstart"in document.documentElement&&e('<div class="dropdown-backdrop"/>').insertBefore(e(this)).on("click",t),i.toggleClass("open")),o.focus(),!1},keydown:function(t){var r,o,a,s,l;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(a=n(r),s=a.hasClass("open"),!s||s&&27==t.keyCode)return 27==t.which&&a.find(i).focus(),r.click();o=e("[role=menu] li:not(.divider):visible a",a),o.length&&(l=o.index(o.filter(":focus")),38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus())}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.dropdown.data-api",t).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",i,r.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",r.prototype.keydown)}(window.jQuery),/* =========================================================
 * bootstrap-modal.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#modals
 * =========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var i=e(this),r=i.data("modal"),o=e.extend({},e.fn.modal.defaults,i.data(),"object"==typeof n&&n);r||i.data("modal",r=new t(this,o)),"string"==typeof n?r[n]():o.show&&r.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),i=n.attr("href"),r=e(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),n.data());t.preventDefault(),r.modal(o).one("hide",function(){n.focus()})})}(window.jQuery),/* =============================================================
 * bootstrap-scrollspy.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#scrollspy
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================== */
!function(e){"use strict";function t(t,n){var i,r=e.proxy(this.process,this),o=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=o.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(i=e(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),i=t.data("target")||t.attr("href"),r=/^#\w/.test(i)&&e(i);return r&&r.length&&[[r.position().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(t>=i)return a!=(e=o.last()[0])&&this.activate(e);for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(!r[e+1]||t<=r[e+1])&&this.activate(o[e])},activate:function(t){var n,i;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var i=e(this),r=i.data("scrollspy"),o="object"==typeof n&&n;r||i.data("scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),/* ========================================================
 * bootstrap-tab.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tabs
 * ========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================== */
!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,i,r=this.element,o=r.closest("ul:not(.dropdown-menu)"),a=r.attr("data-target");a||(a=r.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),r.parent("li").hasClass("active")||(t=o.find(".active:last a")[0],i=e.Event("show",{relatedTarget:t}),r.trigger(i),i.isDefaultPrevented()||(n=e(a),this.activate(r.parent("li"),o),this.activate(n,n.parent(),function(){r.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),a?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&e.support.transition&&o.hasClass("fade");a?o.one(e.support.transition.end,r):r(),o.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var i=e(this),r=i.data("tab");r||i.data("tab",r=new t(this)),"string"==typeof n&&r[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),/* ===========================================================
 * bootstrap-tooltip.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#tooltips
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,i){var r,o,a,s,l;for(this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.enabled=!0,a=this.options.trigger.split(" "),l=a.length;l--;)s=a[l],"click"==s?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=s&&(r="hover"==s?"mouseenter":"focus",o="hover"==s?"mouseleave":"blur",this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n,i=e.fn[this.type].defaults,r={};return this._options&&e.each(this._options,function(e,t){i[e]!=t&&(r[e]=t)},this),n=e(t.currentTarget)[this.type](r).data(this.type),n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var t,n,i,r,o,a,s=e.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),i=t[0].offsetWidth,r=t[0].offsetHeight,o){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-r/2,left:n.left+n.width}}this.applyPlacement(a,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n,i,r,o,a=this.tip(),s=a[0].offsetWidth,l=a[0].offsetHeight;a.offset(e).addClass(t).addClass("in"),n=a[0].offsetWidth,i=a[0].offsetHeight,"top"==t&&i!=l&&(e.top=e.top+l-i,o=!0),"bottom"==t||"top"==t?(r=0,e.left<0&&(r=-2*e.left,e.left=0,a.offset(e),n=a[0].offsetWidth,i=a[0].offsetHeight),this.replaceArrow(r-s+n,n,"left")):this.replaceArrow(i-l,i,"top"),o&&a.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip(),i=e.Event("hide");return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this.$element.trigger("hidden"),this)},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var i=e(this),r=i.data("tooltip"),o="object"==typeof n&&n;r||i.data("tooltip",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),/* ===========================================================
 * bootstrap-popover.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#popovers
 * ===========================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================================================== */
!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=("function"==typeof n.content?n.content.call(t[0]):n.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var i=e(this),r=i.data("popover"),o="object"==typeof n&&n;r||i.data("popover",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),/* =============================================================
 * bootstrap-typeahead.js v2.3.2
 * http://twitter.github.com/bootstrap/javascript.html#typeahead
 * =============================================================
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================ */
!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=e(this.options.menu),this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:t.top+t.height,left:t.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,i){return t=e(n.options.item).attr("data-value",i),t.find("a").html(n.highlighter(i)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",e.proxy(this.focus,this)).on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this)).on("mouseleave","li",e.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(){this.focused=!0},blur:function(){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(t){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")},mouseleave:function(){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var n=e.fn.typeahead;e.fn.typeahead=function(n){return this.each(function(){var i=e(this),r=i.data("typeahead"),o="object"==typeof n&&n;r||i.data("typeahead",r=new t(this,o)),"string"==typeof n&&r[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this},e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(){var t=e(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),/* =========================================================
 * bootstrap-datepicker.js
 * http://www.eyecon.ro/bootstrap-datepicker
 * =========================================================
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
!function(e){function t(){return new Date(Date.UTC.apply(Date,arguments))}var n=function(t,n){var o=this;switch(this.element=e(t),this.language=n.language||this.element.data("date-language")||"en",this.language=this.language in i?this.language:this.language.split("-")[0],this.language=this.language in i?this.language:"en",this.isRTL=i[this.language].rtl||!1,this.format=r.parseFormat(n.format||this.element.data("date-format")||i[this.language].format||"mm/dd/yyyy"),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this._attachEvents(),this.forceParse=!0,"forceParse"in n?this.forceParse=n.forceParse:"dateForceParse"in this.element.data()&&(this.forceParse=this.element.data("date-force-parse")),this.picker=e(r.template).appendTo(this.isInline?this.element:"body").on({click:e.proxy(this.click,this),mousedown:e.proxy(this.mousedown,this)}),this.isInline?this.picker.addClass("datepicker-inline"):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.isRTL&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),e(document).on("mousedown",function(t){0===e(t.target).closest(".datepicker.datepicker-inline, .datepicker.datepicker-dropdown").length&&o.hide()}),this.autoclose=!1,"autoclose"in n?this.autoclose=n.autoclose:"dateAutoclose"in this.element.data()&&(this.autoclose=this.element.data("date-autoclose")),this.keyboardNavigation=!0,"keyboardNavigation"in n?this.keyboardNavigation=n.keyboardNavigation:"dateKeyboardNavigation"in this.element.data()&&(this.keyboardNavigation=this.element.data("date-keyboard-navigation")),this.viewMode=this.startViewMode=0,n.startView||this.element.data("date-start-view")){case 2:case"decade":this.viewMode=this.startViewMode=2;break;case 1:case"year":this.viewMode=this.startViewMode=1}this.todayBtn=n.todayBtn||this.element.data("date-today-btn")||!1,this.todayHighlight=n.todayHighlight||this.element.data("date-today-highlight")||!1,this.calendarWeeks=!1,"calendarWeeks"in n?this.calendarWeeks=n.calendarWeeks:"dateCalendarWeeks"in this.element.data()&&(this.calendarWeeks=this.element.data("date-calendar-weeks")),this.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this.weekStart=(n.weekStart||this.element.data("date-weekstart")||i[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.startDate=-1/0,this.endDate=1/0,this.daysOfWeekDisabled=[],this.setStartDate(n.startDate||this.element.data("date-startdate")),this.setEndDate(n.endDate||this.element.data("date-enddate")),this.setDaysOfWeekDisabled(n.daysOfWeekDisabled||this.element.data("date-days-of-week-disabled")),this.fillDow(),this.fillMonths(),this.update(),this.showMode(),this.isInline&&this.show()};n.prototype={constructor:n,_events:[],_attachEvents:function(){this._detachEvents(),this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]];for(var t,n,i=0;i<this._events.length;i++)t=this._events[i][0],n=this._events[i][1],t.on(n)},_detachEvents:function(){for(var e,t,n=0;n<this._events.length;n++)e=this._events[n][0],t=this._events[n][1],e.off(t);this._events=[]},show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.update(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),this.element.trigger({type:"show",date:this.date})},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this.element.trigger({type:"hide",date:this.date}))},remove:function(){this._detachEvents(),this.picker.remove(),delete this.element.data().datepicker},getDate:function(){var e=this.getUTCDate();return new Date(e.getTime()+6e4*e.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(e){this.setUTCDate(new Date(e.getTime()-6e4*e.getTimezoneOffset()))},setUTCDate:function(e){this.date=e,this.setValue()},setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e):(this.component&&this.element.find("input").val(e),this.element.data("date",e))},getFormattedDate:function(e){return void 0===e&&(e=this.format),r.formatDate(this.date,e,this.language)},setStartDate:function(e){this.startDate=e||-1/0,this.startDate!==-1/0&&(this.startDate=r.parseDate(this.startDate,this.format,this.language)),this.update(),this.updateNavArrows()},setEndDate:function(e){this.endDate=e||1/0,1/0!==this.endDate&&(this.endDate=r.parseDate(this.endDate,this.format,this.language)),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this.daysOfWeekDisabled=t||[],e.isArray(this.daysOfWeekDisabled)||(this.daysOfWeekDisabled=this.daysOfWeekDisabled.split(/,\s*/)),this.daysOfWeekDisabled=e.map(this.daysOfWeekDisabled,function(e){return parseInt(e,10)}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=e(this).css("z-index")}).first().css("z-index"))+10,n=this.component?this.component.offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:n.top+i,left:n.left,zIndex:t})}},update:function(){var e,t=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(e=arguments[0],t=!0):e=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),this.date=r.parseDate(e,this.format,this.language),t&&this.setValue(),this.viewDate=this.date<this.startDate?new Date(this.startDate):this.date>this.endDate?new Date(this.endDate):new Date(this.date),this.fill()},fillDow:function(){var e=this.weekStart,t="<tr>";if(this.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.weekStart+7;)t+='<th class="dow">'+i[this.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+i[this.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},fill:function(){var n=new Date(this.viewDate),o=n.getUTCFullYear(),a=n.getUTCMonth(),s=this.startDate!==-1/0?this.startDate.getUTCFullYear():-1/0,l=this.startDate!==-1/0?this.startDate.getUTCMonth():-1/0,c=1/0!==this.endDate?this.endDate.getUTCFullYear():1/0,u=1/0!==this.endDate?this.endDate.getUTCMonth():1/0,d=this.date&&this.date.valueOf(),h=new Date;this.picker.find(".datepicker-days thead th.switch").text(i[this.language].months[a]+" "+o),this.picker.find("tfoot th.today").text(i[this.language].today).toggle(this.todayBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=t(o,a-1,28,0,0,0,0),f=r.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(f),p.setUTCDate(f-(p.getUTCDay()-this.weekStart+7)%7);var g=new Date(p);g.setUTCDate(g.getUTCDate()+42),g=g.valueOf();for(var m,v=[];p.valueOf()<g;){if(p.getUTCDay()==this.weekStart&&(v.push("<tr>"),this.calendarWeeks)){var y=new Date(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()-p.getDay()+10-(this.weekStart&&this.weekStart%7<5&&7)),b=new Date(y.getFullYear(),0,4),$=~~((y-b)/864e5/7+1.5);v.push('<td class="cw">'+$+"</td>")}m="",p.getUTCFullYear()<o||p.getUTCFullYear()==o&&p.getUTCMonth()<a?m+=" old":(p.getUTCFullYear()>o||p.getUTCFullYear()==o&&p.getUTCMonth()>a)&&(m+=" new"),this.todayHighlight&&p.getUTCFullYear()==h.getFullYear()&&p.getUTCMonth()==h.getMonth()&&p.getUTCDate()==h.getDate()&&(m+=" today"),d&&p.valueOf()==d&&(m+=" active"),(p.valueOf()<this.startDate||p.valueOf()>this.endDate||-1!==e.inArray(p.getUTCDay(),this.daysOfWeekDisabled))&&(m+=" disabled"),v.push('<td class="day'+m+'">'+p.getUTCDate()+"</td>"),p.getUTCDay()==this.weekEnd&&v.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(v.join(""));var w=this.date&&this.date.getUTCFullYear(),x=this.picker.find(".datepicker-months").find("th:eq(1)").text(o).end().find("span").removeClass("active");w&&w==o&&x.eq(this.date.getUTCMonth()).addClass("active"),(s>o||o>c)&&x.addClass("disabled"),o==s&&x.slice(0,l).addClass("disabled"),o==c&&x.slice(u+1).addClass("disabled"),v="",o=10*parseInt(o/10,10);var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(o+"-"+(o+9)).end().find("td");o-=1;for(var k=-1;11>k;k++)v+='<span class="year'+(-1==k||10==k?" old":"")+(w==o?" active":"")+(s>o||o>c?" disabled":"")+'">'+o+"</span>",o+=1;C.html(v)},updateNavArrows:function(){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()&&n<=this.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()&&n>=this.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.startDate!==-1/0&&t<=this.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.endDate&&t>=this.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(n){n.stopPropagation(),n.preventDefault();var i=e(n.target).closest("span, td, th");if(1==i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"switch":this.showMode(1);break;case"prev":case"next":var o=r.modes[this.viewMode].navStep*("prev"==i[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o)}this.fill();break;case"today":var a=new Date;a=t(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var s="linked"==this.todayBtn?null:"view";this._setDate(a,s)}break;case"span":if(!i.is(".disabled")){if(this.viewDate.setUTCDate(1),i.is(".month")){var l=i.parent().find("span").index(i);this.viewDate.setUTCMonth(l),this.element.trigger({type:"changeMonth",date:this.viewDate})}else{var c=parseInt(i.text(),10)||0;this.viewDate.setUTCFullYear(c),this.element.trigger({type:"changeYear",date:this.viewDate})}this.showMode(-1),this.fill()}break;case"td":if(i.is(".day")&&!i.is(".disabled")){var u=parseInt(i.text(),10)||1,c=this.viewDate.getUTCFullYear(),l=this.viewDate.getUTCMonth();i.is(".old")?0===l?(l=11,c-=1):l-=1:i.is(".new")&&(11==l?(l=0,c+=1):l+=1),this._setDate(t(c,l,u,0,0,0,0))}}},_setDate:function(e,t){t&&"date"!=t||(this.date=e),t&&"view"!=t||(this.viewDate=e),this.fill(),this.setValue(),this.element.trigger({type:"changeDate",date:this.date});var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&(n.change(),!this.autoclose||t&&"date"!=t||this.hide())},moveMonth:function(e,t){if(!t)return e;var n,i,r=new Date(e.valueOf()),o=r.getUTCDate(),a=r.getUTCMonth(),s=Math.abs(t);if(t=t>0?1:-1,1==s)i=-1==t?function(){return r.getUTCMonth()==a}:function(){return r.getUTCMonth()!=n},n=a+t,r.setUTCMonth(n),(0>n||n>11)&&(n=(n+12)%12);else{for(var l=0;s>l;l++)r=this.moveMonth(r,t);n=r.getUTCMonth(),r.setUTCDate(o),i=function(){return n!=r.getUTCMonth()}}for(;i();)r.setUTCDate(--o),r.setUTCMonth(n);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.startDate&&e<=this.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return 27==e.keyCode&&this.show(),void 0;var t,n,i,r=!1;switch(e.keyCode){case 27:this.hide(),e.preventDefault();break;case 37:case 39:if(!this.keyboardNavigation)break;t=37==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 38:case 40:if(!this.keyboardNavigation)break;t=38==e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.date,t),i=this.moveYear(this.viewDate,t)):e.shiftKey?(n=this.moveMonth(this.date,t),i=this.moveMonth(this.viewDate,t)):(n=new Date(this.date),n.setUTCDate(this.date.getUTCDate()+7*t),i=new Date(this.viewDate),i.setUTCDate(this.viewDate.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.date=n,this.viewDate=i,this.setValue(),this.update(),e.preventDefault(),r=!0);break;case 13:this.hide(),e.preventDefault();break;case 9:this.hide()}if(r){this.element.trigger({type:"changeDate",date:this.date});var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(0,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}},e.fn.datepicker=function(t){var i=Array.apply(null,arguments);return i.shift(),this.each(function(){var r=e(this),o=r.data("datepicker"),a="object"==typeof t&&t;o||r.data("datepicker",o=new n(this,e.extend({},e.fn.datepicker.defaults,a))),"string"==typeof t&&"function"==typeof o[t]&&o[t].apply(o,i)})},e.fn.datepicker.defaults={},e.fn.datepicker.Constructor=n;var i=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today"}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return 0===e%4&&0!==e%100||0===e%400},getDaysInMonth:function(e,t){return[31,r.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(r,o,a){if(r instanceof Date)return r;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(r)){var s,l,c=/([\-+]\d+)([dmwy])/,u=r.match(/([\-+]\d+)([dmwy])/g);r=new Date;for(var d=0;d<u.length;d++)switch(s=c.exec(u[d]),l=parseInt(s[1]),s[2]){case"d":r.setUTCDate(r.getUTCDate()+l);break;case"m":r=n.prototype.moveMonth.call(n.prototype,r,l);break;case"w":r.setUTCDate(r.getUTCDate()+7*l);break;case"y":r=n.prototype.moveYear.call(n.prototype,r,l)}return t(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),0,0,0)}var h,p,s,u=r&&r.match(this.nonpunctuation)||[],r=new Date,f={},g=["yyyy","yy","M","MM","m","mm","d","dd"],m={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!=t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};m.M=m.MM=m.mm=m.m,m.dd=m.d,r=t(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0);var v=o.parts.slice();if(u.length!=v.length&&(v=e(v).filter(function(t,n){return-1!==e.inArray(n,g)}).toArray()),u.length==v.length){for(var d=0,y=v.length;y>d;d++){if(h=parseInt(u[d],10),s=v[d],isNaN(h))switch(s){case"MM":p=e(i[a].months).filter(function(){var e=this.slice(0,u[d].length),t=u[d].slice(0,e.length);return e==t}),h=e.inArray(p[0],i[a].months)+1;break;case"M":p=e(i[a].monthsShort).filter(function(){var e=this.slice(0,u[d].length),t=u[d].slice(0,e.length);return e==t}),h=e.inArray(p[0],i[a].monthsShort)+1}f[s]=h}for(var b,d=0;d<g.length;d++)b=g[d],b in f&&!isNaN(f[b])&&m[b](r,f[b])}return r},formatDate:function(t,n,r){var o={d:t.getUTCDate(),D:i[r].daysShort[t.getUTCDay()],DD:i[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:i[r].monthsShort[t.getUTCMonth()],MM:i[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};o.dd=(o.d<10?"0":"")+o.d,o.mm=(o.m<10?"0":"")+o.m;for(var t=[],a=e.extend([],n.separators),s=0,l=n.parts.length;l>s;s++)a.length&&t.push(a.shift()),t.push(o[n.parts[s]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=r}(window.jQuery),/*
Copyright 2012 Igor Vaynberg

Version: 3.3.2 Timestamp: Mon Mar 25 12:14:18 PDT 2013

This software is licensed under the Apache License, Version 2.0 (the "Apache License") or the GNU
General Public License version 2 (the "GPL License"). You may choose either license to govern your
use of this software only upon the condition that you accept all of the terms of either the Apache
License or the GPL License.

You may obtain a copy of the Apache License and the GPL License at:

    http://www.apache.org/licenses/LICENSE-2.0
    http://www.gnu.org/licenses/gpl-2.0.html

Unless required by applicable law or agreed to in writing, software distributed under the
Apache License or the GPL Licesnse is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the Apache License and the GPL License for
the specific language governing permissions and limitations under the Apache License and the GPL License.
*/
function(e){"undefined"==typeof e.fn.each2&&e.fn.extend({each2:function(t){for(var n=e([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){"use strict";function n(e,t){for(var n=0,r=t.length;r>n;n+=1)if(i(e,t[n]))return n;return-1}function i(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function r(t,n){var i,r,o;if(null===t||t.length<1)return[];for(i=t.split(n),r=0,o=i.length;o>r;r+=1)i[r]=e.trim(i[r]);return i}function o(e){return e.outerWidth(!1)-e.width()}function a(n){var i="keyup-change-value";n.bind("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.bind("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function s(n){n.bind("mousemove",function(n){var i=M;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function l(e,n,i){i=i||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function c(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function u(e,t){var i=l(e,function(e){t.trigger("scroll-debounced",e)});t.bind("scroll",function(e){n(e.target,t.get())>=0&&i(e)})}function d(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function h(e){e.preventDefault(),e.stopPropagation()}function p(e){e.preventDefault(),e.stopImmediatePropagation()}function f(t){if(!A){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);A=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),A.attr("class","select2-sizer"),e("body").append(A)}return A.text(t.val()),A.width()}function g(t,n,i){var r,o,a=[];r=t.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),r=n.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(this))})),t.attr("class",a.join(" "))}function m(e,t,n,i){var r=e.toUpperCase().indexOf(t.toUpperCase()),o=t.length;return 0>r?(n.push(i(e)),void 0):(n.push(i(e.substring(0,r))),n.push("<span class='select2-match'>"),n.push(i(e.substring(r,r+o))),n.push("</span>"),n.push(i(e.substring(r+o,e.length))),void 0)}function v(t){var n,i=0,r=null,o=t.quietMillis||100,a=t.url,s=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,o=t.data,c=a,u=t.transport||e.ajax,d=t.type||"GET",h={};o=o?o.call(s,l.term,l.page,l.context):null,c="function"==typeof c?c.call(s,l.term,l.page,l.context):c,null!==r&&r.abort(),t.params&&(e.isFunction(t.params)?e.extend(h,t.params.call(s)):e.extend(h,t.params)),e.extend(h,{url:c,dataType:t.dataType,data:o,type:d,cache:!1,success:function(e){if(!(i>n)){var r=t.results(e,l.page);l.callback(r)}}}),r=u.call(s,h)},o)}}function y(t){var n,i,r=t,o=function(e){return""+e.text};e.isArray(r)&&(i=r,r={results:i}),e.isFunction(r)===!1&&(i=r,r=function(){return i});var a=r();return a.text&&(o=a.text,e.isFunction(o)||(n=r.text,o=function(e){return e[n]})),function(t){var n,i=t.term,a={results:[]};return""===i?(t.callback(r()),void 0):(n=function(r,a){var s,l;if(r=r[0],r.children){s={};for(l in r)r.hasOwnProperty(l)&&(s[l]=r[l]);s.children=[],e(r.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(i,o(s),r))&&a.push(s)}else t.matcher(i,o(r),r)&&a.push(r)},e(r().results).each2(function(e,t){n(t,a.results)}),t.callback(a),void 0)}}function b(n){var i=e.isFunction(n);return function(r){var o=r.term,a={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||r.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),r.callback(a)}}function $(t){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error("formatterName must be a function or a falsy value")}function w(t){return e.isFunction(t)?t():t}function x(t){var n=0;return e.each(t,function(e,t){t.children?n+=x(t.children):n++}),n}function C(e,n,r,o){var a,s,l,c,u,d=e,h=!1;if(!o.createSearchChoice||!o.tokenSeparators||o.tokenSeparators.length<1)return t;for(;;){for(s=-1,l=0,c=o.tokenSeparators.length;c>l&&(u=o.tokenSeparators[l],s=e.indexOf(u),!(s>=0));l++);if(0>s)break;if(a=e.substring(0,s),e=e.substring(s+u.length),a.length>0&&(a=o.createSearchChoice(a,n),a!==t&&null!==a&&o.id(a)!==t&&null!==o.id(a))){for(h=!1,l=0,c=n.length;c>l;l++)if(i(o.id(a),o.id(n[l]))){h=!0;break}h||r(a)}}return d!==e?e:void 0}function k(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var S,T,_,E,D,A,M,N;S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case S.SHIFT:case S.CTRL:case S.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},N=e(document),D=function(){var e=1;return function(){return e++}}(),N.bind("mousemove",function(e){M={x:e.pageX,y:e.pageY}}),T=k(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,r,o=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(w(n.containerCss)),this.container.addClass(w(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){e(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(w(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(o),this.search=r=this.container.find("input.select2-input"),r.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),s(this.results),this.dropdown.delegate(o,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),e.fn.mousewheel&&i.mousewheel(function(e,t,n,r){var o=i.scrollTop();r>0&&0>=o-r?(i.scrollTop(0),h(e)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),h(e))}),a(r),r.bind("keyup-change input paste",this.bind(this.updateResults)),r.bind("focus",function(){r.addClass("select2-focused")}),r.bind("blur",function(){r.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.bind("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var e=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),e!==t&&(e.container.remove(),e.dropdown.remove(),e.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(n){var o,a,s,l;if(o=n.element,"select"===o.get(0).tagName.toLowerCase()&&(this.select=a=n.element),a&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,r,o){var a,s=this.opts.id,l=this;a=function(i,r,c){var u,d,h,p,f,g,m,v,y,b;for(i=n.sortResults(i,r,o),u=0,d=i.length;d>u;u+=1)h=i[u],f=h.disabled===!0,p=!f&&s(h)!==t,g=h.children&&h.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+c),m.addClass("select2-result"),m.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(h)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(h,v,o,l.opts.escapeMarkup),b!==t&&v.html(b),m.append(v),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),a(h.children,y,c+1),m.append(y)),m.data("select2-data",h),r.append(m)},a(r,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(a?(n.query=this.bind(function(n){var r,a,s,l={results:[],more:!1},c=n.term;s=function(e,t){var r;e.is("option")?n.matcher(c,e.text(),e)&&t.push({id:e.attr("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:i(e.attr("disabled"),"disabled")}):e.is("optgroup")&&(r={text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")},e.children().each2(function(e,t){s(t,r.children)}),r.children.length>0&&t.push(r))},r=o.children(),this.getPlaceholder()!==t&&r.length>0&&(a=r[0],""===e(a).text()&&(r=r.not(a))),r.each2(function(e,t){s(t,l.results)}),n.callback(l)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=v.call(n.element,n.ajax)):"data"in n?n.query=y(n.data):"tags"in n&&(n.query=b(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(e){return{id:e,text:e}}),n.initSelection===t&&(n.initSelection=function(t,o){var a=[];e(r(t.val(),n.separator)).each(function(){var t=this,r=this,o=n.tags;e.isFunction(o)&&(o=o()),e(o).each(function(){return i(this.id,t)?(r=this.text,!1):void 0}),a.push({id:t,text:r})}),o(a)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,t=this.opts.element;t.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e,t;e="disabled"!==this.opts.element.attr("disabled"),t="readonly"===this.opts.element.attr("readonly"),e=e&&!t,this.enabled!==e&&(e?this.enable():this.disable()),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(w(this.opts.containerCssClass)),g(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(w(this.opts.dropdownCssClass))}),t.bind("propertychange.select2 DOMAttrModified.select2",e),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(t){t.forEach(e)}),this.propertyObserver.observe(t.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,r=this.container.offset(),o=this.container.outerHeight(!1),a=this.container.outerWidth(!1),s=this.dropdown.outerHeight(!1),l=e(window).scrollLeft()+e(window).width(),c=e(window).scrollTop()+e(window).height(),u=r.top+o,d=r.left,h=c>=u+s,p=r.top-s>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),g=l>=d+f,m=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(t=this.body().offset(),u-=t.top,d-=t.left),m?(n=!0,!p&&h&&(n=!1)):(n=!1,!h&&p&&(n=!0)),g||(d=r.left+a-f),n?(u=r.top-s,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=e.extend({top:u,left:d,width:a},w(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var t;return this.opened()?!1:(t=e.Event("opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function t(){return{width:Math.max(document.documentElement.scrollWidth,e(window).width()),height:Math.max(document.documentElement.scrollHeight,e(window).height())}}var n,i=this.containerId,r="scroll."+i,o="resize."+i,a="orientationchange."+i;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),n=e("#select2-drop-mask"),0==n.length&&(n=e(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.bind("mousedown touchstart",function(){var t,n=e("#select2-drop");n.length>0&&(t=n.data("select2"),t.opts.selectOnBlur&&t.selectHighlighted({noFocus:!0}),t.close())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(t()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var s=this;this.container.parents().add(window).each(function(){e(this).bind(o+" "+r+" "+a,function(){e("#select2-drop-mask").css(t()),s.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).unbind(n).unbind(i).unbind(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return w(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,i,r,o,a,s,l=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return l.scrollTop(0),void 0;t=this.findHighlightableChoices(),i=e(t[n]),r=i.offset().top+i.outerHeight(!0),n===t.length-1&&(s=l.find("li.select2-more-results"),s.length>0&&(r=s.offset().top+s.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),r>o&&l.scrollTop(l.scrollTop()+(r-o)),a=i.offset().top-l.offset().top,0>a&&"none"!=i.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var r=e(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var i,r,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),i=e(o[t]),i.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=i.data("select2-data"),r&&this.opts.element.trigger({type:"highlight",val:this.id(r),choice:r}),void 0)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:a}),r.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=e.context)})})))},tokenize:function(){},updateResults:function(n){function r(){c.scrollTop(0),l.removeClass("select2-active"),d.positionDropdown()}function o(e){c.html(e),r()}var a,s,l=this.search,c=this.results,u=this.opts,d=this,h=l.val(),p=e.data(this.container,"select2-last-term");if((n===!0||!p||!i(h,p))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(a=this.data(),e.isArray(a)&&a.length>=f&&$(u.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(f)+"</li>"),void 0;if(l.val().length<u.minimumInputLength)return $(u.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+u.formatInputTooShort(l.val(),u.minimumInputLength)+"</li>"):o(""),void 0;if(u.maximumInputLength&&l.val().length>u.maximumInputLength)return $(u.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+u.formatInputTooLong(l.val(),u.maximumInputLength)+"</li>"):o(""),void 0;u.formatSearching&&0===this.findHighlightableChoices().length&&o("<li class='select2-searching'>"+u.formatSearching()+"</li>"),l.addClass("select2-active"),s=this.tokenize(),s!=t&&null!=s&&l.val(s),this.resultsPage=1,u.query({element:u.element,term:l.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(a){var s;return this.opened()?(this.context=a.context===t?null:a.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(null,l.val(),a.results),s!==t&&null!==s&&d.id(s)!==t&&null!==d.id(s)&&0===e(a.results).filter(function(){return i(d.id(this),d.id(s))}).length&&a.results.unshift(s)),0===a.results.length&&$(u.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+u.formatNoMatches(l.val())+"</li>"),void 0):(c.empty(),d.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&$(u.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,n),r(),this.opts.element.trigger({type:"loaded",data:a}),void 0)):(this.search.removeClass("select2-active"),void 0)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){d(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(t),this.onSelect(i,e))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,r,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,a=i.length;a>o;o+=1)if(r=i[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),_=k(T,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),d(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var t,n=this.container,i=this.dropdown,r=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===S.PAGE_UP||e.which===S.PAGE_DOWN)return h(e),void 0;switch(e.which){case S.UP:case S.DOWN:return this.moveHighlight(e.which===S.UP?-1:1),h(e),void 0;case S.TAB:case S.ENTER:return this.selectHighlighted(),h(e),void 0;case S.ESC:return this.cancel(e),h(e),void 0}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(e){return!this.enabled||e.which===S.TAB||S.isControl(e)||S.isFunctionKey(e)||e.which===S.ESC?void 0:this.opts.openOnEnter===!1&&e.which===S.ENTER?(h(e),void 0):e.which==S.DOWN||e.which==S.UP||e.which==S.ENTER&&this.opts.openOnEnter?(this.open(),h(e),void 0):e.which==S.DELETE||e.which==S.BACKSPACE?(this.opts.allowClear&&this.clear(),h(e),void 0):void 0})),a(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(e){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),h(e))})),t.delegate("abbr","mousedown",this.bind(function(e){this.enabled&&(this.clear(),p(e),this.close(),this.selection.focus())})),t.bind("mousedown",this.bind(function(e){r=!0,this.opened()?this.close():this.enabled&&this.open(),h(e),r=!1})),i.bind("mousedown",this.bind(function(){this.search.focus()})),t.bind("focus",this.bind(function(e){h(e)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(e){var t=this.selection.data("select2-data");t&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),e!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(t,n){var i=t.find(":selected");e.isFunction(n)&&n({id:i.attr("value"),text:i.text(),element:i})}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var o=n.val(),a=null;t.query({matcher:function(e,n,r){var s=i(o,t.id(r));return s&&(a=r),s},callback:e.isFunction(r)?function(){r(a)}:e.noop})}),t},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(""===this.opts.element.val()&&e!==t){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(e,t,n){var r=0,o=this,a=!0;if(this.findHighlightableChoices().each2(function(e,t){return i(o.id(t.data("select2-data")),o.opts.element.val())?(r=e,!1):void 0}),n!==!1&&this.highlight(r),t===!0){var s=this.opts.minimumResultsForSearch;a=0>s?!1:x(e.results)>=s,this.showSearch(a)}},showSearch:function(t){this.showSearchInput=t,this.dropdown.find(".select2-search")[t?"removeClass":"addClass"]("select2-search-hidden"),e(this.dropdown,this.container)[t?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(e,t){var n=this.opts.element.val();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.close(),t&&t.noFocus||this.selection.focus(),i(n,this.id(e))||this.triggerChange()},updateSelection:function(e){var n,i=this.selection.find("span");this.selection.data("select2-data",e),i.empty(),n=this.opts.formatSelection(e,i),n!==t&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.selection.find("abbr").show()},val:function(){var e,n=!1,i=null,r=this;if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find(":selected").each2(function(e,t){return i={id:t.attr("value"),text:t.text(),element:t.get(0)},!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");if(!e&&0!==e)return this.clear(n),n&&this.triggerChange(),void 0;this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(e&&""!==e?(this.opts.element.val(e?this.id(e):""),this.updateSelection(e)):this.clear(),void 0)}}),E=k(T,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments);return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var n=[];e.find(":selected").each2(function(e,t){n.push({id:t.attr("value"),text:t.text(),element:t[0]})}),t(n)}:"data"in t&&(t.initSelection=t.initSelection||function(n,o){var a=r(n.val(),t.separator),s=[];t.query({matcher:function(n,r,o){var l=e.grep(a,function(e){return i(e,t.id(o))}).length;return l&&s.push(o),l},callback:e.isFunction(o)?function(){o(s)}:e.noop})}),t},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n),this.search.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(e){if(this.enabled){if(e.which===S.BACKSPACE&&""===this.search.val()){this.close();var n,i=t.find(".select2-search-choice-focus");if(i.length>0)return this.unselect(i.first()),this.search.width(10),h(e),void 0;n=t.find(".select2-search-choice:not(.select2-locked)"),n.length>0&&n.last().addClass("select2-search-choice-focus")}else t.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(e.which){case S.UP:case S.DOWN:return this.moveHighlight(e.which===S.UP?-1:1),h(e),void 0;case S.ENTER:case S.TAB:return this.selectHighlighted(),h(e),void 0;case S.ESC:return this.cancel(e),h(e),void 0}if(e.which!==S.TAB&&!S.isControl(e)&&!S.isFunctionKey(e)&&e.which!==S.BACKSPACE&&e.which!==S.ESC){if(e.which===S.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===S.PAGE_UP||e.which===S.PAGE_DOWN)&&h(e),e.which===S.ENTER&&h(e)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),e.stopImmediatePropagation()})),this.container.delegate(n,"mousedown",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.delegate(n,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;
this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(e.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var i=[],r=[],o=this;e(t).each(function(){n(o.id(this),i)<0&&(i.push(o.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer(e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r=!n.locked,o=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=e("<li class='select2-search-choice select2-locked'><div></div></li>"),s=r?o:a,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,s.find("div")),i!=t&&s.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>"),r&&s.find(".select2-search-choice-close").bind("mousedown",h).bind("click dblclick",this.bind(function(t){this.enabled&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),h(t))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),s.data("select2-data",n),s.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(e){var t,i,r=this.getVal();if(e=e.closest(".select2-search-choice"),0===e.length)throw"Invalid argument: "+e+". Must be .select2-search-choice";t=e.data("select2-data"),t&&(i=n(this.id(t),r),i>=0&&(r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults()),e.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(){var e=this.getVal(),t=this.results.find(".select2-result"),i=this.results.find(".select2-result-with-children"),r=this;t.each2(function(t,i){var o=r.id(i.data("select2-data"));n(o,e)>=0&&(i.addClass("select2-selected"),i.find(".select2-result-selectable").addClass("select2-selected"))}),i.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&r.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var e,t,n,i,r,a=o(this.search);e=f(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(t-i)-a,e>r&&(r=n-a),40>r&&(r=n-a),0>=r&&(r=e),this.search.width(r)},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),r(e,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],e(t).each(function(){n(this,i)<0&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var n,i=!1,r=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],arguments.length>1&&(i=arguments[1]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange(),void 0;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange();else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e(t).map(r.id);r.setVal(n),r.updateSelection(t),r.clearSearch(),i&&r.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t){var n,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(t||(t=[]),n=e.map(t,function(e){return i.opts.id(e)}),this.setVal(n),this.updateSelection(t),this.clearSearch(),void 0)}}),e.fn.select2=function(){var i,r,o,a,s=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===s.length||"object"==typeof s[0])i=0===s.length?{}:e.extend({},s[0]),i.element=e(this),"select"===i.element.get(0).tagName.toLowerCase()?a=i.element.attr("multiple"):(a=i.multiple||!1,"tags"in i&&(i.multiple=a=!0)),r=a?new E:new _,r.init(i);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(n(s[0],l)<0)throw"Unknown method: "+s[0];if(o=t,r=e(this).data("select2"),r===t)return;if(o="container"===s[0]?r.container:r[s[0]].apply(r,s.slice(1)),o!==t)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var r=[];return m(e.text,n.term,r,i),r.join("")},formatSelection:function(e){return e?e.text:t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return(""+t).toUpperCase().indexOf((""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:C,escapeMarkup:function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:y,tags:b},util:{debounce:l,markMatch:m},"class":{"abstract":T,single:_,multi:E}}}}(jQuery),function(e,t,n){"use strict";function i(e){return e&&"number"==typeof e.length?"function"!=typeof e.hasOwnProperty&&"function"!=typeof e.constructor?!0:e instanceof rt||Yn&&e instanceof Yn||"[object Object]"!==Zn.call(e)||"function"==typeof e.callee:!1}function r(e,t,n){var o;if(e)if(x(e))for(o in e)"prototype"!=o&&"length"!=o&&"name"!=o&&e.hasOwnProperty(o)&&t.call(n,e[o],o);else if(e.forEach&&e.forEach!==r)e.forEach(t,n);else if(i(e))for(o=0;o<e.length;o++)t.call(n,e[o],o);else for(o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o);return e}function o(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function a(e,t,n){for(var i=o(e),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){for(var e,t=ti.length;t;){if(t--,e=ti[t].charCodeAt(0),57==e)return ti[t]="A",ti.join("");if(90!=e)return ti[t]=String.fromCharCode(e+1),ti.join("");ti[t]="0"}return ti.unshift("0"),ti.join("")}function c(e){return r(arguments,function(t){t!==e&&r(t,function(t,n){e[n]=t})}),e}function u(e){return parseInt(e,10)}function d(e,t){return c(new(c(function(){},{prototype:e})),t)}function h(){}function p(e){return e}function f(e){return function(){return e}}function g(e){return"undefined"==typeof e}function m(e){return"undefined"!=typeof e}function v(e){return null!=e&&"object"==typeof e}function y(e){return"string"==typeof e}function b(e){return"number"==typeof e}function $(e){return"[object Date]"==Zn.apply(e)}function w(e){return"[object Array]"==Zn.apply(e)}function x(e){return"function"==typeof e}function C(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function k(e){return e&&e.$evalAsync&&e.$watch}function S(e){return"[object File]"===Zn.apply(e)}function T(e){return y(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function _(e){return e&&(e.nodeName||e.bind&&e.find)}function E(e,t,n){var i=[];return r(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i}function D(e,t){return-1!=A(e,t)}function A(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function M(e,t){var n=A(e,t);return n>=0&&e.splice(n,1),t}function N(e,t){if(C(e)||k(e))throw Error("Can't copy Window or Scope");if(t){if(e===t)throw Error("Can't copy equivalent objects or arrays");if(w(e)){t.length=0;for(var n=0;n<e.length;n++)t.push(N(e[n]))}else{r(t,function(e,n){delete t[n]});for(var i in e)t[i]=N(e[i])}}else t=e,e&&(w(e)?t=N(e,[]):$(e)?t=new Date(e.getTime()):v(e)&&(t=N(e,{})));return t}function I(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(t[n]=e[n]);return t}function P(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var i,r,o,a=typeof e,s=typeof t;if(a==s&&"object"==a){if(!w(e)){if($(e))return $(t)&&e.getTime()==t.getTime();if(k(e)||k(t)||C(e)||C(t))return!1;o={};for(r in e)if("$"!==r.charAt(0)&&!x(e[r])){if(!P(e[r],t[r]))return!1;o[r]=!0}for(r in t)if(!o[r]&&"$"!==r.charAt(0)&&t[r]!==n&&!x(t[r]))return!1;return!0}if((i=e.length)==t.length){for(r=0;i>r;r++)if(!P(e[r],t[r]))return!1;return!0}}return!1}function O(e,t,n){return e.concat(Gn.call(t,n))}function j(e,t){return Gn.call(e,t||0)}function F(e,t){var n=arguments.length>2?j(arguments,2):[];return!x(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Gn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,i){var r=i;return/^\$+/.test(e)?r=n:C(i)?r="$WINDOW":i&&t===i?r="$DOCUMENT":k(i)&&(r="$SCOPE"),r}function R(e,t){return JSON.stringify(e,q,t?"  ":null)}function U(e){return y(e)?JSON.parse(e):e}function L(e){if(e&&0!==e.length){var t=zn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function z(e){e=Wn(e).clone();try{e.html("")}catch(t){}var n=3,i=Wn("<div>").append(e).html();try{return e[0].nodeType===n?zn(i):i.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+zn(t)})}catch(t){return zn(i)}}function H(e){var t,n,i={};return r((e||"").split("&"),function(e){e&&(t=e.split("="),n=decodeURIComponent(t[0]),i[n]=m(t[1])?decodeURIComponent(t[1]):!0)}),i}function V(e){var t=[];return r(e,function(e,n){t.push(W(n,!0)+(e===!0?"":"="+W(e,!0)))}),t.length?t.join("&"):""}function B(e){return W(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function W(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function Y(e,n){function i(e){e&&s.push(e)}var o,a,s=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],c=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;r(l,function(n){l[n]=!0,i(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(r(e.querySelectorAll("."+n),i),r(e.querySelectorAll("."+n+"\\:"),i),r(e.querySelectorAll("["+n+"]"),i))}),r(s,function(e){if(!o){var t=" "+e.className+" ",n=c.exec(t);n?(o=e,a=(n[2]||"").replace(/\s+/g,",")):r(e.attributes,function(t){!o&&l[t.name]&&(o=e,a=t.value)})}}),o&&n(o,a?[a]:[])}function X(t,n){var i=function(){t=Wn(t),n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),n.unshift("ng");var e=Ct(n);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),e},o=/^NG_DEFER_BOOTSTRAP!/;return e&&!o.test(e.name)?i():(e.name=e.name.replace(o,""),ei.resumeBootstrap=function(e){r(e,function(e){n.push(e)}),i()},void 0)}function K(e,t){return t=t||"_",e.replace(ni,function(e,n){return(n?t:"")+e.toLowerCase()})}function Q(){Yn=e.jQuery,Yn?(Wn=Yn,c(Yn.fn,{scope:di.scope,controller:di.controller,injector:di.injector,inheritedData:di.inheritedData}),it("remove",!0),it("empty"),it("html")):Wn=rt,ei.element=Wn}function G(e,t,n){if(!e)throw new Error("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function J(e,t,n){return n&&w(e)&&(e=e[e.length-1]),G(x(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function Z(e){function t(e,t,n){return e[t]||(e[t]=n())}return t(t(e,"angular",Object),"module",function(){var e={};return function(n,i,r){return i&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,n,i){return function(){return t[i||"push"]([e,n,arguments]),s}}if(!i)throw Error("No module: "+n);var t=[],o=[],a=e("$injector","invoke"),s={_invokeQueue:t,_runBlocks:o,requires:i,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:a,run:function(e){return o.push(e),this}};return r&&a(r),s})}})}function et(t){c(t,{bootstrap:X,copy:N,extend:c,equals:P,element:Wn,forEach:r,injector:Ct,noop:h,bind:F,toJson:R,fromJson:U,identity:p,isUndefined:g,isDefined:m,isString:y,isFunction:x,isObject:v,isNumber:b,isElement:_,isArray:w,version:ii,isDate:$,lowercase:zn,uppercase:Hn,callbacks:{counter:0}}),Xn=Z(e);try{Xn("ngLocale")}catch(n){Xn("ngLocale",[]).provider("$locale",mn)}Xn("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",Dt).directive({a:Pi,input:Vi,textarea:Vi,form:qi,script:Tr,select:Er,style:Ar,option:Dr,ngBind:nr,ngBindHtmlUnsafe:rr,ngBindTemplate:ir,ngClass:or,ngClassEven:sr,ngClassOdd:ar,ngCsp:ur,ngCloak:lr,ngController:cr,ngForm:Ri,ngHide:br,ngInclude:pr,ngInit:fr,ngNonBindable:gr,ngPluralize:mr,ngRepeat:vr,ngShow:yr,ngSubmit:hr,ngStyle:$r,ngSwitch:wr,ngSwitchWhen:xr,ngSwitchDefault:Cr,ngOptions:_r,ngView:Sr,ngTransclude:kr,ngModel:Qi,ngList:Zi,ngChange:Gi,required:Ji,ngRequired:Ji,ngValue:tr}).directive(Oi).directive(dr),e.provider({$anchorScroll:kt,$browser:Tt,$cacheFactory:_t,$controller:Mt,$document:Nt,$exceptionHandler:It,$filter:yn,$interpolate:Pt,$http:pn,$httpBackend:fn,$location:Wt,$log:Yt,$parse:en,$route:rn,$routeParams:on,$rootScope:an,$q:tn,$sniffer:sn,$templateCache:Et,$timeout:vn,$window:ln})}])}function tt(){return++ai}function nt(e){return e.replace(ci,function(e,t,n,i){return i?n.toUpperCase():n}).replace(ui,"Moz$1")}function it(e,t){function n(){for(var e,n,r,o,a,s,l,c=[this],u=t;c.length;)for(e=c.shift(),n=0,r=e.length;r>n;n++)for(o=Wn(e[n]),u?o.triggerHandler("$destroy"):u=!u,a=0,s=(l=o.children()).length;s>a;a++)c.push(Yn(l[a]));return i.apply(this,arguments)}var i=Yn.fn[e];i=i.$original||i,n.$original=i,Yn.fn[e]=n}function rt(e){if(e instanceof rt)return e;if(!(this instanceof rt)){if(y(e)&&"<"!=e.charAt(0))throw Error("selectors not implemented");return new rt(e)}if(y(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),ft(this,n.childNodes),this.remove()}else ft(this,e)}function ot(e){return e.cloneNode(!0)}function at(e){lt(e);for(var t=0,n=e.childNodes||[];t<n.length;t++)at(n[t])}function st(e,t,n){var i=ct(e,"events"),o=ct(e,"handle");o&&(g(t)?r(i,function(t,n){li(e,n,t),delete i[n]}):g(n)?(li(e,t,i[t]),delete i[t]):M(i[t],n))}function lt(e){var t=e[oi],i=ri[t];i&&(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),st(e)),delete ri[t],e[oi]=n)}function ct(e,t,n){var i=e[oi],r=ri[i||-1];return m(n)?(r||(e[oi]=i=tt(),r=ri[i]={}),r[t]=n,void 0):r&&r[t]}function ut(e,t,n){var i=ct(e,"data"),r=m(n),o=!r&&m(t),a=o&&!v(t);if(i||a||ct(e,"data",i={}),r)i[t]=n;else{if(!o)return i;if(a)return i&&i[t];c(i,t)}}function dt(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function ht(e,t){t&&r(t.split(" "),function(t){e.className=T((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+T(t)+" "," "))})}function pt(e,t){t&&r(t.split(" "),function(t){dt(e,t)||(e.className=T(e.className+" "+T(t)))})}function ft(e,t){if(t){t=t.nodeName||!m(t.length)||C(t)?[t]:t;for(var n=0;n<t.length;n++)e.push(t[n])}}function gt(e,t){return mt(e,"$"+(t||"ngController")+"Controller")}function mt(e,t,n){for(e=Wn(e),9==e[0].nodeType&&(e=e.find("html"));e.length;){if(n=e.data(t))return n;e=e.parent()}}function vt(e,t){var n=hi[t.toLowerCase()];return n&&pi[e.nodeName]&&n}function yt(e,n){var i=function(i,o){if(i.preventDefault||(i.preventDefault=function(){i.returnValue=!1}),i.stopPropagation||(i.stopPropagation=function(){i.cancelBubble=!0}),i.target||(i.target=i.srcElement||t),g(i.defaultPrevented)){var a=i.preventDefault;i.preventDefault=function(){i.defaultPrevented=!0,a.call(i)},i.defaultPrevented=!1}i.isDefaultPrevented=function(){return i.defaultPrevented},r(n[o||i.type],function(t){t.call(e,i)}),8>=Qn?(i.preventDefault=null,i.stopPropagation=null,i.isDefaultPrevented=null):(delete i.preventDefault,delete i.stopPropagation,delete i.isDefaultPrevented)};return i.elem=e,i}function bt(e){var t,i=typeof e;return"object"==i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=l()):t=e,i+":"+t}function $t(e){r(e,this.put,this)}function wt(){}function xt(e){var t,n,i,o;return"function"==typeof e?(t=e.$inject)||(t=[],n=e.toString().replace(vi,""),i=n.match(fi),r(i[1].split(gi),function(e){e.replace(mi,function(e,n,i){t.push(i)})}),e.$inject=t):w(e)?(o=e.length-1,J(e[o],"fn"),t=e.slice(0,o)):J(e,"fn",!0),t}function Ct(e){function t(e){return function(t,n){return v(t)?(r(t,s(e)),void 0):e(t,n)}}function n(e,t){if((x(t)||w(t))&&(t=C.instantiate(t)),!t.$get)throw Error("Provider "+e+" must define $get factory method.");return $[e+g]=t}function i(e,t){return n(e,{$get:t})}function o(e,t){return i(e,["$injector",function(e){return e.instantiate(t)}])}function a(e,t){return i(e,f(t))}function l(e,t){$[e]=t,k[e]=t}function c(e,t){var n=C.get(e+g),i=n.$get;n.$get=function(){var e=S.invoke(i,n);return S.invoke(t,null,{$delegate:e})}}function u(e){var t=[];return r(e,function(e){if(!b.get(e))if(b.put(e,!0),y(e)){var n=Xn(e);t=t.concat(u(n.requires)).concat(n._runBlocks);try{for(var i=n._invokeQueue,r=0,o=i.length;o>r;r++){var a=i[r],s="$injector"==a[0]?C:C.get(a[0]);s[a[1]].apply(s,a[2])}}catch(l){throw l.message&&(l.message+=" from "+e),l}}else if(x(e))try{t.push(C.invoke(e))}catch(l){throw l.message&&(l.message+=" from "+e),l}else if(w(e))try{t.push(C.invoke(e))}catch(l){throw l.message&&(l.message+=" from "+String(e[e.length-1])),l}else J(e,"module")}),t}function d(e,t){function n(n){if("string"!=typeof n)throw Error("Service name expected");if(e.hasOwnProperty(n)){if(e[n]===p)throw Error("Circular dependency: "+m.join(" <- "));return e[n]}try{return m.unshift(n),e[n]=p,e[n]=t(n)}finally{m.shift()}}function i(e,t,i){var r,o,a,s=[],l=xt(e);for(o=0,r=l.length;r>o;o++)a=l[o],s.push(i&&i.hasOwnProperty(a)?i[a]:n(a));switch(e.$inject||(e=e[r]),t?-1:s.length){case 0:return e();case 1:return e(s[0]);case 2:return e(s[0],s[1]);case 3:return e(s[0],s[1],s[2]);case 4:return e(s[0],s[1],s[2],s[3]);case 5:return e(s[0],s[1],s[2],s[3],s[4]);case 6:return e(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6]);case 8:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7]);case 9:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8]);case 10:return e(s[0],s[1],s[2],s[3],s[4],s[5],s[6],s[7],s[8],s[9]);default:return e.apply(t,s)}}function r(e,t){var n,r,o=function(){};return o.prototype=(w(e)?e[e.length-1]:e).prototype,n=new o,r=i(e,n,t),v(r)?r:n}return{invoke:i,instantiate:r,get:n,annotate:xt}}var p={},g="Provider",m=[],b=new $t,$={$provide:{provider:t(n),factory:t(i),service:t(o),value:t(a),constant:t(l),decorator:c}},C=d($,function(){throw Error("Unknown provider: "+m.join(" <- "))}),k={},S=k.$injector=d(k,function(e){var t=C.get(e+g);return S.invoke(t.$get,t)});return r(u(e),function(e){S.invoke(e||h)}),S}function kt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function o(e){var t=null;return r(e,function(e){t||"a"!==zn(e.nodeName)||(t=e)}),t}function a(){var e,i=n.hash();i?(e=s.getElementById(i))?e.scrollIntoView():(e=o(s.getElementsByName(i)))?e.scrollIntoView():"top"===i&&t.scrollTo(0,0):t.scrollTo(0,0)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(){i.$evalAsync(a)}),a}]}function St(e,t,i,o){function a(e){try{e.apply(null,j(arguments,1))}finally{if(b--,0===b)for(;$.length;)try{$.pop()()}catch(t){i.error(t)}}}function s(e,t){!function n(){r(x,function(e){e()}),w=t(n,e)}()}function l(){C!=c.url()&&(C=c.url(),r(S,function(e){e(c.url())}))}var c=this,u=t[0],d=e.location,p=e.history,f=e.setTimeout,m=e.clearTimeout,v={};c.isMock=!1;var b=0,$=[];c.$$completeOutstandingRequest=a,c.$$incOutstandingRequestCount=function(){b++},c.notifyWhenNoOutstandingRequests=function(e){r(x,function(e){e()}),0===b?e():$.push(e)};var w,x=[];c.addPollFn=function(e){return g(w)&&s(100,f),x.push(e),e};var C=d.href,k=t.find("base");c.url=function(e,t){if(e){if(C==e)return;return C=e,o.history?t?p.replaceState(null,"",e):(p.pushState(null,"",e),k.attr("href",k.attr("href"))):t?d.replace(e):d.href=e,c}return d.href.replace(/%27/g,"'")};var S=[],T=!1;c.onUrlChange=function(t){return T||(o.history&&Wn(e).bind("popstate",l),o.hashchange?Wn(e).bind("hashchange",l):c.addPollFn(l),T=!0),S.push(t),t},c.baseHref=function(){var e=k.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var _={},E="",D=c.baseHref();c.cookies=function(e,t){var r,o,a,s,l;if(!e){if(u.cookie!==E)for(E=u.cookie,o=E.split("; "),_={},s=0;s<o.length;s++)a=o[s],l=a.indexOf("="),l>0&&(_[unescape(a.substring(0,l))]=unescape(a.substring(l+1)));return _}t===n?u.cookie=escape(e)+"=;path="+D+";expires=Thu, 01 Jan 1970 00:00:00 GMT":y(t)&&(r=(u.cookie=escape(e)+"="+escape(t)+";path="+D).length+1,r>4096&&i.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+r+" > 4096 bytes)!"))},c.defer=function(e,t){var n;return b++,n=f(function(){delete v[n],a(e)},t||0),v[n]=!0,n},c.defer.cancel=function(e){return v[e]?(delete v[e],m(e),a(h),!0):!1}}function Tt(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new St(e,i,t,n)}]}function _t(){this.$get=function(){function e(e,n){function i(e){e!=d&&(h?h==e&&(h=e.n):h=e,r(e.n,e.p),r(e,d),d=e,d.n=null)}function r(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw Error("cacheId "+e+" taken");var o=0,a=c({},n,{id:e}),s={},l=n&&n.capacity||Number.MAX_VALUE,u={},d=null,h=null;return t[e]={put:function(e,t){var n=u[e]||(u[e]={key:e});i(n),g(t)||(e in s||o++,s[e]=t,o>l&&this.remove(h.key))},get:function(e){var t=u[e];if(t)return i(t),s[e]},remove:function(e){var t=u[e];t&&(t==d&&(d=t.p),t==h&&(h=t.n),r(t.n,t.p),delete u[e],delete s[e],o--)},removeAll:function(){s={},o=0,u={},d=h=null},destroy:function(){s=null,a=null,u=null,delete t[e]},info:function(){return c({},a,{size:o})}}}var t={};return e.info=function(){var e={};return r(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Et(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Dt(e){var i={},o="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,l=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u="Template must have exactly one root element. was: ",d=/^\s*(https?|ftp|mailto|file):/;this.directive=function h(t,n){return y(t)?(G(n,"directive"),i.hasOwnProperty(t)||(i[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var o=[];return r(i[t],function(i){try{var r=e.invoke(i);x(r)?r={compile:f(r)}:!r.compile&&r.link&&(r.compile=f(r.link)),r.priority=r.priority||0,r.name=r.name||t,r.require=r.require||r.controller&&r.name,r.restrict=r.restrict||"A",o.push(r)}catch(a){n(a)}}),o}])),i[t].push(n)):r(t,s(h)),this},this.urlSanitizationWhitelist=function(e){return m(e)?(d=e,this):d},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(e,s,h,g,m,b,$,C,k){function S(e,t,n){e instanceof Wn||(e=Wn(e)),r(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=Wn(t).wrap("<span></span>").parent()[0])});var i=E(e,t,e,n);return function(t,n){G(t,"scope");for(var r=n?di.clone.call(e):e,o=0,a=r.length;a>o;o++){var s=r[o];(1==s.nodeType||9==s.nodeType)&&r.eq(o).data("$scope",t)}return _(r,"ng-scope"),n&&n(r,t),i&&i(t,r,r),r}}function _(e,t){try{e.addClass(t)}catch(n){}}function E(e,t,i,r){function o(e,i,r,o){var a,s,l,c,u,h,p,f,g=[];for(h=0,p=i.length;p>h;h++)g.push(i[h]);for(h=0,f=0,p=d.length;p>h;f++)l=g[f],a=d[h++],s=d[h++],a?(a.scope?(c=e.$new(v(a.scope)),Wn(l).data("$scope",c)):c=e,u=a.transclude,u||!o&&t?a(s,c,l,r,function(t){return function(n){var i=e.$new();return i.$$transcluded=!0,t(i,n).bind("$destroy",F(i,i.$destroy))}}(u||t)):a(s,c,l,n,o)):s&&s(e,l.childNodes,n,o)}for(var a,s,l,c,u,d=[],h=0;h<e.length;h++)c=new L,l=D(e[h],[],c,r),a=l.length?A(l,e[h],c,t,i):null,s=a&&a.terminal||!e[h].childNodes||!e[h].childNodes.length?null:E(e[h].childNodes,a?a.transclude:t),d.push(a),d.push(s),u=u||a||s;return u?o:null}function D(e,t,n,i){var r,o,s=e.nodeType,c=n.$attr;switch(s){case 1:M(t,At(Kn(e).toLowerCase()),"E",i);for(var u,d,h,p,f=e.attributes,g=0,m=f&&f.length;m>g;g++)u=f[g],u.specified&&(d=u.name,h=At(d.toLowerCase()),c[h]=d,n[h]=p=T(Qn&&"href"==d?decodeURIComponent(e.getAttribute(d,2)):u.value),vt(e,h)&&(n[h]=!0),R(e,t,p,h),M(t,h,"A",i));if(o=e.className,y(o)&&""!==o)for(;r=l.exec(o);)h=At(r[2]),M(t,h,"C",i)&&(n[h]=T(r[3])),o=o.substr(r.index+r[0].length);break;case 3:q(t,e.nodeValue);break;case 8:try{r=a.exec(e.nodeValue),r&&(h=At(r[1]),M(t,h,"M",i)&&(n[h]=T(r[2])))}catch(v){}}return t.sort(O),t}function A(e,i,o,a,s){function l(e,t){e&&(e.require=p.require,M.push(e)),t&&(t.require=p.require,O.push(t))}function c(e,t){var n,i="data",o=!1;if(y(e)){for(;"^"==(n=e.charAt(0))||"?"==n;)e=e.substr(1),"^"==n&&(i="inheritedData"),o=o||"?"==n;if(n=t[i]("$"+e+"Controller"),!n&&!o)throw Error("No controller: "+e);return n}return w(e)&&(n=[],r(e,function(e){n.push(c(e,t))})),n}function d(e,t,a,s,l){var u,d,p,f,g,m;if(u=i===a?o:I(o,new L(Wn(a),o.$attr)),d=u.$$element,q){var v=/^\s*([@=&])\s*(\w*)\s*$/,y=t.$parent||t;r(q.scope,function(e,n){var i,r,o,a=e.match(v)||[],s=a[2]||n,l=a[1];switch(t.$$isolateBindings[n]=l+s,l){case"@":u.$observe(s,function(e){t[n]=e}),u.$$observers[s].$$scope=y;break;case"=":r=b(u[s]),o=r.assign||function(){throw i=t[n]=r(y),Error(yi+u[s]+" (directive: "+q.name+")")},i=t[n]=r(y),t.$watch(function(){var e=r(y);return e!==t[n]&&(e!==i?i=t[n]=e:o(y,e=i=t[n])),e});break;case"&":r=b(u[s]),t[n]=function(e){return r(y,e)};break;default:throw Error("Invalid isolate scope definition for directive "+q.name+": "+e)}})}for(C&&r(C,function(e){var n={$scope:t,$element:d,$attrs:u,$transclude:l};m=e.controller,"@"==m&&(m=u[e.name]),d.data("$"+e.name+"Controller",$(m,n))}),p=0,f=M.length;f>p;p++)try{g=M[p],g(t,d,u,g.require&&c(g.require,d))}catch(w){h(w,z(d))}for(e&&e(t,a.childNodes,n,l),p=0,f=O.length;f>p;p++)try{g=O[p],g(t,d,u,g.require&&c(g.require,d))}catch(w){h(w,z(d))}}for(var p,f,g,m,C,k,E,A=-Number.MAX_VALUE,M=[],O=[],F=null,q=null,R=null,H=o.$$element=Wn(i),V=a,B=0,Y=e.length;Y>B&&(p=e[B],g=n,!(A>p.priority));B++){if((E=p.scope)&&(j("isolated scope",q,p,H),v(E)&&(_(H,"ng-isolate-scope"),q=p),_(H,"ng-scope"),F=F||p),f=p.name,(E=p.controller)&&(C=C||{},j("'"+f+"' controller",C[f],p,H),C[f]=p),(E=p.transclude)&&(j("transclusion",m,p,H),m=p,A=p.priority,"element"==E?(g=Wn(i),H=o.$$element=Wn(t.createComment(" "+f+": "+o[f]+" ")),i=H[0],U(s,Wn(g[0]),i),V=S(g,a,A)):(g=Wn(ot(i)).contents(),H.html(""),V=S(g,a))),E=p.template)if(j("template",R,p,H),R=p,E=W(E),p.replace){if(g=Wn("<div>"+T(E)+"</div>").contents(),i=g[0],1!=g.length||1!==i.nodeType)throw new Error(u+E);U(s,H,i);var X={$attr:{}};e=e.concat(D(i,e.splice(B+1,e.length-(B+1)),X)),N(o,X),Y=e.length}else H.html(E);if(p.templateUrl)j("template",R,p,H),R=p,d=P(e.splice(B,e.length-B),d,H,o,s,p.replace,V),Y=e.length;else if(p.compile)try{k=p.compile(H,o,V),x(k)?l(null,k):k&&l(k.pre,k.post)}catch(K){h(K,z(H))}p.terminal&&(d.terminal=!0,A=Math.max(A,p.priority))}return d.scope=F&&F.scope,d.transclude=m&&V,d}function M(t,r,a,s){var l=!1;if(i.hasOwnProperty(r))for(var c,u=e.get(r+o),d=0,p=u.length;p>d;d++)try{c=u[d],(s===n||s>c.priority)&&-1!=c.restrict.indexOf(a)&&(t.push(c),l=!0)}catch(f){h(f)}return l}function N(e,t){var n=t.$attr,i=e.$attr,o=e.$$element;r(e,function(i,r){"$"!=r.charAt(0)&&(t[r]&&(i+=("style"===r?";":" ")+t[r]),e.$set(r,i,!0,n[r]))}),r(t,function(t,r){"class"==r?(_(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==r?o.attr("style",o.attr("style")+";"+t):"$"==r.charAt(0)||e.hasOwnProperty(r)||(e[r]=t,i[r]=n[r])})}function P(e,t,n,i,r,o,a){var s,l,d=[],h=n[0],p=e.shift(),f=c({},p,{controller:null,templateUrl:null,transclude:null,scope:null});return n.html(""),g.get(p.templateUrl,{cache:m}).success(function(c){var p,g,m;if(c=W(c),o){if(m=Wn("<div>"+T(c)+"</div>").contents(),p=m[0],1!=m.length||1!==p.nodeType)throw new Error(u+c);g={$attr:{}},U(r,n,p),D(p,e,g),N(i,g)}else p=h,n.html(c);for(e.unshift(f),s=A(e,p,i,a),l=E(n[0].childNodes,a);d.length;){var v=d.pop(),y=d.pop(),b=d.pop(),$=d.pop(),w=p;b!==h&&(w=ot(p),U(y,Wn(b),w)),s(function(){t(l,$,w,r,v)},$,w,r,v)}d=null}).error(function(e,t,n,i){throw Error("Failed to load template: "+i.url)}),function(e,n,i,r,o){d?(d.push(n),d.push(i),d.push(r),d.push(o)):s(function(){t(l,n,i,r,o)},n,i,r,o)}}function O(e,t){return t.priority-e.priority}function j(e,t,n,i){if(t)throw Error("Multiple directives ["+t.name+", "+n.name+"] asking for "+e+" on: "+z(i))}function q(e,t){var n=s(t,!0);n&&e.push({priority:0,compile:f(function(e,t){var i=t.parent(),r=i.data("$binding")||[];r.push(n),_(i.data("$binding",r),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function R(e,t,i,r){var o=s(i,!0);o&&t.push({priority:100,compile:f(function(e,t,i){var a=i.$$observers||(i.$$observers={});"class"===r&&(o=s(i[r],!0)),i[r]=n,(a[r]||(a[r]=[])).$$inter=!0,(i.$$observers&&i.$$observers[r].$$scope||e).$watch(o,function(e){i.$set(r,e)})})})}function U(e,t,n){var i,r,o=t[0],a=o.parentNode;if(e)for(i=0,r=e.length;r>i;i++)if(e[i]==o){e[i]=n;break}a&&a.replaceChild(n,o),n[Wn.expando]=o[Wn.expando],t[0]=n}var L=function(e,t){this.$$element=e,this.$attr=t||{}};L.prototype={$normalize:At,$set:function(e,t,i,o){var a,s=vt(this.$$element[0],e),l=this.$$observers;s&&(this.$$element.prop(e,t),o=s),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=K(e,"-"))),"A"===Kn(this.$$element[0])&&"href"===e&&(H.setAttribute("href",t),a=H.href,a.match(d)||(this[e]=t="unsafe:"+a)),i!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t)),l&&r(l[e],function(e){try{e(t)}catch(n){h(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers={}),r=i[e]||(i[e]=[]);
return r.push(t),C.$evalAsync(function(){r.$$inter||t(n[e])}),t}};var H=k[0].createElement("a"),V=s.startSymbol(),B=s.endSymbol(),W="{{"==V||"}}"==B?p:function(e){return e.replace(/\{\{/g,V).replace(/}}/g,B)};return S}]}function At(e){return nt(e.replace(bi,""))}function Mt(){var e={};this.register=function(t,n){v(t)?c(e,t):e[t]=n},this.$get=["$injector","$window",function(t,n){return function(i,r){if(y(i)){var o=i;i=e.hasOwnProperty(o)?e[o]:Gt(r.$scope,o,!0)||Gt(n,o,!0),J(i,o,!0)}return t.instantiate(i,r)}}]}function Nt(){this.$get=["$window",function(e){return Wn(e.document)}]}function It(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function Pt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse",function(i){function r(r,s){for(var l,c,u,d,h=0,p=[],f=r.length,g=!1,m=[];f>h;)-1!=(l=r.indexOf(e,h))&&-1!=(c=r.indexOf(t,l+o))?(h!=l&&p.push(r.substring(h,l)),p.push(u=i(d=r.substring(l+o,c))),u.exp=d,h=c+a,g=!0):(h!=f&&p.push(r.substring(h)),h=f);return(f=p.length)||(p.push(""),f=1),!s||g?(m.length=f,u=function(e){for(var t,i=0,r=f;r>i;i++)"function"==typeof(t=p[i])&&(t=t(e),null==t||t==n?t="":"string"!=typeof t&&(t=R(t))),m[i]=t;return m.join("")},u.exp=r,u.parts=p,u):void 0}var o=e.length,a=t.length;return r.startSymbol=function(){return e},r.endSymbol=function(){return t},r}]}function Ot(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=B(t[n]);return t.join("/")}function jt(e,t){var n=$i.exec(e);return n={protocol:n[1],host:n[3],port:u(n[5])||Ci[n[1]]||null,path:n[6]||"/",search:n[8],hash:n[10]},t&&(t.$$protocol=n.protocol,t.$$host=n.host,t.$$port=n.port),n}function Ft(e,t,n){return e+"://"+t+(n==Ci[e]?"":":"+n)}function qt(e){return e.substr(0,e.lastIndexOf("/"))}function Rt(e,t,n){var i=jt(e);return decodeURIComponent(i.path)!=t||g(i.hash)||0!==i.hash.indexOf(n)?e:Ft(i.protocol,i.host,i.port)+qt(t)+i.hash.substr(n.length)}function Ut(e,t,n){var i=jt(e);if(decodeURIComponent(i.path)!=t||g(i.hash)||0!==i.hash.indexOf(n)){var r=i.search&&"?"+i.search||"",o=i.hash&&"#"+i.hash||"",a=qt(t),s=i.path.substr(a.length);if(0!==i.path.indexOf(a))throw Error('Invalid url "'+e+'", missing path prefix "'+a+'" !');return Ft(i.protocol,i.host,i.port)+t+"#"+n+s+r+o}return e}function Lt(e,t,n){t=t||"",this.$$parse=function(e){var n=jt(e,this);if(0!==n.path.indexOf(t))throw Error('Invalid url "'+e+'", missing path prefix "'+t+'" !');this.$$path=decodeURIComponent(n.path.substr(t.length)),this.$$search=H(n.search),this.$$hash=n.hash&&decodeURIComponent(n.hash)||"",this.$$compose()},this.$$compose=function(){var e=V(this.$$search),n=this.$$hash?"#"+B(this.$$hash):"";this.$$url=Ot(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=Ft(this.$$protocol,this.$$host,this.$$port)+t+this.$$url},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(n)?e:void 0},this.$$parse(e)}function zt(e,t,n){var i;this.$$parse=function(e){var n=jt(e,this);if(n.hash&&0!==n.hash.indexOf(t))throw Error('Invalid url "'+e+'", missing hash prefix "'+t+'" !');i=n.path+(n.search?"?"+n.search:""),n=xi.exec((n.hash||"").substr(t.length)),this.$$path=n[1]?("/"==n[1].charAt(0)?"":"/")+decodeURIComponent(n[1]):"",this.$$search=H(n[3]),this.$$hash=n[5]&&decodeURIComponent(n[5])||"",this.$$compose()},this.$$compose=function(){var e=V(this.$$search),n=this.$$hash?"#"+B(this.$$hash):"";this.$$url=Ot(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=Ft(this.$$protocol,this.$$host,this.$$port)+i+(this.$$url?"#"+t+this.$$url:"")},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(n)?e:void 0},this.$$parse(e)}function Ht(e,t,n,i){zt.apply(this,arguments),this.$$rewriteAppUrl=function(e){return 0==e.indexOf(n)?n+i+"#"+t+e.substr(n.length):void 0}}function Vt(e){return function(){return this[e]}}function Bt(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Wt(){var t="",n=!1;this.hashPrefix=function(e){return m(e)?(t=e,this):t},this.html5Mode=function(e){return m(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,r,o,a){function s(e){i.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,c,u,d,h=r.url(),p=jt(h);n?(c=r.baseHref()||"/",u=qt(c),d=Ft(p.protocol,p.host,p.port)+u+"/",l=o.history?new Lt(Rt(h,c,t),u,d):new Ht(Ut(h,c,t),t,d,c.substr(u.length+1))):(d=Ft(p.protocol,p.host,p.port)+(p.path||"")+(p.search?"?"+p.search:"")+"#"+t+"/",l=new zt(h,t,d)),a.bind("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=Wn(t.target);"a"!==zn(n[0].nodeName);)if(n[0]===a[0]||!(n=n.parent())[0])return;var r=n.prop("href"),o=l.$$rewriteAppUrl(r);r&&!n.attr("target")&&o&&(l.$$parse(o),i.$apply(),t.preventDefault(),e.angular["ff-684208-preventDefault"]=!0)}}),l.absUrl()!=h&&r.url(l.absUrl(),!0),r.onUrlChange(function(e){l.absUrl()!=e&&(i.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),s(t)}),i.$$phase||i.$digest())});var f=0;return i.$watch(function(){var e=r.url(),t=l.$$replace;return f&&e==l.absUrl()||(f++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(r.url(l.absUrl(),t),s(e))})),l.$$replace=!1,f}),l}]}function Yt(){this.$get=["$window",function(e){function t(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function n(n){var i=e.console||{},o=i[n]||i.log||h;return o.apply?function(){var e=[];return r(arguments,function(n){e.push(t(n))}),o.apply(i,e)}:function(e,t){o(e,t)}}return{log:n("log"),warn:n("warn"),info:n("info"),error:n("error")}}]}function Xt(e,t){function n(e){return-1!=e.indexOf(g)}function i(e){return-1!=e.indexOf($)}function r(){return y+1<e.length?e.charAt(y+1):!1}function o(e){return e>="0"&&"9">=e}function a(e){return" "==e||"\r"==e||"	"==e||"\n"==e||""==e||" "==e}function s(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e||"$"==e}function l(e){return"-"==e||"+"==e||o(e)}function u(t,n,i){throw i=i||y,Error("Lexer Error: "+t+" at column"+(m(n)?"s "+n+"-"+y+" ["+e.substring(n,i)+"]":" "+i)+" in expression ["+e+"].")}function d(){for(var t="",n=y;y<e.length;){var i=zn(e.charAt(y));if("."==i||o(i))t+=i;else{var a=r();if("e"==i&&l(a))t+=i;else if(l(i)&&a&&o(a)&&"e"==t.charAt(t.length-1))t+=i;else{if(!l(i)||a&&o(a)||"e"!=t.charAt(t.length-1))break;u("Invalid exponent")}}y++}t=1*t,v.push({index:n,text:t,json:!0,fn:function(){return t}})}function h(){for(var n,i,r,l="",u=y;y<e.length;){var d=e.charAt(y);if("."!=d&&!s(d)&&!o(d))break;"."==d&&(n=y),l+=d,y++}if(n)for(i=y;i<e.length;){var d=e.charAt(i);if("("==d){r=l.substr(n-u+1),l=l.substr(0,n-u),y=i;break}if(!a(d))break;i++}var h={index:u,text:l};if(ki.hasOwnProperty(l))h.fn=h.json=ki[l];else{var p=Zt(l,t);h.fn=c(function(e,t){return p(e,t)},{assign:function(e,t){return Qt(e,l,t)}})}v.push(h),r&&(v.push({index:n,text:".",json:!1}),v.push({index:n+1,text:r,json:!1}))}function p(t){var n=y;y++;for(var i="",r=t,o=!1;y<e.length;){var a=e.charAt(y);if(r+=a,o){if("u"==a){var s=e.substring(y+1,y+5);s.match(/[\da-f]{4}/i)||u("Invalid unicode escape [\\u"+s+"]"),y+=4,i+=String.fromCharCode(parseInt(s,16))}else{var l=Si[a];i+=l?l:a}o=!1}else if("\\"==a)o=!0;else{if(a==t)return y++,v.push({index:n,text:r,string:i,json:!0,fn:function(){return i}}),void 0;i+=a}y++}u("Unterminated quote",n)}for(var f,g,v=[],y=0,b=[],$=":";y<e.length;){if(g=e.charAt(y),n("\"'"))p(g);else if(o(g)||n(".")&&o(r()))d();else if(s(g))h(),i("{,")&&"{"==b[0]&&(f=v[v.length-1])&&(f.json=-1==f.text.indexOf("."));else if(n("(){}[].,;:"))v.push({index:y,text:g,json:i(":[,")&&n("{[")||n("}]:,")}),n("{[")&&b.unshift(g),n("}]")&&b.shift(),y++;else{if(a(g)){y++;continue}var w=g+r(),x=ki[g],C=ki[w];C?(v.push({index:y,text:w,fn:C}),y+=2):x?(v.push({index:y,text:g,fn:x,json:i("[,:")&&n("+-")}),y+=1):u("Unexpected next character ",y,y+1)}$=g}return v}function Kt(e,t,i,r){function o(t,n){throw Error("Syntax Error: Token '"+n.text+"' "+t+" at column "+(n.index+1)+" of the expression ["+e+"] starting at ["+e.substring(n.index)+"].")}function a(){if(0===O.length)throw Error("Unexpected end of expression: "+e);return O[0]}function s(e,t,n,i){if(O.length>0){var r=O[0],o=r.text;if(o==e||o==t||o==n||o==i||!e&&!t&&!n&&!i)return r}return!1}function l(e,n,i,r){var a=s(e,n,i,r);return a?(t&&!a.json&&o("is not valid json",a),O.shift(),a):!1}function u(e){l(e)||o("is unexpected, expecting ["+e+"]",s())}function d(e,t){return function(n,i){return e(n,i,t)}}function p(e,t,n){return function(i,r){return t(i,r,e,n)}}function g(){for(var e=[];;)if(O.length>0&&!s("}",")",";","]")&&e.push(U()),!l(";"))return 1==e.length?e[0]:function(t,n){for(var i,r=0;r<e.length;r++){var o=e[r];o&&(i=o(t,n))}return i}}function m(){for(var e,t=y();;){if(!(e=l("|")))return t;t=p(t,e.fn,v())}}function v(){for(var e=l(),t=i(e.text),n=[];;){if(!(e=l(":"))){var r=function(e,i,r){for(var o=[r],a=0;a<n.length;a++)o.push(n[a](e,i));return t.apply(e,o)};return function(){return r}}n.push(y())}}function y(){return j()}function b(){var t,n,i=$();return(n=l("="))?(i.assign||o("implies assignment but ["+e.substring(0,n.index)+"] can not be assigned to",n),t=$(),function(e,n){return i.assign(e,t(e,n),n)}):i}function $(){for(var e,t=w();;){if(!(e=l("||")))return t;t=p(t,e.fn,w())}}function w(){var e,t=x();return(e=l("&&"))&&(t=p(t,e.fn,w())),t}function x(){var e,t=C();return(e=l("==","!="))&&(t=p(t,e.fn,x())),t}function C(){var e,t=k();return(e=l("<",">","<=",">="))&&(t=p(t,e.fn,C())),t}function k(){for(var e,t=S();e=l("+","-");)t=p(t,e.fn,S());return t}function S(){for(var e,t=T();e=l("*","/","%");)t=p(t,e.fn,T());return t}function T(){var e;return l("+")?_():(e=l("-"))?p(P,e.fn,T()):(e=l("!"))?d(e.fn,T()):_()}function _(){var e;if(l("("))e=U(),u(")");else if(l("["))e=M();else if(l("{"))e=N();else{var t=l();e=t.fn,e||o("not a primary expression",t)}for(var n,i;n=l("(","[",".");)"("===n.text?(e=F(e,i),i=null):"["===n.text?(i=e,e=R(e)):"."===n.text?(i=e,e=q(e)):o("IMPOSSIBLE");return e}function E(e){var t=l().text,n=Zt(t,r);return c(function(t,i){return n(e(t,i),i)},{assign:function(n,i,r){return Qt(e(n,r),t,i)}})}function D(e){var t=y();return u("]"),c(function(i,r){var o,a,s=e(i,r),l=t(i,r);return s?(o=s[l],o&&o.then&&(a=o,"$$v"in o||(a.$$v=n,a.then(function(e){a.$$v=e})),o=o.$$v),o):n},{assign:function(n,i,r){return e(n,r)[t(n,r)]=i}})}function A(e,t){var n=[];if(")"!=a().text)do n.push(y());while(l(","));return u(")"),function(i,r){for(var o=[],a=t?t(i,r):i,s=0;s<n.length;s++)o.push(n[s](i,r));var l=e(i,r)||h;return l.apply?l.apply(a,o):l(o[0],o[1],o[2],o[3],o[4])}}function M(){var e=[];if("]"!=a().text)do e.push(y());while(l(","));return u("]"),function(t,n){for(var i=[],r=0;r<e.length;r++)i.push(e[r](t,n));return i}}function N(){var e=[];if("}"!=a().text)do{var t=l(),n=t.string||t.text;u(":");var i=y();e.push({key:n,value:i})}while(l(","));return u("}"),function(t,n){for(var i={},r=0;r<e.length;r++){var o=e[r],a=o.value(t,n);i[o.key]=a}return i}}var I,P=f(0),O=Xt(e,r),j=b,F=A,q=E,R=D,U=m;return t?(j=$,F=q=R=U=function(){o("is not valid json",{text:e,index:0})},I=_()):I=g(),0!==O.length&&o("is an unexpected token",O[0]),I}function Qt(e,t,n){for(var i=t.split("."),r=0;i.length>1;r++){var o=i.shift(),a=e[o];a||(a={},e[o]=a),e=a}return e[i.shift()]=n,n}function Gt(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;a>s;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&x(e)?F(o,e):e}function Jt(e,t,i,r,o){return function(a,s){var l,c=s&&s.hasOwnProperty(e)?s:a;return null===c||c===n?c:(c=c[e],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),t&&null!==c&&c!==n?(c=c[t],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),i&&null!==c&&c!==n?(c=c[i],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),r&&null!==c&&c!==n?(c=c[r],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),o&&null!==c&&c!==n?(c=c[o],c&&c.then&&("$$v"in c||(l=c,l.$$v=n,l.then(function(e){l.$$v=e})),c=c.$$v),c):c):c):c):c)}}function Zt(e,t){if(Ti.hasOwnProperty(e))return Ti[e];var i,o=e.split("."),a=o.length;if(t)i=6>a?Jt(o[0],o[1],o[2],o[3],o[4]):function(e,t){var i,r=0;do i=Jt(o[r++],o[r++],o[r++],o[r++],o[r++])(e,t),t=n,e=i;while(a>r);return i};else{var s="var l, fn, p;\n";r(o,function(e,t){s+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"}),s+="return s;",i=Function("s","k",s),i.toString=function(){return s}}return Ti[e]=i}function en(){var e={};this.$get=["$filter","$sniffer",function(t,n){return function(i){switch(typeof i){case"string":return e.hasOwnProperty(i)?e[i]:e[i]=Kt(i,!1,t,n.csp);case"function":return i;default:return h}}}]}function tn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return nn(function(t){e.$evalAsync(t)},t)}]}function nn(e,t){function i(e){return e}function o(e){return c(e)}function a(e){var t=s(),n=e.length,i=[];return n?r(e,function(e,r){l(e).then(function(e){r in i||(i[r]=e,--n||t.resolve(i))},function(e){r in i||t.reject(e)})}):t.resolve(i),t.promise}var s=function(){var r,a,u=[];return a={resolve:function(t){if(u){var i=u;u=n,r=l(t),i.length&&e(function(){for(var e,t=0,n=i.length;n>t;t++)e=i[t],r.then(e[0],e[1])})}},reject:function(e){a.resolve(c(e))},promise:{then:function(e,n){var a=s(),l=function(n){try{a.resolve((e||i)(n))}catch(r){t(r),a.reject(r)}},c=function(e){try{a.resolve((n||o)(e))}catch(i){t(i),a.reject(i)}};return u?u.push([l,c]):r.then(l,c),a.promise}}}},l=function(t){return t&&t.then?t:{then:function(n){var i=s();return e(function(){i.resolve(n(t))}),i.promise}}},c=function(t){return{then:function(n,i){var r=s();return e(function(){r.resolve((i||o)(t))}),r.promise}}},u=function(n,r,a){var u,d=s(),h=function(e){try{return(r||i)(e)}catch(n){return t(n),c(n)}},p=function(e){try{return(a||o)(e)}catch(n){return t(n),c(n)}};return e(function(){l(n).then(function(e){u||(u=!0,d.resolve(l(e).then(h,p)))},function(e){u||(u=!0,d.resolve(p(e)))})}),d.promise};return{defer:s,reject:c,when:u,all:a}}function rn(){var e={};this.when=function(t,n){if(e[t]=c({reloadOnSearch:!0},n),t){var i="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";e[i]={redirectTo:t}}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(t,n,i,o,a,s,l){function u(e,t){t="^"+t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$";for(var n,i="",o=[],a={},s=/:(\w+)/g,l=0;null!==(n=s.exec(t));)i+=t.slice(l,n.index),i+="([^\\/]*)",o.push(n[1]),l=s.lastIndex;i+=t.substr(l);var c=e.match(new RegExp(i));return c&&r(o,function(e,t){a[e]=c[t+1]}),c?a:null}function h(){var e=p(),c=v.current;e&&c&&e.$$route===c.$$route&&P(e.pathParams,c.pathParams)&&!e.reloadOnSearch&&!g?(c.params=e.params,N(c.params,i),t.$broadcast("$routeUpdate",c)):(e||c)&&(g=!1,t.$broadcast("$routeChangeStart",e,c),v.current=e,e&&e.redirectTo&&(y(e.redirectTo)?n.path(f(e.redirectTo,e.params)).search(e.params).replace():n.url(e.redirectTo(e.pathParams,n.path(),n.search())).replace()),o.when(e).then(function(){if(e){var t,n=[],i=[];return r(e.resolve||{},function(e,t){n.push(t),i.push(y(e)?a.get(e):a.invoke(e))}),m(t=e.template)||m(t=e.templateUrl)&&(t=s.get(t,{cache:l}).then(function(e){return e.data})),m(t)&&(n.push("$template"),i.push(t)),o.all(i).then(function(e){var t={};return r(e,function(e,i){t[n[i]]=e}),t})}}).then(function(n){e==v.current&&(e&&(e.locals=n,N(e.params,i)),t.$broadcast("$routeChangeSuccess",e,c))},function(n){e==v.current&&t.$broadcast("$routeChangeError",e,c,n)}))}function p(){var t,i;return r(e,function(e,r){!i&&(t=u(n.path(),r))&&(i=d(e,{params:c({},n.search(),t),pathParams:t}),i.$$route=e)}),i||e[null]&&d(e[null],{params:{},pathParams:{}})}function f(e,t){var n=[];return r((e||"").split(":"),function(e,i){if(0==i)n.push(e);else{var r=e.match(/(\w+)(.*)/),o=r[1];n.push(t[o]),n.push(r[2]||""),delete t[o]}}),n.join("")}var g=!1,v={routes:e,reload:function(){g=!0,t.$evalAsync(h)}};return t.$on("$locationChangeSuccess",h),v}]}function on(){this.$get=f({})}function an(){var e=10;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse",function(t,n,i){function r(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function o(e){if(u.$$phase)throw Error(u.$$phase+" already in progress");u.$$phase=e}function a(){u.$$phase=null}function s(e,t){var n=i(e);return J(n,t),n}function c(){}r.prototype={$new:function(e){var t,n;if(x(e))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return e?(n=new r,n.$root=this.$root):(t=function(){},t.prototype=this,n=new t,n.$id=l()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$asyncQueue=[],n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var i=this,r=s(e,"watch"),o=i.$$watchers,a={fn:t,last:c,get:r,exp:e,eq:!!n};if(!x(t)){var l=s(t||h,"listener");a.fn=function(e,t,n){l(n)}}return o||(o=i.$$watchers=[]),o.unshift(a),function(){M(o,a)}},$digest:function(){var t,i,r,s,l,u,d,h,p,f,g,m=e,v=this,y=[];o("$digest");do{d=!1,p=v;do{for(l=p.$$asyncQueue;l.length;)try{p.$eval(l.shift())}catch(b){n(b)}if(s=p.$$watchers)for(u=s.length;u--;)try{t=s[u],(i=t.get(p))===(r=t.last)||(t.eq?P(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))||(d=!0,t.last=t.eq?N(i):i,t.fn(i,r===c?i:r,p),5>m&&(f=4-m,y[f]||(y[f]=[]),g=x(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,g+="; newVal: "+R(i)+"; oldVal: "+R(r),y[f].push(g)))}catch(b){n(b)}if(!(h=p.$$childHead||p!==v&&p.$$nextSibling))for(;p!==v&&!(h=p.$$nextSibling);)p=p.$parent}while(p=h);if(d&&!m--)throw a(),Error(e+" $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: "+R(y))}while(d||l.length);a()},$destroy:function(){if(u!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return i(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{return o("$apply"),this.$eval(e)}catch(t){n(t)}finally{a();try{u.$digest()}catch(t){throw n(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[A(n,t)]=null}},$emit:function(e){var t,i,r,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=O([l],arguments,1);do{for(t=a.$$listeners[e]||o,l.currentScope=a,i=0,r=t.length;r>i;i++)if(t[i])try{if(t[i].apply(null,c),s)return l}catch(u){n(u)}else t.splice(i,1),i--,r--;a=a.$parent}while(a);return l},$broadcast:function(e){var t,i,r,o=this,a=o,s=o,l={name:e,targetScope:o,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=O([l],arguments,1);do{for(a=s,l.currentScope=a,t=a.$$listeners[e]||[],i=0,r=t.length;r>i;i++)if(t[i])try{t[i].apply(null,c)}catch(u){n(u)}else t.splice(i,1),i--,r--;if(!(s=a.$$childHead||a!==o&&a.$$nextSibling))for(;a!==o&&!(s=a.$$nextSibling);)a=a.$parent}while(a=s);return l}};var u=new r;return u}]}function sn(){this.$get=["$window",function(e){var t={},n=u((/android (\d+)/.exec(zn(e.navigator.userAgent))||[])[1]);return{history:!(!e.history||!e.history.pushState||4>n),hashchange:"onhashchange"in e&&(!e.document.documentMode||e.document.documentMode>7),hasEvent:function(n){if("input"==n&&9==Qn)return!1;if(g(t[n])){var i=e.document.createElement("div");t[n]="on"+n in i}return t[n]},csp:!1}}]}function ln(){this.$get=f(e)}function cn(e){var t,n,i,o={};return e?(r(e.split("\n"),function(e){i=e.indexOf(":"),t=zn(T(e.substr(0,i))),n=T(e.substr(i+1)),t&&(o[t]?o[t]+=", "+n:o[t]=n)}),o):o}function un(e){var t=v(e)?e:n;return function(n){return t||(t=cn(e)),n?t[zn(n)]||null:t}}function dn(e,t,n){return x(n)?n(e,t):(r(n,function(n){e=n(e,t)}),e)}function hn(e){return e>=200&&300>e}function pn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,i=/^\)\]\}',?\n/,o=this.defaults={transformResponse:[function(n){return y(n)&&(n=n.replace(i,""),e.test(n)&&t.test(n)&&(n=U(n,!0))),n}],transformRequest:[function(e){return v(e)&&!S(e)?R(e):e}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}},s=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,i,l,u,d){function h(e){function n(e){var t=c({},e,{data:dn(e.data,e.headers,s)});return hn(e.status)?t:u.reject(t)}e.method=Hn(e.method);var i,a=e.transformRequest||o.transformRequest,s=e.transformResponse||o.transformResponse,l=o.headers,d=c({"X-XSRF-TOKEN":t.cookies()["XSRF-TOKEN"]},l.common,l[zn(e.method)],e.headers),h=dn(e.data,un(d),a);return g(e.data)&&delete d["Content-Type"],i=m(e,h,d),i=i.then(n,n),r(x,function(e){i=e(i)}),i.success=function(t){return i.then(function(n){t(n.data,n.status,n.headers,e)}),i},i.error=function(t){return i.then(null,function(n){t(n.data,n.status,n.headers,e)}),i},i}function p(){r(arguments,function(e){h[e]=function(t,n){return h(c(n||{},{method:e,url:t}))}})}function f(){r(arguments,function(e){h[e]=function(t,n,i){return h(c(i||{},{method:e,url:t,data:n}))}})}function m(t,n,i){function r(e,t,n){s&&(hn(e)?s.put(f,[e,t,cn(n)]):s.remove(f)),o(t,e,n),l.$apply()}function o(e,n,i){n=Math.max(n,0),(hn(n)?d.resolve:d.reject)({data:e,status:n,headers:un(i),config:t})}function a(){var e=A(h.pendingRequests,t);-1!==e&&h.pendingRequests.splice(e,1)}var s,c,d=u.defer(),p=d.promise,f=b(t.url,t.params);if(h.pendingRequests.push(t),p.then(a,a),t.cache&&"GET"==t.method&&(s=v(t.cache)?t.cache:$),s)if(c=s.get(f)){if(c.then)return c.then(a,a),c;w(c)?o(c[1],c[0],N(c[2])):o(c,200,{})}else s.put(f,p);return c||e(t.method,f,n,r,i,t.timeout,t.withCredentials),p}function b(e,t){if(!t)return e;var i=[];return a(t,function(e,t){null!=e&&e!=n&&(v(e)&&(e=R(e)),i.push(encodeURIComponent(t)+"="+encodeURIComponent(e)))}),e+(-1==e.indexOf("?")?"?":"&")+i.join("&")}var $=i("$http"),x=[];return r(s,function(e){x.push(y(e)?d.get(e):d.invoke(e))}),h.pendingRequests=[],p("get","delete","head","jsonp"),f("post","put"),h.defaults=o,h}]}function fn(){this.$get=["$browser","$window","$document",function(e,t,n){return gn(e,_i,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function gn(e,t,n,i,o,a){function s(e,t){var n=o.createElement("script"),i=function(){o.body.removeChild(n),t&&t()};n.type="text/javascript",n.src=e,Qn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&i()}:n.onload=n.onerror=i,o.body.appendChild(n)}return function(o,l,c,u,d,p,f){function g(t,n,i,r){var o=(l.match($i)||["",a])[1];n="file"==o?i?200:404:n,n=1223==n?204:n,t(n,i,r),e.$$completeOutstandingRequest(h)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==zn(o)){var m="_"+(i.counter++).toString(36);i[m]=function(e){i[m].data=e},s(l.replace("JSON_CALLBACK","angular.callbacks."+m),function(){i[m].data?g(u,200,i[m].data):g(u,-2),delete i[m]})}else{var v=new t;v.open(o,l,!0),r(d,function(e,t){e&&v.setRequestHeader(t,e)});var y;v.onreadystatechange=function(){if(4==v.readyState){var e=v.getAllResponseHeaders(),t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];e||(e="",r(t,function(t){var n=v.getResponseHeader(t);n&&(e+=t+": "+n+"\n")})),g(u,y||v.status,v.responseText,e)}},f&&(v.withCredentials=!0),v.send(c||""),p>0&&n(function(){y=-1,v.abort()},p)}}}function mn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function vn(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,i){function r(r,a,s){var l,c,u=n.defer(),d=u.promise,h=m(s)&&!s;return l=t.defer(function(){try{u.resolve(r())}catch(t){u.reject(t),i(t)}h||e.$apply()},a),c=function(){delete o[d.$$timeoutId]},d.$$timeoutId=l,o[l]=u,d.then(c,c),d}var o={};return r.cancel=function(e){return e&&e.$$timeoutId in o?(o[e.$$timeoutId].reject("canceled"),t.defer.cancel(e.$$timeoutId)):!1},r}]}function yn(e){function t(t,i){return e.factory(t+n,i)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",$n),t("date",En),t("filter",bn),t("json",Dn),t("limitTo",An),t("lowercase",Ni),t("number",wn),t("orderBy",Mn),t("uppercase",Ii)}function bn(){return function(e,t){if(!w(e))return e;var n=[];n.check=function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0};var i=function(e,t){if("!"===t.charAt(0))return!i(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return(""+e).toLowerCase().indexOf(t)>-1;case"object":for(var n in e)if("$"!==n.charAt(0)&&i(e[n],t))return!0;return!1;case"array":for(var r=0;r<e.length;r++)if(i(e[r],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var r in t)"$"==r?function(){var e=(""+t[r]).toLowerCase();e&&n.push(function(t){return i(t,e)})}():function(){var e=r,o=(""+t[r]).toLowerCase();o&&n.push(function(t){return i(Gt(t,e),o)})}();break;case"function":n.push(t);break;default:return e}for(var o=[],a=0;a<e.length;a++){var s=e[a];n.check(s)&&o.push(s)}return o}}function $n(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),xn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function wn(e){var t=e.NUMBER_FORMATS;return function(e,n){return xn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function xn(e,t,n,i,r){if(isNaN(e)||!isFinite(e))return"";var o=0>e;e=Math.abs(e);var a=e+"",s="",l=[],c=!1;if(-1!==a.indexOf("e")){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?a="0":(s=a,c=!0)}if(!c){var d=(a.split(Ei)[1]||"").length;g(r)&&(r=Math.min(Math.max(t.minFrac,d),t.maxFrac));var h=Math.pow(10,r);e=Math.round(e*h)/h;var p=(""+e).split(Ei),f=p[0];p=p[1]||"";var m=0,v=t.lgSize,y=t.gSize;if(f.length>=v+y){m=f.length-v;for(var b=0;m>b;b++)0===(m-b)%y&&0!==b&&(s+=n),s+=f.charAt(b)}for(b=m;b<f.length;b++)0===(f.length-b)%v&&0!==b&&(s+=n),s+=f.charAt(b);for(;p.length<r;)p+="0";r&&"0"!==r&&(s+=i+p.substr(0,r))}return l.push(o?t.negPre:t.posPre),l.push(s),l.push(o?t.negSuf:t.posSuf),l.join("")}function Cn(e,t,n){var i="";for(0>e&&(i="-",e=-e),e=""+e;e.length<t;)e="0"+e;return n&&(e=e.substr(e.length-t)),i+e}function kn(e,t,n,i){return function(r){var o=r["get"+e]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Cn(o,t,i)}}function Sn(e,t){return function(n,i){var r=n["get"+e](),o=Hn(t?"SHORT"+e:e);return i[o][r]}}function Tn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=Cn(Math[t>0?"floor":"ceil"](t/60),2)+Cn(Math.abs(t%60),2)}function _n(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function En(e){function t(e){var t;if(t=e.match(n)){var i=new Date(0),r=0,o=0;return t[9]&&(r=u(t[9]+t[10]),o=u(t[9]+t[11])),i.setUTCFullYear(u(t[1]),u(t[2])-1,u(t[3])),i.setUTCHours(u(t[4]||0)-r,u(t[5]||0)-o,u(t[6]||0),u(t[7]||0)),i}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i){var o,a,s="",l=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,y(n)&&(n=Mi.test(n)?u(n):t(n)),b(n)&&(n=new Date(n)),!$(n))return n;for(;i;)a=Ai.exec(i),a?(l=O(l,a,1),i=l.pop()):(l.push(i),i=null);return r(l,function(t){o=Di[t],s+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function Dn(){return function(e){return R(e,!0)}}function An(){return function(e,t){if(!(e instanceof Array))return e;t=u(t);var n,i,r=[];if(!(e&&e instanceof Array))return r;for(t>e.length?t=e.length:t<-e.length&&(t=-e.length),t>0?(n=0,i=t):(n=e.length+t,i=e.length);i>n;n++)r.push(e[n]);return r}}function Mn(e){return function(t,n,i){function r(e,t){for(var i=0;i<n.length;i++){var r=n[i](e,t);if(0!==r)return r}return 0}function o(e,t){return L(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,i=typeof t;return n==i?("string"==n&&(e=e.toLowerCase()),"string"==n&&(t=t.toLowerCase()),e===t?0:t>e?-1:1):i>n?-1:1}if(!w(t))return t;if(!n)return t;n=w(n)?n:[n],n=E(n,function(t){var n=!1,i=t||p;return y(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),i=e(t)),o(function(e,t){return a(i(e),i(t))},n)});for(var s=[],l=0;l<t.length;l++)s.push(t[l]);return s.sort(o(r,i))}}function Nn(e){return x(e)&&(e={link:e}),e.restrict=e.restrict||"AC",f(e)}function In(e,t){function n(t,n){n=n?"-"+K(n,"-"):"",e.removeClass((t?Wi:Bi)+n).addClass((t?Bi:Wi)+n)}var i=this,o=e.parent().controller("form")||ji,a=0,s=i.$error={};i.$name=t.name,i.$dirty=!1,i.$pristine=!0,i.$valid=!0,i.$invalid=!1,o.$addControl(i),e.addClass(Yi),n(!0),i.$addControl=function(e){e.$name&&!i.hasOwnProperty(e.$name)&&(i[e.$name]=e)},i.$removeControl=function(e){e.$name&&i[e.$name]===e&&delete i[e.$name],r(s,function(t,n){i.$setValidity(n,!0,e)})},i.$setValidity=function(e,t,r){var l=s[e];if(t)l&&(M(l,r),l.length||(a--,a||(n(t),i.$valid=!0,i.$invalid=!1),s[e]=!1,n(!0,e),o.$setValidity(e,!0,i)));else{if(a||n(t),l){if(D(l,r))return}else s[e]=l=[],a++,n(!1,e),o.$setValidity(e,!1,i);l.push(r),i.$valid=!1,i.$invalid=!0}},i.$setDirty=function(){e.removeClass(Yi).addClass(Xi),i.$dirty=!0,i.$pristine=!1,o.$setDirty()}}function Pn(e){return g(e)||""===e||null===e||e!==e}function On(e,t,i,r,o,a){var s=function(){var n=T(t.val());r.$viewValue!==n&&e.$apply(function(){r.$setViewValue(n)})};if(o.hasEvent("input"))t.bind("input",s);else{var l;t.bind("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||l||(l=a.defer(function(){s(),l=null}))}),t.bind("change",s)}r.$render=function(){t.val(Pn(r.$viewValue)?"":r.$viewValue)};var c,d=i.ngPattern,h=function(e,t){return Pn(t)||e.test(t)?(r.$setValidity("pattern",!0),t):(r.$setValidity("pattern",!1),n)};if(d&&(d.match(/^\/(.*)\/$/)?(d=new RegExp(d.substr(1,d.length-2)),c=function(e){return h(d,e)}):c=function(t){var n=e.$eval(d);if(!n||!n.test)throw new Error("Expected "+d+" to be a RegExp but was "+n);return h(n,t)},r.$formatters.push(c),r.$parsers.push(c)),i.ngMinlength){var p=u(i.ngMinlength),f=function(e){return!Pn(e)&&e.length<p?(r.$setValidity("minlength",!1),n):(r.$setValidity("minlength",!0),e)};r.$parsers.push(f),r.$formatters.push(f)}if(i.ngMaxlength){var g=u(i.ngMaxlength),m=function(e){return!Pn(e)&&e.length>g?(r.$setValidity("maxlength",!1),n):(r.$setValidity("maxlength",!0),e)};r.$parsers.push(m),r.$formatters.push(m)}}function jn(e,t,i,r,o,a){if(On(e,t,i,r,o,a),r.$parsers.push(function(e){var t=Pn(e);return t||zi.test(e)?(r.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(r.$setValidity("number",!1),n)}),r.$formatters.push(function(e){return Pn(e)?"":""+e}),i.min){var s=parseFloat(i.min),l=function(e){return!Pn(e)&&s>e?(r.$setValidity("min",!1),n):(r.$setValidity("min",!0),e)};r.$parsers.push(l),r.$formatters.push(l)}if(i.max){var c=parseFloat(i.max),u=function(e){return!Pn(e)&&e>c?(r.$setValidity("max",!1),n):(r.$setValidity("max",!0),e)};r.$parsers.push(u),r.$formatters.push(u)}r.$formatters.push(function(e){return Pn(e)||b(e)?(r.$setValidity("number",!0),e):(r.$setValidity("number",!1),n)
})}function Fn(e,t,i,r,o,a){On(e,t,i,r,o,a);var s=function(e){return Pn(e)||Ui.test(e)?(r.$setValidity("url",!0),e):(r.$setValidity("url",!1),n)};r.$formatters.push(s),r.$parsers.push(s)}function qn(e,t,i,r,o,a){On(e,t,i,r,o,a);var s=function(e){return Pn(e)||Li.test(e)?(r.$setValidity("email",!0),e):(r.$setValidity("email",!1),n)};r.$formatters.push(s),r.$parsers.push(s)}function Rn(e,t,n,i){g(n.name)&&t.attr("name",l()),t.bind("click",function(){t[0].checked&&e.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)}function Un(e,t,n,i){var r=n.ngTrueValue,o=n.ngFalseValue;y(r)||(r=!0),y(o)||(o=!1),t.bind("click",function(){e.$apply(function(){i.$setViewValue(t[0].checked)})}),i.$render=function(){t[0].checked=i.$viewValue},i.$formatters.push(function(e){return e===r}),i.$parsers.push(function(e){return e?r:o})}function Ln(e,t){return e="ngClass"+e,Nn(function(i,r,o){function a(e){(t===!0||i.$index%2===t)&&(c&&e!==c&&s(c),l(e)),c=e}function s(e){v(e)&&!w(e)&&(e=E(e,function(e,t){return e?t:void 0})),r.removeClass(w(e)?e.join(" "):e)}function l(e){v(e)&&!w(e)&&(e=E(e,function(e,t){return e?t:void 0})),e&&r.addClass(w(e)?e.join(" "):e)}var c=n;i.$watch(o[e],a,!0),o.$observe("class",function(){var t=i.$eval(o[e]);a(t,t)}),"ngClass"!==e&&i.$watch("$index",function(n,r){var a=n%2;a!==r%2&&(a==t?l(i.$eval(o[e])):s(i.$eval(o[e])))})})}var zn=function(e){return y(e)?e.toLowerCase():e},Hn=function(e){return y(e)?e.toUpperCase():e},Vn=function(e){return y(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Bn=function(e){return y(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(zn=Vn,Hn=Bn);var Wn,Yn,Xn,Kn,Qn=u((/msie (\d+)/.exec(zn(navigator.userAgent))||[])[1]),Gn=[].slice,Jn=[].push,Zn=Object.prototype.toString,ei=e.angular||(e.angular={}),ti=["0","0","0"];h.$inject=[],p.$inject=[],Kn=9>Qn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?Hn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var ni=/[A-Z]/g,ii={full:"1.0.6",major:1,minor:0,dot:6,codeName:"universal-irreversibility"},ri=rt.cache={},oi=rt.expando="ng-"+(new Date).getTime(),ai=1,si=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},li=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},ci=/([\:\-\_]+(.))/g,ui=/^moz([A-Z])/,di=rt.prototype={ready:function(t){function n(){i||(i=!0,t())}var i=!1;this.bind("DOMContentLoaded",n),rt(e).bind("load",n)},toString:function(){var e=[];return r(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Wn(this[e]):Wn(this[this.length+e])},length:0,push:Jn,sort:[].sort,splice:[].splice},hi={};r("multiple,selected,checked,disabled,readOnly,required".split(","),function(e){hi[zn(e)]=e});var pi={};r("input,select,option,textarea,button,form".split(","),function(e){pi[Hn(e)]=!0}),r({data:ut,inheritedData:mt,scope:function(e){return mt(e,"$scope")},controller:gt,injector:function(e){return mt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:dt,css:function(e,t,i){if(t=nt(t),!m(i)){var r;return 8>=Qn&&(r=e.currentStyle&&e.currentStyle[t],""===r&&(r="auto")),r=r||e.style[t],8>=Qn&&(r=""===r?n:r),r}e.style[t]=i},attr:function(e,t,i){var r=zn(t);if(hi[r]){if(!m(i))return e[t]||(e.attributes.getNamedItem(t)||h).specified?r:n;i?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(m(i))e.setAttribute(t,i);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?n:o}},prop:function(e,t,n){return m(n)?(e[t]=n,void 0):e[t]},text:c(9>Qn?function(e,t){if(1==e.nodeType){if(g(t))return e.innerText;e.innerText=t}else{if(g(t))return e.nodeValue;e.nodeValue=t}}:function(e,t){return g(t)?e.textContent:(e.textContent=t,void 0)},{$dv:""}),val:function(e,t){return g(t)?e.value:(e.value=t,void 0)},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,i=e.childNodes;n<i.length;n++)at(i[n]);e.innerHTML=t}},function(e,t){rt.prototype[t]=function(t,i){var r,o;if((2==e.length&&e!==dt&&e!==gt?t:i)!==n){for(r=0;r<this.length;r++)e(this[r],t,i);return this}if(v(t)){for(r=0;r<this.length;r++)if(e===ut)e(this[r],t);else for(o in t)e(this[r],o,t[o]);return this}return this.length?e(this[0],t,i):e.$dv}}),r({removeData:lt,dealoc:at,bind:function Mr(e,t,n){var i=ct(e,"events"),o=ct(e,"handle");i||ct(e,"events",i={}),o||ct(e,"handle",o=yt(e,i)),r(t.split(" "),function(t){var r=i[t];if(!r){if("mouseenter"==t||"mouseleave"==t){var a=0;i.mouseenter=[],i.mouseleave=[],Mr(e,"mouseover",function(e){a++,1==a&&o(e,"mouseenter")}),Mr(e,"mouseout",function(e){a--,0==a&&o(e,"mouseleave")})}else si(e,t,o),i[t]=[];r=i[t]}r.push(n)})},unbind:st,replaceWith:function(e,t){var n,i=e.parentNode;at(e),r(new rt(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return r(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){r(new rt(t),function(t){1===e.nodeType&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;r(new rt(t),function(t){n?e.insertBefore(t,n):(e.appendChild(t),n=t)})}},wrap:function(e,t){t=Wn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){at(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,i=e.parentNode;r(new rt(t),function(e){i.insertBefore(e,n.nextSibling),n=e})},addClass:pt,removeClass:ht,toggleClass:function(e,t,n){g(n)&&(n=!dt(e,t)),(n?pt:ht)(e,t)},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:ot,triggerHandler:function(e,t){var n=(ct(e,"events")||{})[t];r(n,function(t){t.call(e,null)})}},function(e,t){rt.prototype[t]=function(t,i){for(var r,o=0;o<this.length;o++)r==n?(r=e(this[o],t,i),r!==n&&(r=Wn(r))):ft(r,e(this[o],t,i));return r==n?this:r}}),$t.prototype={put:function(e,t){this[bt(e)]=t},get:function(e){return this[bt(e)]},remove:function(e){var t=this[e=bt(e)];return delete this[e],t}},wt.prototype={push:function(e,t){var n=this[e=bt(e)];n?n.push(t):this[e]=[t]},shift:function(e){var t=this[e=bt(e)];return t?1==t.length?(delete this[e],t[0]):t.shift():void 0},peek:function(e){var t=this[bt(e)];return t?t[0]:void 0}};var fi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,gi=/,/,mi=/^\s*(_?)(\S+?)\1\s*$/,vi=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,yi="Non-assignable model expression: ";Dt.$inject=["$provide"];var bi=/^(x[\:\-_]|data[\:\-_])/i,$i=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,wi=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,xi=wi,Ci={http:80,https:443,ftp:21};Lt.prototype={$$replace:!1,absUrl:Vt("$$absUrl"),url:function(e,t){if(g(e))return this.$$url;var n=wi.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:Vt("$$protocol"),host:Vt("$$host"),port:Vt("$$port"),path:Bt("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){return g(e)?this.$$search:(m(t)?null===t?delete this.$$search[e]:this.$$search[e]=t:this.$$search=y(e)?H(e):e,this.$$compose(),this)},hash:Bt("$$hash",p),replace:function(){return this.$$replace=!0,this}},zt.prototype=d(Lt.prototype),Ht.prototype=d(zt.prototype);var ki={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:h,"+":function(e,t,i,r){return i=i(e,t),r=r(e,t),m(i)?m(r)?i+r:i:m(r)?r:n},"-":function(e,t,n,i){return n=n(e,t),i=i(e,t),(m(n)?n:0)-(m(i)?i:0)},"*":function(e,t,n,i){return n(e,t)*i(e,t)},"/":function(e,t,n,i){return n(e,t)/i(e,t)},"%":function(e,t,n,i){return n(e,t)%i(e,t)},"^":function(e,t,n,i){return n(e,t)^i(e,t)},"=":h,"==":function(e,t,n,i){return n(e,t)==i(e,t)},"!=":function(e,t,n,i){return n(e,t)!=i(e,t)},"<":function(e,t,n,i){return n(e,t)<i(e,t)},">":function(e,t,n,i){return n(e,t)>i(e,t)},"<=":function(e,t,n,i){return n(e,t)<=i(e,t)},">=":function(e,t,n,i){return n(e,t)>=i(e,t)},"&&":function(e,t,n,i){return n(e,t)&&i(e,t)},"||":function(e,t,n,i){return n(e,t)||i(e,t)},"&":function(e,t,n,i){return n(e,t)&i(e,t)},"|":function(e,t,n,i){return i(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Si={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ti={},_i=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw new Error("This browser does not support XMLHttpRequest.")};yn.$inject=["$provide"],$n.$inject=["$locale"],wn.$inject=["$locale"];var Ei=".",Di={yyyy:kn("FullYear",4),yy:kn("FullYear",2,0,!0),y:kn("FullYear",1),MMMM:Sn("Month"),MMM:Sn("Month",!0),MM:kn("Month",2,1),M:kn("Month",1,1),dd:kn("Date",2),d:kn("Date",1),HH:kn("Hours",2),H:kn("Hours",1),hh:kn("Hours",2,-12),h:kn("Hours",1,-12),mm:kn("Minutes",2),m:kn("Minutes",1),ss:kn("Seconds",2),s:kn("Seconds",1),EEEE:Sn("Day"),EEE:Sn("Day",!0),a:_n,Z:Tn},Ai=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Mi=/^\d+$/;En.$inject=["$locale"];var Ni=f(zn),Ii=f(Hn);Mn.$inject=["$parse"];var Pi=f({restrict:"E",compile:function(e,n){return 8>=Qn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.bind("click",function(e){t.attr("href")||e.preventDefault()})}}}),Oi={};r(hi,function(e,t){var n=At("ng-"+t);Oi[n]=function(){return{priority:100,compile:function(){return function(e,i,r){e.$watch(r[n],function(e){r.$set(t,!!e)})}}}}}),r(["src","href"],function(e){var t=At("ng-"+e);Oi[t]=function(){return{priority:99,link:function(n,i,r){r.$observe(t,function(t){t&&(r.$set(e,t),Qn&&i.prop(e,r[e]))})}}}});var ji={$addControl:h,$removeControl:h,$setValidity:h,$setDirty:h};In.$inject=["$element","$attrs","$scope"];var Fi=function(e){return["$timeout",function(t){var i={name:"form",restrict:"E",controller:In,compile:function(){return{pre:function(e,i,r,o){if(!r.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};si(i[0],"submit",a),i.bind("$destroy",function(){t(function(){li(i[0],"submit",a)},0,!1)})}var s=i.parent().controller("form"),l=r.name||r.ngForm;l&&(e[l]=o),s&&i.bind("$destroy",function(){s.$removeControl(o),l&&(e[l]=n),c(o,ji)})}}}};return e?c(N(i),{restrict:"EAC"}):i}]},qi=Fi(),Ri=Fi(!0),Ui=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Li=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,zi=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Hi={text:On,number:jn,url:Fn,email:qn,radio:Rn,checkbox:Un,hidden:h,button:h,submit:h,reset:h},Vi=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,i,r,o){o&&(Hi[zn(r.type)]||Hi.text)(n,i,r,o,t,e)}}}],Bi="ng-valid",Wi="ng-invalid",Yi="ng-pristine",Xi="ng-dirty",Ki=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,i,o){function a(e,t){t=t?"-"+K(t,"-"):"",i.removeClass((e?Wi:Bi)+t).addClass((e?Bi:Wi)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var s=o(n.ngModel),l=s.assign;if(!l)throw Error(yi+n.ngModel+" ("+z(i)+")");this.$render=h;var c=i.inheritedData("$formController")||ji,u=0,d=this.$error={};i.addClass(Yi),a(!0),this.$setValidity=function(e,t){d[e]!==!t&&(t?(d[e]&&u--,u||(a(!0),this.$valid=!0,this.$invalid=!1)):(a(!1),this.$invalid=!0,this.$valid=!1,u++),d[e]=!t,a(t,e),c.$setValidity(e,t,this))},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,i.removeClass(Yi).addClass(Xi),c.$setDirty()),r(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(e,n),r(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var p=this;e.$watch(function(){var t=s(e);if(p.$modelValue!==t){var n=p.$formatters,i=n.length;for(p.$modelValue=t;i--;)t=n[i](t);p.$viewValue!==t&&(p.$viewValue=t,p.$render())}})}],Qi=function(){return{require:["ngModel","^?form"],controller:Ki,link:function(e,t,n,i){var r=i[0],o=i[1]||ji;o.$addControl(r),t.bind("$destroy",function(){o.$removeControl(r)})}}},Gi=f({require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Ji=function(){return{require:"?ngModel",link:function(e,t,n,i){if(i){n.required=!0;var r=function(e){return n.required&&(Pn(e)||e===!1)?(i.$setValidity("required",!1),void 0):(i.$setValidity("required",!0),e)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}},Zi=function(){return{require:"ngModel",link:function(e,t,i,o){var a=/\/(.*)\//.exec(i.ngList),s=a&&new RegExp(a[1])||i.ngList||",",l=function(e){var t=[];return e&&r(e.split(s),function(e){e&&t.push(T(e))}),t};o.$parsers.push(l),o.$formatters.push(function(e){return w(e)?e.join(", "):n})}}},er=/^(true|false|\d+)$/,tr=function(){return{priority:100,compile:function(e,t){return er.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e,!1)})}}}},nr=Nn(function(e,t,i){t.addClass("ng-binding").data("$binding",i.ngBind),e.$watch(i.ngBind,function(e){t.text(e==n?"":e)})}),ir=["$interpolate",function(e){return function(t,n,i){var r=e(n.attr(i.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",r),i.$observe("ngBindTemplate",function(e){n.text(e)})}}],rr=[function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe),e.$watch(n.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}],or=Ln("",!0),ar=Ln("Odd",0),sr=Ln("Even",1),lr=Nn({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),cr=[function(){return{scope:!0,controller:"@"}}],ur=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],dr={};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave".split(" "),function(e){var t=At("ng-"+e);dr[t]=["$parse",function(n){return function(i,r,o){var a=n(o[t]);r.bind(zn(e),function(e){i.$apply(function(){a(i,{$event:e})})})}}]});var hr=Nn(function(e,t,n){t.bind("submit",function(){e.$apply(n.ngSubmit)})}),pr=["$http","$templateCache","$anchorScroll","$compile",function(e,t,n,i){return{restrict:"ECA",terminal:!0,compile:function(r,o){var a=o.ngInclude||o.src,s=o.onload||"",l=o.autoscroll;return function(r,o){var c,u=0,d=function(){c&&(c.$destroy(),c=null),o.html("")};r.$watch(a,function(a){var h=++u;a?e.get(a,{cache:t}).success(function(e){h===u&&(c&&c.$destroy(),c=r.$new(),o.html(e),i(o.contents())(c),!m(l)||l&&!r.$eval(l)||n(),c.$emit("$includeContentLoaded"),r.$eval(s))}).error(function(){h===u&&d()}):d()})}}}}],fr=Nn({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),gr=Nn({terminal:!0,priority:1e3}),mr=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(i,o,a){var s=a.count,l=o.attr(a.$attr.when),c=a.offset||0,u=i.$eval(l),d={},h=t.startSymbol(),p=t.endSymbol();r(u,function(e,i){d[i]=t(e.replace(n,h+s+"-"+c+p))}),i.$watch(function(){var t=parseFloat(i.$eval(s));return isNaN(t)?"":(u[t]||(t=e.pluralCat(t-c)),d[t](i,o,!0))},function(e){o.text(e)})}}}],vr=Nn({transclude:"element",priority:1e3,terminal:!0,compile:function(e,t,n){return function(e,t,i){var r,o,a,s,l=i.ngRepeat,c=l.match(/^\s*(.+)\s+in\s+(.*)\s*$/);if(!c)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+l+"'.");if(r=c[1],o=c[2],c=r.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!c)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+r+"'.");a=c[3]||c[1],s=c[2];var u=new wt;e.$watch(function(e){var i,r,l,c,d,h,p,f,g=e.$eval(o),m=t,v=new wt;if(w(g))p=g||[];else{p=[];for(d in g)g.hasOwnProperty(d)&&"$"!=d.charAt(0)&&p.push(d);p.sort()}for(l=p.length-1,i=0,r=p.length;r>i;i++)d=g===p?i:p[i],h=g[d],f=u.shift(h),f?(c=f.scope,v.push(h,f),i===f.index?m=f.element:(f.index=i,m.after(f.element),m=f.element)):c=e.$new(),c[a]=h,s&&(c[s]=d),c.$index=i,c.$first=0===i,c.$last=i===l,c.$middle=!(c.$first||c.$last),f||n(c,function(e){m.after(e),f={scope:c,element:m=e,index:i},v.push(h,f)});for(d in u)if(u.hasOwnProperty(d))for(p=u[d];p.length;)h=p.pop(),h.element.remove(),h.scope.$destroy();u=v})}}}),yr=Nn(function(e,t,n){e.$watch(n.ngShow,function(e){t.css("display",L(e)?"":"none")})}),br=Nn(function(e,t,n){e.$watch(n.ngHide,function(e){t.css("display",L(e)?"none":"")})}),$r=Nn(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&r(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),wr=f({restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,i){var r,o,a,s=n.ngSwitch||n.on;e.$watch(s,function(s){o&&(a.$destroy(),o.remove(),o=a=null),(r=i.cases["!"+s]||i.cases["?"])&&(e.$eval(n.change),a=e.$new(),r(a,function(e){o=e,t.append(e)}))})}}),xr=Nn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,i,r,o){o.cases["!"+t.ngSwitchWhen]=n}}}),Cr=Nn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,t,i,r){r.cases["?"]=n}}}),kr=Nn({controller:["$transclude","$element",function(e,t){e(function(e){t.append(e)})}]}),Sr=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(e,t,n,i,r,o){return{restrict:"ECA",terminal:!0,link:function(e,t,a){function s(){u&&(u.$destroy(),u=null)}function l(){t.html(""),s()}function c(){var a=n.current&&n.current.locals,c=a&&a.$template;if(c){t.html(c),s();var h,p=r(t.contents()),f=n.current;u=f.scope=e.$new(),f.controller&&(a.$scope=u,h=o(f.controller,a),t.children().data("$ngControllerController",h)),p(u),u.$emit("$viewContentLoaded"),u.$eval(d),i()}else l()}var u,d=a.onload||"";e.$on("$routeChangeSuccess",c),c()}}}],Tr=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var i=n.id,r=t[0].text;e.put(i,r)}}}}],_r=f({terminal:!0}),Er=["$compile","$parse",function(e,i){var a=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,s={$setViewValue:h};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var i,r,o=this,a={},l=s;o.databound=n.ngModel,o.init=function(e,t,n){l=e,i=t,r=n},o.addOption=function(t){a[t]=!0,l.$viewValue==t&&(e.val(t),r.parent()&&r.remove())},o.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue==e&&this.renderUnknownOption(e))},o.renderUnknownOption=function(t){var n="? "+bt(t)+" ?";r.val(n),e.prepend(r),e.val(n),r.prop("selected",!0)},o.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){o.renderUnknownOption=h})}],link:function(s,l,c,u){function d(e,t,n,i){n.$render=function(){var e=n.$viewValue;i.hasOption(e)?(k.parent()&&k.remove(),t.val(e),""===e&&f.prop("selected",!0)):g(e)&&f?t.val(""):i.renderUnknownOption(e)},t.bind("change",function(){e.$apply(function(){k.parent()&&k.remove(),n.$setViewValue(t.val())})})}function h(e,t,n){var i;n.$render=function(){var e=new $t(n.$viewValue);r(t.find("option"),function(t){t.selected=m(e.get(t.value))})},e.$watch(function(){P(i,n.$viewValue)||(i=N(n.$viewValue),n.$render())}),t.bind("change",function(){e.$apply(function(){var e=[];r(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,r,s){function l(){var e,i,a,l,c,v,y,$,k,S,T,_,E,D,A={"":[]},M=[""],N=s.$modelValue,I=g(t)||[],P=h?o(I):I,O={},j=!1;for(b?j=new $t(N):(null===N||w)&&(A[""].push({selected:null===N,id:"",label:""}),j=!0),S=0;$=P.length,$>S;S++)O[d]=I[h?O[h]=P[S]:S],e=p(t,O)||"",(i=A[e])||(i=A[e]=[],M.push(e)),b?T=j.remove(f(t,O))!=n:(T=N===f(t,O),j=j||T),D=u(t,O),D=D===n?"":D,i.push({id:h?P[S]:S,label:D,selected:T});for(b||j||A[""].unshift({id:"?",label:"",selected:!0}),k=0,y=M.length;y>k;k++){for(e=M[k],i=A[e],m.length<=k?(l={element:C.clone().attr("label",e),label:i.label},c=[l],m.push(c),r.append(l.element)):(c=m[k],l=c[0],l.label!=e&&l.element.attr("label",l.label=e)),_=null,S=0,$=i.length;$>S;S++)a=i[S],(v=c[S+1])?(_=v.element,v.label!==a.label&&_.text(v.label=a.label),v.id!==a.id&&_.val(v.id=a.id),v.element.selected!==a.selected&&_.prop("selected",v.selected=a.selected)):(""===a.id&&w?E=w:(E=x.clone()).val(a.id).attr("selected",a.selected).text(a.label),c.push(v={element:E,label:a.label,id:a.id,selected:a.selected}),_?_.after(E):l.element.append(E),_=E);for(S++;c.length>S;)c.pop().element.remove()}for(;m.length>k;)m.pop()[0].element.remove()}var c;if(!(c=$.match(a)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+$+"'.");var u=i(c[2]||c[1]),d=c[4]||c[6],h=c[5],p=i(c[3]||""),f=i(c[2]?c[1]:d),g=i(c[7]),m=[[{element:r,label:""}]];w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),r.html(""),r.bind("change",function(){t.$apply(function(){var e,i,o,a,l,c,u,p,v=g(t)||[],y={};if(b)for(o=[],c=0,p=m.length;p>c;c++)for(e=m[c],l=1,u=e.length;u>l;l++)(a=e[l].element)[0].selected&&(i=a.val(),h&&(y[h]=i),y[d]=v[i],o.push(f(t,y)));else i=r.val(),"?"==i?o=n:""==i?o=null:(y[d]=v[i],h&&(y[h]=i),o=f(t,y));s.$setViewValue(o)})}),s.$render=l,t.$watch(l)}if(u[1]){for(var f,v=u[0],y=u[1],b=c.multiple,$=c.ngOptions,w=!1,x=Wn(t.createElement("option")),C=Wn(t.createElement("optgroup")),k=x.clone(),S=0,T=l.children(),_=T.length;_>S;S++)if(""==T[S].value){f=w=T.eq(S);break}if(v.init(y,w,k),b&&(c.required||c.ngRequired)){var E=function(e){return y.$setValidity("required",!c.required||e&&e.length),e};y.$parsers.push(E),y.$formatters.unshift(E),c.$observe("required",function(){E(y.$viewValue)})}$?p(s,l,y):b?h(s,l,y):d(s,l,y,v)}}}}],Dr=["$interpolate",function(e){var t={addOption:h,removeOption:h};return{restrict:"E",priority:100,compile:function(n,i){if(g(i.value)){var r=e(n.text(),!0);r||i.$set("value",n.text())}return function(e,n,i){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.databound?n.prop("selected",!1):s=t,r?e.$watch(r,function(e,t){i.$set("value",e),e!==t&&s.removeOption(t),s.addOption(e)}):s.addOption(i.value),n.bind("$destroy",function(){s.removeOption(i.value)})}}}}],Ar=f({restrict:"E",terminal:!0});Q(),et(ei),Wn(t).ready(function(){Y(t,X)})}(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,i){function r(){var e,r,o,l;for(e in s)u(a[e])&&i.cookies(e,n);for(e in a)r=a[e],t.isString(r)?r!==s[e]&&(i.cookies(e,r),l=!0):t.isDefined(s[e])?a[e]=s[e]:delete a[e];if(l){l=!1,o=i.cookies();for(e in a)a[e]!==o[e]&&(u(o[e])?delete a[e]:a[e]=o[e],l=!0)}}var o,a={},s={},l=!1,c=t.copy,u=t.isUndefined;return i.addPollFn(function(){var t=i.cookies();o!=t&&(o=t,c(t,s),c(t,a),l&&e.$apply())})(),l=!0,e.$watch(r),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){return t.fromJson(e[n])},put:function(n,i){e[n]=t.toJson(i)},remove:function(t){delete e[t]}}}])}(window,window.angular),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,i,r){var o={};r.uiAnimate&&(o=e.$eval(r.uiAnimate),angular.isString(o)&&(o={"class":o})),o=angular.extend({"class":"ui-animate"},n,o),i.addClass(o["class"]),t(function(){i.removeClass(o["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(t,n,i){function r(){t.calendar=n.html("");var r=t.calendar.fullCalendar("getView");r&&(r=r.name);var a,s={defaultView:r,eventSources:o};a=i.uiCalendar?t.$eval(i.uiCalendar):{},angular.extend(s,e.uiCalendar,a),t.calendar.fullCalendar(s)}var o=t.$eval(i.ngModel),a=0,s=function(){var e=t.$eval(i.equalsTracker);return a=0,angular.forEach(o,function(e){angular.isArray(e)&&(a+=e.length)}),angular.isNumber(e)?a+o.length+e:a+o.length};r(),t.$watch(s,function(){r()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(e,t){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(i,r,o,a){var s,l,c,u,d;if("textarea"!==r[0].type)throw new Error("uiCodemirror3 can only be applied to a textarea element");s=e.codemirror||{},l=angular.extend({},s,i.$eval(o.uiCodemirror)),c=function(e){return function(t,n){var r=t.getValue();r!==a.$viewValue&&(a.$setViewValue(r),i.$apply()),"function"==typeof e&&e(t,n)}},u=function(){d=CodeMirror.fromTextArea(r[0],l),d.on("change",c(l.onChange));for(var e,s=0,u=n.length;u>s;++s)e=l["on"+n[s].charAt(0).toUpperCase()+n[s].slice(1)],void 0!==e&&"function"==typeof e&&d.on(n[s],e);a.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),a.$render=function(){d.setValue(a.$viewValue)},o.uiRefresh&&i.$watch(o.uiRefresh,function(e,n){e!==n&&t(d.refresh)})},t(u)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,i,r,o){var a,s,l;a=angular.extend({},n,e.$eval(r.uiCurrency)),s=function(e){var n;return n=1*e,i.toggleClass(a.pos,n>0),i.toggleClass(a.neg,0>n),i.toggleClass(a.zero,0===n),""===e?i.text(""):i.text(t(n,a.symbol)),!0},o.$render=function(){l=o.$viewValue,i.val(l),s(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,i,r){var o=function(){return angular.extend({},e.date,t.$eval(i.uiDate))},a=function(){var e=o();if(r){var i=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),r.$setViewValue(e),n.blur()})};if(e.onSelect){var a=e.onSelect;e.onSelect=function(e,n){i(),t.$apply(function(){a(e,n)})}}else e.onSelect=i;n.bind("change",i),r.$render=function(){var e=r.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),r&&r.$render()};t.$watch(o,a,!0)}}}]).directive("uiDateFormat",["ui.config",function(e){var t={require:"ngModel",link:function(t,n,i,r){var o=i.uiDateFormat||e.dateFormat;o?(r.$formatters.push(function(e){return angular.isString(e)?$.datepicker.parseDate(o,e):void 0}),r.$parsers.push(function(e){return e?$.datepicker.formatDate(o,e):void 0})):(r.$formatters.push(function(e){return angular.isString(e)?new Date(e):void 0}),r.$parsers.push(function(e){return e?e.toISOString():void 0}))}};return t}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,i){var r=t.$eval(i.uiEvent);angular.forEach(r,function(i,r){var o=e(i);n.bind(r,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){o(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,i){var r,o;e.$watch(i.uiIf,function(i){r&&(r.remove(),r=void 0),o&&(o.$destroy(),o=void 0),i&&(o=e.$new(),n(o,function(e){r=e,t.after(e)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(e,t){return{restrict:"A",compile:function(n,i){if(!angular.isFunction(n[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var r=e.jq&&e.jq[i.uiJq];return function(e,n,i){function o(){t(function(){n[i.uiJq].apply(n,a)},0,!1)}var a=[];i.uiOptions?(a=e.$eval("["+i.uiOptions+"]"),angular.isObject(r)&&angular.isObject(a[0])&&(a[0]=angular.extend({},r,a[0]))):r&&(a=[r]),i.ngModel&&n.is("select,input,textarea")&&n.on("change",function(){n.trigger("input")}),i.uiRefresh&&e.$watch(i.uiRefresh,function(){o()}),o()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(i,r,o,a){var s,l=[];s=r.$eval(a["ui"+n(i)]),angular.forEach(s,function(t,n){var i,r;r=e(t),angular.forEach(n.split(" "),function(e){i={expression:r,keys:{}},angular.forEach(e.split("-"),function(e){i.keys[e]=!0}),l.push(i)})}),o.bind(i,function(e){var n=e.metaKey||e.altKey,o=e.ctrlKey,a=e.shiftKey,s=e.keyCode;"keypress"===i&&!a&&s>=97&&122>=s&&(s-=32),angular.forEach(l,function(i){var s=i.keys[t[e.keyCode]]||i.keys[e.keyCode.toString()]||!1,l=i.keys.alt||!1,c=i.keys.ctrl||!1,u=i.keys.shift||!1;s&&l==n&&c==o&&u==a&&r.$apply(function(){i.expression(r,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,i){e("keydown",t,n,i)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,i){e("keypress",t,n,i)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,i){e("keyup",t,n,i)}}}]),function(){function e(e,t,n,i){angular.forEach(t.split(" "),function(t){var r={type:"map-"+t};google.maps.event.addListener(n,t,function(t){i.triggerHandler(angular.extend({},r,t)),e.$$phase||e.$apply()})})}function t(t,i){n.directive(t,[function(){return{restrict:"A",link:function(n,r,o){n.$watch(o[t],function(t){e(n,i,t,r)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(t,n){var i="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",r=t.map||{};return{restrict:"A",link:function(t,o,a){var s=angular.extend({},r,t.$eval(a.uiOptions)),l=new google.maps.Map(o[0],s),c=n(a.uiMap);c.assign(t,l),e(t,i,l,o)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(t,n,i){var r="closeclick content_change domready position_changed zindex_changed",o=t.mapInfoWindow||{};return{link:function(t,a,s){var l=angular.extend({},o,t.$eval(s.uiOptions));l.content=a[0];var c=n(s.uiMapInfoWindow),u=c(t);u||(u=new google.maps.InfoWindow(l),c.assign(t,u)),e(t,r,u,a),a.replaceWith("<div></div>");var d=u.open;u.open=function(e,n,r,o,s,l){i(a.contents())(t),d.call(u,e,n,r,o,s,l)}}}}]),t("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),t("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),t("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,i){i.$render=function(){var r=i.$viewValue||"";
t.val(r),t.mask(e.$eval(n.uiMask))},i.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return i.$setValidity("mask",n),n?e:void 0}),t.bind("keyup",function(){e.$apply(function(){i.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return void 0!==e.reset&&(t=e.reset),{require:"ngModel",link:function(e,n,i,r){var o;o=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(o),o.bind("click",function(n){n.preventDefault(),e.$apply(function(){i.uiReset?r.$setViewValue(e.$eval(i.uiReset)):r.$setViewValue(t),r.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",compile:function(n,i){var r;if(i.uiRoute)r="uiRoute";else if(i.ngHref)r="ngHref";else{if(!i.href)throw new Error("uiRoute missing a route or href property on "+n[0]);r="href"}return function(n,i,o){function a(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),c=function(){l(n,e.path().indexOf(t)>-1)},c()}function s(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),c=function(){var i=new RegExp("^"+t+"$",["i"]);l(n,i.test(e.path()))},c()}var l=t(o.ngModel||o.routeModel||"$uiRoute").assign,c=angular.noop;switch(r){case"uiRoute":o.uiRoute?s(o.uiRoute):o.$observe("uiRoute",s);break;case"ngHref":o.ngHref?a(o.ngHref):o.$observe("ngHref",a);break;case"href":a(o.href)}n.$on("$routeChangeSuccess",function(){c()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,i){var r=n.offset().top;i.uiScrollfix?"-"===i.uiScrollfix.charAt(0)?i.uiScrollfix=r-i.uiScrollfix.substr(1):"+"===i.uiScrollfix.charAt(0)&&(i.uiScrollfix=r+parseFloat(i.uiScrollfix.substr(1))):i.uiScrollfix=r,angular.element(e).on("scroll.ui-scrollfix",function(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var r=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;t=r.scrollTop}!n.hasClass("ui-scrollfix")&&t>i.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<i.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,t){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,i){var r,o,a,s=e.is("select"),l=void 0!==i.multiple;return e.is("select")&&(o=e.find("option[ng-repeat], option[data-ng-repeat]"),o.length&&(a=o.attr("ng-repeat")||o.attr("data-ng-repeat"),r=jQuery.trim(a.split("|")[0]).split(" ").pop())),function(e,i,o,a){var c=angular.extend({},n,e.$eval(o.uiSelect2));if(s?(delete c.multiple,delete c.initSelection):l&&(c.multiple=!0),a&&(window.ctl=a,e.$watch(function(){return a.$modelValue},function(){a.$render()},!0),a.$render=function(){s?i.select2("val",a.$viewValue):l?a.$viewValue?angular.isArray(a.$viewValue)?i.select2("data",a.$viewValue):i.select2("val",a.$viewValue):i.select2("data",[]):angular.isObject(a.$viewValue)?i.select2("data",a.$viewValue):a.$viewValue?i.select2("val",a.$viewValue):i.select2("data",null)},r&&e.$watch(r,function(e){e&&t(function(){i.select2("val",a.$viewValue),i.trigger("change")})}),!s&&(i.bind("change",function(){e.$$phase||e.$apply(function(){a.$setViewValue(i.select2("data"))})}),c.initSelection))){var u=c.initSelection;c.initSelection=function(e,t){u(e,function(e){a.$setViewValue(e),t(e)})}}o.$observe("disabled",function(e){i.select2(e&&"disable"||"enable")}),o.ngMultiple&&e.$watch(o.ngMultiple,function(){i.select2(c)}),t(function(){i.select2(c),i.val(a.$viewValue),a.$render(),c.initSelection||s||a.$setViewValue(i.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){return{require:"?ngModel",link:function(t,n,i,r){var o,a,s,l,c,u,d,h,p;c=angular.extend({},e.sortable,t.$eval(i.uiSortable)),r&&(r.$render=function(){n.sortable("refresh")},s=function(e,t){t.item.sortable={index:t.item.index()}},l=function(e,t){t.item.sortable.resort=r},o=function(e,t){t.item.sortable.relocate=!0,r.$modelValue.splice(t.item.index(),0,t.item.sortable.moved)},a=function(e,t){t.item.sortable.moved=1===r.$modelValue.length?r.$modelValue.splice(0,1)[0]:r.$modelValue.splice(t.item.sortable.index,1)[0]},onStop=function(e,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var i,r;r=n.item.sortable.index,i=n.item.index(),i>r&&i--,n.item.sortable.resort.$modelValue.splice(i,0,n.item.sortable.resort.$modelValue.splice(r,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&t.$apply()},h=c.start,c.start=function(e,t){s(e,t),"function"==typeof h&&h(e,t)},_stop=c.stop,c.stop=function(e,t){onStop(e,t),"function"==typeof _stop&&_stop(e,t)},p=c.update,c.update=function(e,t){l(e,t),"function"==typeof p&&p(e,t)},u=c.receive,c.receive=function(e,t){o(e,t),"function"==typeof u&&u(e,t)},d=c.remove,c.remove=function(e,t){a(e,t),"function"==typeof d&&d(e,t)}),n.sortable(c)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,i,r){var o,a={onchange_callback:function(e){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(){return this.isDirty()&&(this.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e){e.isDirty()&&(e.save(),r.$setViewValue(n.val()),t.$$phase||t.$apply())})}};o=i.uiTinymce?t.$eval(i.uiTinymce):{},angular.extend(a,e.tinymce,o),setTimeout(function(){n.tinymce(a)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r,o,a={},s=e.$eval(n.uiValidate);s&&(angular.isString(s)&&(s={validator:s}),angular.forEach(s,function(t,n){r=function(r){return e.$eval(t,{$value:r})?(i.$setValidity(n,!0),r):(i.$setValidity(n,!1),void 0)},a[n]=r,i.$formatters.push(r),i.$parsers.push(r)}),n.uiValidateWatch&&(o=e.$eval(n.uiValidateWatch),angular.isString(o)?e.$watch(o,function(){angular.forEach(a,function(e){e(i.$modelValue)})}):angular.forEach(o,function(t,n){e.$watch(t,function(){a[n](i.$modelValue)})})))}}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n,i=e.toString();return void 0===t?i:angular.isArray(t)||angular.isObject(t)?(n=angular.isArray(t)&&"$"||":",angular.forEach(t,function(e,t){i=i.split(n+t).join(e)}),i):i.split("$0").join(t)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){for(var t=!1,r=0;r<n.length;r++)if(angular.equals(i(n[r]),i(e))){t=!0;break}t||n.push(e)}),e=n}return e}}),angular.module("$strap.config",[]).constant("$strapConfig",{}),angular.module("$strap.filters",["$strap.config"]),angular.module("$strap.directives",["$strap.config"]),angular.module("$strap",["$strap.filters","$strap.directives","$strap.config"]),angular.module("$strap.directives").directive("bsAlert",["$parse","$timeout","$compile",function(e,t,n){"use strict";return{restrict:"A",link:function(i,r,o){var a=e(o.bsAlert),s=(a.assign,a(i));if(o.bsAlert)i.$watch(o.bsAlert,function(e,a){s=e,r.html((e.title?"<strong>"+e.title+"</strong>&nbsp;":"")+e.content||""),e.closed&&r.hide(),n(r.contents())(i),(e.type||a.type)&&(a.type&&r.removeClass("alert-"+a.type),e.type&&r.addClass("alert-"+e.type));var l=0;angular.isDefined(e.closeAfter)?l=e.closeAfter:angular.isDefined(o.closeAfter)&&(l=o.closeAfter),l=parseInt(l,10)||0,l>0&&t(function(){r.alert("close")},l),(angular.isUndefined(o.closeButton)||"0"!==o.closeButton&&"false"!==o.closeButton)&&r.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>')},!0);else if((angular.isUndefined(o.closeButton)||"0"!==o.closeButton&&"false"!==o.closeButton)&&r.prepend('<button type="button" class="close" data-dismiss="alert">&times;</button>'),angular.isDefined(o.closeAfter)){var l=parseInt(o.closeAfter,10)||0;t(function(){r.alert("close")},l)}r.addClass("alert").alert(),r.hasClass("fade")&&(r.removeClass("in"),setTimeout(function(){r.addClass("in")}));var c=o.ngRepeat&&o.ngRepeat.split(" in ").pop();r.on("close",function(e){var t;c?(e.preventDefault(),r.removeClass("in"),t=function(){r.trigger("closed"),i.$parent&&i.$parent.$apply(function(){for(var e=c.split("."),t=i.$parent,n=0;n<e.length;++n)t&&(t=t[e[n]]);t&&t.splice(i.$index,1)})},$.support.transition&&r.hasClass("fade")?r.on($.support.transition.end,t):t()):s&&(e.preventDefault(),r.removeClass("in"),t=function(){r.trigger("closed"),i.$apply(function(){s.closed=!0})},$.support.transition&&r.hasClass("fade")?r.on($.support.transition.end,t):t())})}}}]),angular.module("$strap.directives").directive("bsButton",["$parse","$timeout",function(e){"use strict";return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){n.parent('[data-toggle="buttons-checkbox"], [data-toggle="buttons-radio"]').length||n.attr("data-toggle","button");var o=!!t.$eval(i.ngModel);o&&n.addClass("active"),t.$watch(i.ngModel,function(e,t){var i=!!e,r=!!t;i!==r?$.fn.button.Constructor.prototype.toggle.call(a):i&&!o&&n.addClass("active")})}n.hasClass("btn")||n.on("click.button.data-api",function(){n.button("toggle")}),n.button();var a=n.data("button");a.toggle=function(){if(!r)return $.fn.button.Constructor.prototype.toggle.call(this);var i=n.parent('[data-toggle="buttons-radio"]');i.length?(n.siblings("[ng-model]").each(function(n,i){e($(i).attr("ng-model")).assign(t,!1)}),t.$digest(),r.$modelValue||(r.$setViewValue(!r.$modelValue),t.$digest())):t.$apply(function(){r.$setViewValue(!r.$modelValue)})}}}}]).directive("bsButtonsCheckbox",["$parse",function(){"use strict";return{restrict:"A",require:"?ngModel",compile:function(e){e.attr("data-toggle","buttons-checkbox").find("a, button").each(function(e,t){$(t).attr("bs-button","")})}}}]).directive("bsButtonsRadio",["$timeout",function(e){"use strict";return{restrict:"A",require:"?ngModel",compile:function(t,n){return t.attr("data-toggle","buttons-radio"),n.ngModel||t.find("a, button").each(function(e,t){$(t).attr("bs-button","")}),function(t,n,i,r){r&&(e(function(){n.find("[value]").button().filter('[value="'+r.$viewValue+'"]').addClass("active")}),n.on("click.button.data-api",function(e){t.$apply(function(){r.$setViewValue($(e.target).closest("button").attr("value"))})}),t.$watch(i.ngModel,function(e,r){if(e!==r){var o=n.find('[value="'+t.$eval(i.ngModel)+'"]');o.length&&o.button("toggle")}}))}}}}]),angular.module("$strap.directives").directive("bsButtonSelect",["$parse","$timeout",function(e){"use strict";return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){var o=e(i.bsButtonSelect);o.assign,r&&(n.text(t.$eval(i.ngModel)),t.$watch(i.ngModel,function(e){n.text(e)}));var a,s,l,c;n.bind("click",function(){a=o(t),s=r?t.$eval(i.ngModel):n.text(),l=a.indexOf(s),c=l>a.length-2?a[0]:a[l+1],t.$apply(function(){n.text(c),r&&r.$setViewValue(c)})})}}}]),angular.module("$strap.directives").directive("bsDatepicker",["$timeout","$strapConfig",function(e,t){"use strict";var n=/(iPad|iPho(ne|d))/g.test(navigator.userAgent),i=function(e){return e=e||"en",{"/":"[\\/]","-":"[-]",".":"[.]"," ":"[\\s]",dd:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",d:"(?:(?:[0-2]?[0-9]{1})|(?:[3][01]{1}))",mm:"(?:[0]?[1-9]|[1][012])",m:"(?:[0]?[1-9]|[1][012])",DD:"(?:"+$.fn.datepicker.dates[e].days.join("|")+")",D:"(?:"+$.fn.datepicker.dates[e].daysShort.join("|")+")",MM:"(?:"+$.fn.datepicker.dates[e].months.join("|")+")",M:"(?:"+$.fn.datepicker.dates[e].monthsShort.join("|")+")",yyyy:"(?:(?:[1]{1}[0-9]{1}[0-9]{1}[0-9]{1})|(?:[2]{1}[0-9]{3}))(?![[0-9]])",yy:"(?:(?:[0-9]{1}[0-9]{1}))(?![[0-9]])"}},r=function(e,t){var n,r=e,o=i(t);return n=0,angular.forEach(o,function(e,t){r=r.split(t).join("${"+n+"}"),n++}),n=0,angular.forEach(o,function(e){r=r.split("${"+n+"}").join(e),n++}),new RegExp("^"+r+"$",["i"])};return{restrict:"A",require:"?ngModel",link:function(e,i,o,a){var s=angular.extend({autoclose:!0},t.datepicker||{}),l=o.dateType||s.type||"date";angular.forEach(["format","weekStart","calendarWeeks","startDate","endDate","daysOfWeekDisabled","autoclose","startView","minViewMode","todayBtn","todayHighlight","keyboardNavigation","language","forceParse"],function(e){angular.isDefined(o[e])&&(s[e]=o[e])});var c=s.language||"en",u=n?"yyyy-mm-dd":o.dateFormat||s.format||$.fn.datepicker.dates[c]&&$.fn.datepicker.dates[c].format||"yyyy-mm-dd",d=r(u,c);a&&(a.$formatters.unshift(function(e){return"date"===l&&angular.isString(e)?new Date(e):e}),a.$parsers.unshift(function(e){return e?"date"===l&&angular.isDate(e)?(a.$setValidity("date",!0),e):angular.isString(e)&&d.test(e)?(a.$setValidity("date",!0),n?new Date(e):"string"===l?e:$.fn.datepicker.DPGlobal.parseDate(e,$.fn.datepicker.DPGlobal.parseFormat(u),c)):(a.$setValidity("date",!1),void 0):(a.$setValidity("date",!0),null)}),a.$render=function(){if(n){var e=$.fn.datepicker.DPGlobal.formatDate(a.$viewValue,$.fn.datepicker.DPGlobal.parseFormat(u),c);return i.val(e),e}return a.$viewValue&&i.datepicker("update",a.$viewValue)}),n?i.prop("type","date").css("-webkit-appearance","textfield"):(a&&i.on("changeDate",function(t){e.$apply(function(){a.$setViewValue("string"===l?i.val():t.date)})}),i.attr("data-toggle","datepicker"),i.datepicker(angular.extend(s,{format:u,language:c})),e.$on("$destroy",function(){var e=i.data("datepicker");e&&(e.picker.remove(),i.data("datepicker",null))}));var h=i.siblings('[data-toggle="datepicker"]');h.length&&h.on("click",function(){i.trigger("focus")})}}}]),angular.module("$strap.directives").directive("bsDropdown",["$parse","$compile","$timeout",function(e,t,n){"use strict";var i=function(e,t){return t||(t=['<ul class="dropdown-menu" role="menu" aria-labelledby="drop1">',"</ul>"]),angular.forEach(e,function(e,n){if(e.divider)return t.splice(n+1,0,'<li class="divider"></li>');var r="<li"+(e.submenu&&e.submenu.length?' class="dropdown-submenu"':"")+">"+'<a tabindex="-1" ng-href="'+(e.href||"")+'"'+(e.click?'" ng-click="'+e.click+'"':"")+(e.target?'" target="'+e.target+'"':"")+(e.method?'" data-method="'+e.method+'"':"")+">"+(e.text||"")+"</a>";e.submenu&&e.submenu.length&&(r+=i(e.submenu).join("\n")),r+="</li>",t.splice(n+1,0,r)}),t};return{restrict:"EA",scope:!0,link:function(r,o,a){var s=e(a.bsDropdown),l=s(r);n(function(){!angular.isArray(l);var e=angular.element(i(l).join(""));e.insertAfter(o),t(o.next("ul.dropdown-menu"))(r)}),o.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}]),angular.module("$strap.directives").factory("$modal",["$rootScope","$compile","$http","$timeout","$q","$templateCache",function(e,t,n,i,r,o){"use strict";var a=function(a){function s(a){a||(a={});var s=a.scope?a.scope.$new():e.$new(),l=a.template;return r.when(o.get(l)||n.get(l,{cache:!0}).then(function(e){return e.data})).then(function(e){var n=l.replace(".html","").replace(/[\/|\.|:]/g,"-")+"-"+s.$id,r=$('<div class="modal hide"></div>').attr("id",n).addClass("fade").html(e);return a.modalClass&&r.addClass(a.modalClass),$("body").append(r),i(function(){t(r)(s)}),s.$modal=function(e){r.modal(e)},angular.forEach(["show","hide"],function(e){s[e]=function(){r.modal(e)}}),s.dismiss=s.hide,angular.forEach(["show","shown","hide","hidden"],function(e){r.on(e,function(t){s.$emit("modal-"+e,t)})}),r.on("shown",function(){$("input[autofocus]",r).first().trigger("focus")}),r.on("hidden",function(){a.persist||s.$destroy()}),s.$on("$destroy",function(){r.remove()}),a.show&&r.modal("show"),r})}return new s(a)};return a}]).directive("bsModal",["$q","$modal",function(e,t){"use strict";return{restrict:"A",scope:!0,link:function(n,i,r){var o={template:n.$eval(r.bsModal),persist:!0,scope:n,modalClass:r.modalClass||"",backdrop:1*r.backdrop||!0,keyboard:1*r.keyboard||!0};e.when(t(o)).then(function(e){i.attr("data-target","#"+e.attr("id")).attr("data-toggle","modal")})}}}]),angular.module("$strap.directives").directive("bsNavbar",["$location",function(e){"use strict";return{restrict:"A",link:function(t,n){t.$watch(function(){return e.path()},function(e){$("li[data-match-route]",n).each(function(t,n){var i=angular.element(n),r=i.attr("data-match-route"),o=new RegExp("^"+r+"$",["i"]);o.test(e)?i.addClass("active"):i.removeClass("active")})})}}}]),angular.module("$strap.directives").directive("bsPopover",["$parse","$compile","$http","$timeout","$q","$templateCache",function(e,t,n,i,r,o){"use strict";return $("body").on("keyup",function(e){27===e.keyCode&&$(".popover.in").each(function(){$(this).popover("hide")})}),{restrict:"A",scope:!0,link:function(i,a,s){var l=e(s.bsPopover),c=(l.assign,l(i)),u={};angular.isObject(c)&&(u=c),r.when(u.content||o.get(c)||n.get(c,{cache:!0})).then(function(e){angular.isObject(e)&&(e=e.data),s.unique&&a.on("show",function(){$(".popover.in").each(function(){var e=$(this),t=e.data("popover");t&&!t.$element.is(a)&&e.popover("hide")})}),s.hide&&i.$watch(s.hide,function(e,t){e?n.hide():e!==t&&n.show()}),a.popover(angular.extend({},u,{content:e,html:!0}));var n=a.data("popover");n.hasContent=function(){return this.getTitle()||e},n.getPosition=function(){var e=$.fn.popover.Constructor.prototype.getPosition.apply(this,arguments);return t(this.$tip)(i),i.$digest(),this.$tip.data("popover",this),e},i.$popover=function(e){n(e)},angular.forEach(["show","hide"],function(e){i[e]=function(){n[e]()}}),i.dismiss=i.hide,angular.forEach(["show","shown","hide","hidden"],function(e){a.on(e,function(t){i.$emit("popover-"+e,t)})})})}}}]),angular.module("$strap.directives").directive("bsSelect",["$timeout",function(e){"use strict";return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){var o=t.$eval(i.bsSelect)||{};e(function(){n.selectpicker(o),n.next().removeClass("ng-scope")}),r&&t.$watch(i.ngModel,function(e,t){e!==t&&n.selectpicker("refresh")})}}}]),angular.module("$strap.directives").directive("bsTabs",["$parse","$compile","$timeout",function(e,t,n){"use strict";var i='<div class="tabs"><ul class="nav nav-tabs"><li ng-repeat="pane in panes" ng-class="{active:pane.active}"><a data-target="#{{pane.id}}" data-index="{{$index}}" data-toggle="tab">{{pane.title}}</a></li></ul><div class="tab-content" ng-transclude></div>';return{restrict:"A",require:"?ngModel",priority:0,scope:!0,template:i,replace:!0,transclude:!0,compile:function(){return function(t,i,r,o){var a=e(r.bsTabs);a.assign,a(t),t.panes=[];var s,l,c,u=i.find("ul.nav-tabs"),d=i.find("div.tab-content"),h=0;n(function(){d.find("[data-title], [data-tab]").each(function(e){var n=angular.element(this);s="tab-"+t.$id+"-"+e,l=n.data("title")||n.data("tab"),c=!c&&n.hasClass("active"),n.attr("id",s).addClass("tab-pane"),r.fade&&n.addClass("fade"),t.panes.push({id:s,title:l,content:this.innerHTML,active:c})}),t.panes.length&&!c&&(d.find(".tab-pane:first-child").addClass("active"+(r.fade?" in":"")),t.panes[0].active=!0)}),o&&(i.on("show",function(e){var n=$(e.target);t.$apply(function(){o.$setViewValue(n.data("index"))})}),t.$watch(r.ngModel,function(e){angular.isUndefined(e)||(h=e,setTimeout(function(){var t=$(u[0].querySelectorAll("li")[1*e]);t.hasClass("active")||t.children("a").tab("show")}))}))}}}}]),angular.module("$strap.directives").directive("bsTimepicker",["$timeout",function(e){"use strict";var t="((?:(?:[0-1][0-9])|(?:[2][0-3])|(?:[0-9])):(?:[0-5][0-9])(?::[0-5][0-9])?(?:\\s?(?:am|AM|pm|PM))?)";return{restrict:"A",require:"?ngModel",link:function(n,i,r,o){o&&i.on("changeTime.timepicker",function(){e(function(){o.$setViewValue(i.val())})});var a=new RegExp("^"+t+"$",["i"]);o.$parsers.unshift(function(e){return!e||a.test(e)?(o.$setValidity("time",!0),e):(o.$setValidity("time",!1),void 0)}),i.attr("data-toggle","timepicker"),i.parent().addClass("bootstrap-timepicker"),i.timepicker();var s=i.data("timepicker"),l=i.siblings('[data-toggle="timepicker"]');l.length&&l.on("click",$.proxy(s.showWidget,s))}}}]),angular.module("$strap.directives").directive("bsTooltip",["$parse","$compile",function(e){"use strict";return{restrict:"A",scope:!0,link:function(t,n,i){var r=e(i.bsTooltip),o=(r.assign,r(t));t.$watch(i.bsTooltip,function(e,t){e!==t&&(o=e)}),i.unique&&n.on("show",function(){$(".tooltip.in").each(function(){var e=$(this),t=e.data("tooltip");t&&!t.$element.is(n)&&e.tooltip("hide")})}),n.tooltip({title:function(){return angular.isFunction(o)?o.apply(null,arguments):o},html:!0});var a=n.data("tooltip");a.show=function(){var e=$.fn.tooltip.Constructor.prototype.show.apply(this,arguments);return this.tip().data("tooltip",this),e},t._tooltip=function(e){n.tooltip(e)},t.hide=function(){n.tooltip("hide")},t.show=function(){n.tooltip("show")},t.dismiss=t.hide}}}]),angular.module("$strap.directives").directive("bsTypeahead",["$parse",function(e){"use strict";return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){var o=e(i.bsTypeahead),a=(o.assign,o(t));t.$watch(i.bsTypeahead,function(e,t){e!==t&&(a=e)}),n.attr("data-provide","typeahead"),n.typeahead({source:function(){return angular.isFunction(a)?a.apply(null,arguments):a},minLength:i.minLength||1,items:i.items,updater:function(e){return r&&t.$apply(function(){r.$setViewValue(e)}),t.$emit("typeahead-updated",e),e}});var s=n.data("typeahead");s.lookup=function(){var e;return this.query=this.$element.val()||"",this.query.length<this.options.minLength?this.shown?this.hide():this:(e=$.isFunction(this.source)?this.source(this.query,$.proxy(this.process,this)):this.source,e?this.process(e):this)},"0"===i.minLength&&setTimeout(function(){n.on("focus",function(){0===n.val().length&&setTimeout(n.typeahead.bind(n,"lookup"),200)})})}}}]),function(){angular.module("rails",["ng"])}(),function(){angular.module("rails").factory("RailsInflector",function(){function e(e){return angular.isString(e)?e.replace(/_[\w\d]/g,function(e,t,n){return 0===t?e:n.charAt(t+1).toUpperCase()}):e}function t(e){return angular.isString(e)?e.replace(/[A-Z]/g,function(e,t){return 0===t?e:"_"+e.toLowerCase()}):e}function n(e){return e+"s"}return{camelize:e,underscore:t,pluralize:n}})}(),function(e){angular.module("rails").factory("RailsResourceInjector",["$injector",function(t){function n(n){return n?angular.isString(n)?t.get(n):n:e}function i(i){return i?t.instantiate(n(i)):e}return{createService:i,getDependency:n}}])}(),function(){angular.module("rails").factory("railsUrlBuilder",["$interpolate",function(e){return function(t){var n;return angular.isFunction(t)?t:(-1===t.indexOf(e.startSymbol())&&(t=t+"/"+e.startSymbol()+"id"+e.endSymbol()),n=e(t),function(e){return t=n(e),"/"===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),t})}}])}(),function(e){angular.module("rails").factory("railsSerializer",["$injector","RailsInflector","RailsResourceInjector",function(t,n,i){function r(t,n){function r(){angular.isFunction(t)&&(n=t,t={}),this.exclusions={},this.inclusions={},this.serializeMappings={},this.deserializeMappings={},this.customSerializedAttributes={},this.preservedAttributes={},this.customSerializers={},this.nestedResources={},this.options=angular.extend({},o,t||{}),n&&n.call(this,this)}return r.prototype.exclude=function(){var e=this.exclusions;return angular.forEach(arguments,function(t){e[t]=!1}),this},r.prototype.only=function(){var e=this.inclusions;return this.options.excludeByDefault=!0,angular.forEach(arguments,function(t){e[t]=!0}),this},r.prototype.nestedAttribute=function(){var e=this;return angular.forEach(arguments,function(t){e.rename(t,t+"_attributes")}),this},r.prototype.resource=function(e,t,n){return this.nestedResources[e]=t,n&&this.serializeWith(e,n),this},r.prototype.rename=function(t,n,i){return this.serializeMappings[t]=n,(i||i===e)&&(this.deserializeMappings[n]=t),this},r.prototype.add=function(e,t){return this.customSerializedAttributes[e]=t,this},r.prototype.preserve=function(e){return this.preservedAttributes[e]=!0,this},r.prototype.serializeWith=function(e,t){return this.customSerializers[e]=t,this},r.prototype.isExcludedFromSerialization=function(t){if(this.options.excludeByDefault&&!this.inclusions.hasOwnProperty(t)||this.exclusions.hasOwnProperty(t))return!0;if(this.options.exclusionMatchers){var n=!1;return angular.forEach(this.options.exclusionMatchers,function(i){angular.isString(i)?n=n||0===t.indexOf(i):angular.isFunction(i)?n=n||i.call(e,t):i instanceof RegExp&&(n=n||i.test(t))}),n}return!1},r.prototype.getSerializedAttributeName=function(t){var n=this.serializeMappings[t]||t;return this.isExcludedFromSerialization(t)||this.isExcludedFromSerialization(n)?e:this.underscore(n)},r.prototype.isExcludedFromDeserialization=function(){return!1},r.prototype.getDeserializedAttributeName=function(t){var n=this.camelize(t);return n=this.deserializeMappings[t]||this.deserializeMappings[n]||n,this.isExcludedFromDeserialization(t)||this.isExcludedFromDeserialization(n)?e:n},r.prototype.getNestedResource=function(e){return i.getDependency(this.nestedResources[e])},r.prototype.getAttributeSerializer=function(t){var n=this.getNestedResource(t),r=this.customSerializers[t];return r?i.createService(r):n?n.serializer:e},r.prototype.serializeValue=function(e){var t=e,n=this;if(angular.isArray(e))t=[],angular.forEach(e,function(e){t.push(n.serializeValue(e))});else if(angular.isObject(e)){if(angular.isDate(e))return e;t={},angular.forEach(e,function(e,i){angular.isFunction(e)||n.serializeAttribute(t,i,e)})}return t},r.prototype.serializeAttribute=function(t,n,i){var r=this.getAttributeSerializer(n),o=this.getSerializedAttributeName(n);o!==e&&(t[o]=r?r.serialize(i):this.serializeValue(i))},r.prototype.serialize=function(e){var t=this.serializeValue(e),n=this;return angular.isObject(t)&&angular.forEach(this.customSerializedAttributes,function(i,r){angular.isFunction(i)&&(i=i.call(e,e)),n.serializeAttribute(t,r,i)}),t},r.prototype.deserializeValue=function(e,t){var n=e,i=this;return angular.isArray(e)?(n=[],angular.forEach(e,function(e){n.push(i.deserializeValue(e,t))})):angular.isObject(e)&&(n={},t&&(n=new t),angular.forEach(e,function(e,t){i.deserializeAttribute(n,t,e)})),n},r.prototype.deserializeAttribute=function(t,n,i){var r,o,a=this.getDeserializedAttributeName(n);a!==e&&(r=this.getAttributeSerializer(a),o=this.getNestedResource(a),t[a]=this.preservedAttributes[a]?i:r?r.deserialize(i,o):this.deserializeValue(i,o))},r.prototype.deserialize=function(e,t){return this.deserializeValue(e,t)},r.prototype.pluralize=function(e){return this.options.pluralize?this.options.pluralize(e):e},r.prototype.underscore=function(e){return this.options.underscore?this.options.underscore(e):e},r.prototype.camelize=function(e){return this.options.camelize?this.options.camelize(e):e},r}var o={underscore:n.underscore,camelize:n.camelize,pluralize:n.pluralize,exclusionMatchers:["$"],excludeByDefault:!1};return r.defaultOptions=o,r}])}(),function(e){angular.module("rails").factory("railsRootWrappingTransformer",function(){return function(e,t){var n={};return n[angular.isArray(e)?t.rootPluralName:t.rootName]=e,n}}),angular.module("rails").factory("railsRootWrappingInterceptor",function(){return function(e){var t=e.resource;return t?e.then(function(e){return e.data&&e.data.hasOwnProperty(t.rootName)?e.data=e.data[t.rootName]:e.data&&e.data.hasOwnProperty(t.rootPluralName)&&(e.data=e.data[t.rootPluralName]),e}):e}}),angular.module("rails").factory("railsResourceFactory",["$http","$q","railsUrlBuilder","railsSerializer","railsRootWrappingTransformer","railsRootWrappingInterceptor","RailsResourceInjector",function(t,n,i,r,o,a,s){function l(n){function l(e,t){return t&&("/"!==t[0]&&(e+="/"),e+=t),e}function c(e){if(e){var t=function(e){return{resource:c,response:e,then:function(e){return this.response=e(this.response,this.resource),t(this.response)}}},n=c.callInterceptors(t({data:e})).response.data;angular.extend(this,n)}}var u=n.requestTransformers,d=n.responseInterceptors;return c.setUrl=function(e){c.url=i(e)},c.setUrl(n.url),c.enableRootWrapping=n.wrapData===e?!0:n.wrapData,c.httpConfig=n.httpConfig||{},c.httpConfig.headers=angular.extend({Accept:"application/json","Content-Type":"application/json"},c.httpConfig.headers||{}),c.requestTransformers=[],c.responseInterceptors=[],c.defaultParams=n.defaultParams,c.serializer=s.createService(n.serializer||r()),c.rootName=c.serializer.underscore(n.name),c.rootPluralName=c.serializer.underscore(n.pluralName||c.serializer.pluralize(n.name)),c.beforeResponse=function(e){var e=s.getDependency(e);c.responseInterceptors.push(function(t){return t.then(function(n){return e(n.data,t.resource),n})})},c.beforeRequest=function(e){var e=s.getDependency(e);c.requestTransformers.push(function(t,n){return e(t,n)||t})},angular.forEach(d,function(e){c.responseInterceptors.push(s.getDependency(e))}),angular.forEach(u,function(e){c.requestTransformers.push(s.getDependency(e))}),c.transformData=function(e){return e=c.serializer.serialize(e),angular.forEach(c.requestTransformers,function(t){e=t(e,c)}),c.enableRootWrapping&&(e=o(e,c)),e},c.callInterceptors=function(e){return e=e.then(function(e){return e.originalData=e.data,e}),c.enableRootWrapping&&(e.resource=c,e=a(e)),e.then(function(e){return e.data=c.serializer.deserialize(e.data,c),e}),angular.forEach(c.responseInterceptors,function(t){e.resource=c,e=t(e)}),e},c.processResponse=function(e){return c.callInterceptors(e).then(function(e){return e.data})},c.getParameters=function(e){var t;return c.defaultParams&&(t=c.defaultParams),angular.isObject(e)&&(t=angular.extend(t||{},e)),t},c.getHttpConfig=function(e){var t=c.getParameters(e);return t?angular.extend({params:t},c.httpConfig):angular.copy(c.httpConfig)},c.$url=c.resourceUrl=function(e,t){return angular.isObject(e)||(e={id:e}),l(c.url(e||{}),t)},c.$get=function(e,n){return c.processResponse(t.get(e,c.getHttpConfig(n)))},c.query=function(e,t){return c.$get(c.resourceUrl(t),e)},c.get=function(e,t){return c.$get(c.resourceUrl(e),t)},c.prototype.$url=function(e){return l(c.resourceUrl(this),e)},c.prototype.processResponse=function(e){return e=c.callInterceptors(e),e.then(angular.bind(this,function(e){return e.hasOwnProperty("data")&&angular.isObject(e.data)&&angular.extend(this,e.data),this}))},angular.forEach(["post","put","patch"],function(e){c["$"+e]=function(n,i){var r;return i=c.transformData(angular.copy(i,{})),r=angular.extend({method:e,url:n,data:i},c.getHttpConfig()),c.processResponse(t(r))},c.prototype["$"+e]=function(n){var i,r;return i=c.transformData(angular.copy(this,{})),r=angular.extend({method:e,url:n,data:i},c.getHttpConfig()),this.processResponse(t(r))}}),c.prototype.create=function(){return this.$post(this.$url(),this)},c.prototype.update=function(){return this.$put(this.$url(),this)},c.prototype.isNew=function(){return null==this.id},c.prototype.save=function(){return this.isNew()?this.create():this.update()},c.$delete=function(e){return c.processResponse(t["delete"](e,c.getHttpConfig()))},c.prototype.$delete=function(e){return this.processResponse(t["delete"](e,c.getHttpConfig()))},c.prototype.remove=c.prototype["delete"]=function(){return this.$delete(this.$url())},c}return l}])}(),angular.module("fileDropzone",[]).directive("fileDropzone",["$compile","$parse",function(e,t){function n(e,n,r){function o(t){l(t),e.$apply(function(e){e.overlayContainerStyle.height="100%",e.overlayVisible=!0
})}function a(t){l(t),e.$apply(function(e){e.overlayContainerStyle.height="0px",e.overlayVisible=!1})}function s(n){a(n);var i=[];angular.forEach(n.originalEvent.dataTransfer.files,function(e){i.push(e)}),e.$apply(function(){t(r.fileDropzone).assign(u,i)})}function l(e){e&&(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())}var c,u=e,e=e.$root.$new(!0);e.overlayText=r.dropzoneContent,e.files=u.$eval(r.fileDropzone),e.overlayVisible=!1,e.overlayStyle={width:"100%",height:"100%",background:"rgba(0,0,0,0.8)",position:"absolute",top:"0px",left:"0px",textAlign:"center",color:"#FFF"},e.overlayContainerStyle={width:"100%",height:"0px",overflow:"hidden",position:"absolute",top:"0px",left:"0px","z-index":1e4},i(e,function(e){c=angular.element(e.children()[0]),n.append(e)}),r.$observe("dropzoneContent",function(t){e.overlayText="undefined"!=typeof t?t:"Drop file here to upload."}),u.$watch(r.fileDropzone,function(t){"undefined"==typeof t?(u[r.fileDropzone]=[],e.files=[]):e.files=t}),"static"==n.css("position")&&n.css({position:"relative"}),n.bind("dragenter",o),n.bind("dragover",o),c.bind("dragleave",a),n.bind("drop",s)}var i;return{compile:function(){return i=e("<div ng-style='overlayContainerStyle'><div ng-class='{in:overlayVisible}' class='fade file-drop-zone-overlay' ng-style='overlayStyle'>{{overlayText}}</div></div>"),n}}}]),angular.module("RailsModel",["rails"]).factory("Model",["railsResourceFactory","railsSerializer","$q","$rootScope",function(e,t,n,i){var r="updateParentNestedValue".split(" ");return function(o){function a(e,t){var n;return"undefined"!=typeof t.id?"undefined"!=typeof s[t.id]?n=s[t.id]:(n=new e,s[t.id]=n):n=new e,angular.extend(n,t)}var s={__identity:o.name},l={__identity:o.name};o.requestTransformers=r,o.only&&(o.serializer=t(function(){this.only.apply(this,o.only)}));var c=e(o),u=c.prototype.update,d=c.prototype.create,h=c.prototype.remove;return c.prototype.update=function(){return this.isSaving=!0,u.apply(this,arguments).then(function(e){e.isSaving=!1})},c.prototype.create=function(){return this.isSaving=!0,d.apply(this,arguments).then(function(e){e.isSaving=!1})},c.prototype.remove=function(){return this.isSaving=!0,h.apply(this,arguments).then(function(e){e.isSaving=!1})},c.get=function(e,t){var i;if(angular.isNumber(e)?"undefined"!=typeof s[e]&&(i=s[e]):angular.isNumber(e.id)&&"undefined"!=typeof s[e.id]&&(i=s[e.id]),"undefined"!=typeof i){var r=n.defer();return r.resolve(i),c.$get(c.resourceUrl(e),t).then(function(e){angular.extend(i,e)}),r.promise}return c.query(t,e).then(function(e){if("undefined"!=typeof e.id){if("undefined"!=typeof s[e.id])return angular.extend(s[e.id],e);s[e.id]=e}return e})},c.query=function(e,t){e=e||{},t=t||{};var r=JSON.stringify([e,t]),o=c.$get(c.resourceUrl(t),e).then(function(e){if("undefined"==typeof l[r])l[r]=e;else if(angular.isArray(e)){var t=l[r],n=-1;angular.forEach(e,function(e,i){n=t.indexOf(e),-1!==n&&n!==i&&(t.splice(n,1),n=-1),-1==n&&t.splice(i,0,e)}),t.length=e.length}else angular.forEach(e,function(e,t){l[r][t]=e});return i.$$phase||i.$digest(),l[r]});if("undefined"!=typeof l[r]){var a=n.defer();a.resolve(l[r]),o=a.promise}return o},c.processResponse=function(e){return e=c.callInterceptors(e),e.then(function(e){var t;return angular.isArray(e.data)?(t=[],angular.forEach(e.data,function(e){t.push(a(c,e))})):t=angular.isObject(e.data)?a(c,e.data):e.data,t})},c}}]).factory("updateParentNestedValue",[function(){return function(e,t){if(t.attrNested&&t.attrNested.length&&t.attrNested.length>0)for(index in t.attrNested){var n=t.attrNested[index],i=n.split("_");if(2==i.length){var r=e[i[0]][i[1]];e[n]=r}}return e}}]).factory("protectedAttributeRemovalTransformer",[function(){return function(e,t){var n=e;if(t.attrAccessible&&t.attrAccessible.length&&t.attrAccessible.length>0){n={};for(index in t.attrAccessible){var i=t.attrAccessible[index],r=e[i.replace(/Attributes$/,"")];"undefined"==typeof r||null==r||angular.isArray(r)&&!r.length||(n[i]=r)}}return n}}]),angular.module("RailsUjs",[]).directive("method",["$compile",function(e){var t=e("<form style='display:none' action='{{formInfo.href}}' target='{{formInfo.target}}'><input type='hidden' name='_method' value='{{formInfo.method}}'></form>");return function(e,n,i){e.formInfo=i;var r;t(e,function(e){r=angular.element(e),r.attr("method","POST"),n.append(r)}),n.bind("click",function(e){e.stopPropagation(),e.preventDefault(),r.submit()})}}]),angular.module("fileButton",[]).directive("fileButton",["$timeout",function(){return{link:function(e,t){var n=angular.element(t),i=angular.element(n.children()[0]);n.css({position:"relative",overflow:"hidden"}),i.bind("mouseover",function(){n.css({display:"inline-block",width:i[0].offsetWidth,height:i[0].offsetHeight})});var r=angular.element('<input type="file" multiple />');r.css({position:"absolute",top:0,left:0,"z-index":"2",marginTop:"0px",padding:"0",width:"100%",height:"100%",opacity:"0",cursor:"pointer"}),r.bind("change",function(){e.setFiles(r),r[0].value=""}),n.append(r)}}}]),angular.module("Directory.alerts",["ngLoadingIndicators"]).factory("Alert",["$rootScope","$timeout","loading",function(e,t,n){function i(r){r.$timeout=t(function(){r.sync(r).then(function(t){return r.done||r.path||100==r.progress?(e.$broadcast("alertEnded",r),n(!1)):i(r),t})},500)}function r(e){var t=e.promise,n=t.splice(0,1)[0],i=t.splice(0,1)[0];return function(r){return Function.prototype.apply.call(i,n,t).then(function(t){return angular.forEach(e,function(e,n){"promise"!=n&&angular.forEach(e,function(e,i){t[n]==i&&angular.forEach(e,function(e,n){"string"==typeof e&&(e=e.replace(/\:(\w+)/g,function(e){return t[e.replace(":","")]})),r[n]=e})})}),t})}}function o(e){e=e||{},this.category=e.category,this.status=e.status,this.message=e.message,this.path=e.path,this.done=e.done,this.progress=e.progress,this.sync=e.sync}var a=[];return o.prototype={add:function(){a.push(this),this.startSync()},isComplete:function(){var e=this;return e.done||parseInt(e.progress,10)>=100},startSync:function(e){var t;this.sync=e||this.sync,"function"==typeof this.sync?(t=this.sync(this),t&&"function"==typeof t.then&&(n(!0),i(this))):"object"==typeof this.sync&&this.startSync(r(this.sync))},dismiss:function(){this.$timeout&&"function"==typeof this.$timeout.cancel&&this.$timeout.cancel(),a.splice(a.indexOf(this),1)}},o.add=function(e){return new o(e),e.add(),e},o.getAlerts=function(){return a},o}]).directive("popUpAlertsDropdown",["$parse","$compile",function(e,t){var n='<ul class="dropdown-menu alert-showers pull-right" role="menu" aria-labelledby="alerts-dropdown"><li class="pending" ng-show="alerts.length == 0"><a> No pending tasks.</a></li><li class="alert-shower" ng-repeat="alert in alerts" ng-class="{pending:!(alert.done || alert.path)}"><a ng-click="dismissIfDone(alert)" ng-href="{{alert.path}}"><div class="message"><span class="status">{{alert.status}}:</span> {{alert.message}}</div><div class="progress progress-striped" ng-class="{active:alert.progress && alert.progress < 100}"><div class="bar" ng-style="{width:alert.progress+\'%\'}"></div></div></a></li><ul>';return{restrict:"A",scope:!0,link:function(i,r,o){var a=e(o.popUpAlertsDropdown);i.alerts=a(i);var s=t(n)(i);s.insertAfter(r),r.addClass("dropdown-toggle").attr("data-toggle","dropdown")}}}]),angular.module("services.breadcrumbs",[]),angular.module("services.breadcrumbs").factory("breadcrumbs",["$rootScope","$location",function(e,t){var n=[],i={};return e.$on("$routeChangeSuccess",function(){var e,i=t.path().split("/"),r=[],o=function(e){return"/"+i.slice(0,e+1).join("/")};for(i.shift(),e=0;e<i.length;e++)r.push({name:i[e],path:o(e)});n=r}),i.getAll=function(){return n},i.getFirst=function(){return n[0]||{}},i}]),angular.module("analytics",[]).provider("Analytics",function(){function e(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}var t=["$rootScope","$window","account",function(t,n,i){n._gaq=n._gaq||[],n._gaq.push(["_setAccount",i]),this.trackPageview=function(e){n._gaq.push(["_trackPageview",e])},e()}];this.$get=["$injector",function(e){return e.instantiate(t,{account:this.account})}]}).run(["$rootScope","$routeParams","$location","Analytics",function(e,t,n,i){var r=function(e,t){for(var n in t){var i="/"+t[n];e=e.replace(i,"")}var r=decodeURIComponent($.param(t));return""===r?e:e+"?"+r};e.$on("$viewContentLoaded",function(){var e=r(n.path(),t);i.trackPageview(e)})}]),angular.module("Directory.loader",["ngLoadingIndicators"]).factory("Loader",["$q","loading","$timeout",function(e,t){function n(e){return angular.isString(e)?e.replace(/_[\w\d]/g,function(e,t,n){return 0===t?e:n.charAt(t+1).toUpperCase()}):e}function i(e,t){return function(i){return e&&angular.forEach(i,function(t){var i;angular.isArray(t)&&t.length>0?i=n(t[0].constructor.rootPluralName):angular.isArray(t)?i="collections":"undefined"!=typeof t&&(i=n(t.constructor.rootName)),i&&(e[i]=t)}),1==i.length&&(i=i[0]),t&&t.resolve(i),i}}function r(){var t,n,r=Array.prototype.slice.call(arguments);"undefined"!=typeof r[r.length-1].$parent&&(t=r.pop()),"string"==typeof r[r.length-1]&&(n=r.pop());var o=e.defer(),a=o.promise;return e.all(r).then(i(t,o,n),function(e){console.error(e),o.reject(e)}),a}function o(){return t.page(!0),r.apply(this,arguments).then(function(e){return t.page(!1),e},function(n){return t.page(!1),e.reject(n)})}var a=r;return a.page=o,a}]),function(){function e(e){if(e===!0)r+=1;else{if(e!==!1)return i||r;r-=1,0>r&&(r=0)}}function t(e){if(e===!0)o+=1;else{if(e!==!1)return!!o;o-=1,0>o&&(o=0)}}var n,i=0,r=0,o=0;angular.module("ngLoadingIndicators",[]).config(["$httpProvider",function(e){function t(e){return i+=1,e}e.responseInterceptors.push("myHttpInterceptor"),e.defaults.transformRequest.push(t)}]).factory("myHttpInterceptor",["$q","$rootScope",function(r,o){return"undefined"==typeof o.setIsLoading&&(n=o,o.loading=e,o.pageLoading=t),function(e){return e.then(function(e){return i-=1,0>i&&(i=0),e},function(e){return i-=1,0>i&&(i=0),r.reject(e)})}}]).factory("loading",function(){function n(t){return e(t)}return n.page=function(e){return t(e)},n})}(),function(){function e(e){return"undefined"!=typeof e.originalEvent?e.originalEvent:e}angular.module("ngPlayer",[]).factory("Player",["$timeout",function(e){function t(){return f}function n(){return g}function i(e){g=e||g,m.src!=g&&(m.src=g)}function r(){var e=(g||"").split("/");return e[e.length-1].split("?",2)[0]}function o(e,t){i(e),f=t||r(),m.play(),p()}function a(){m.pause(),g=null,m.src=null,m.currentTime=0,m.duration=0,v.time=0,v.duration=0}function s(){m.pause()}function l(){return m.paused}function c(){return m.ended}function u(){v.time=m.currentTime,v.duration=m.duration}function d(){h(0)}function h(t){m.duration?(m.currentTime=t,e(u,0)):e(function(){h(t)},100)}function p(){u(),l()||c()||e(p,100)}var f,g,m=angular.element("<audio></audio>")[0],v={};return v.time=0,v.duration=0,v.pause=s,v.paused=l,v.nowPlaying=t,v.rewind=d,v.play=o,v.stop=a,v.seekTo=h,v.nowPlayingUrl=n,v}]).filter("timeCode",function(){function e(e){return 10>e?"0"+e:e}return function(t){if(isNaN(t))return"00:00.0";var n=new Date(1e3*t);return[n.getUTCHours(),e(n.getMinutes()),e(n.getUTCSeconds())].join(":")+"."+parseInt(n.getUTCMilliseconds()/100)}}).directive("verticalScrubber",["Player","$timeout",function(t,n){return{restrict:"C",link:function(i,r){i.player=t;var o=angular.element("<div class='bar'></div>");i.$watch("player.time",function(e){o.css("height",100*e/t.duration+"%")}),r.bind("mousedown",function(i){function r(){u=!0}function o(i){i=e(i);var o=i.y-s.offsetTop;if(o>=0){var a=o/s.offsetHeight;u&&(u=!1,n(function(){t.seekTo(a*t.duration)},10).then(r,r))}}function a(){l.unbind("mouseup",a),l.unbind("mousemove",o),c.removeClass("scrubbing")}i=e(i);var s=this;angular.element(this);var l=angular.element(window),c=angular.element(window.document.getElementsByTagName("body"));c.addClass("scrubbing");var u=!0;l.bind("mousemove",o),l.bind("mouseup",a),o(i)}),r.append(o)}}}]).directive("scrubber",["Player",function(t){return{restrict:"C",link:function(n,i){i.bind("click",function(n){n=e(n);var i=n.x-this.offsetLeft,r=i/this.offsetWidth;t.seekTo(r*t.duration)})}}}]).directive("transcript",["Player","$parse",function(){return{restrict:"C",replace:!0,scope:{transcript:"=transcriptText",canEdit:"=transcriptEditable",transcriptTimestamps:"@",currentTime:"="},template:'<div class="file-transcript"><table class="table"><tr ng-repeat="text in transcript" ng-class="{current: transcriptStart==text.startTime}" ><td style="width: 8px; text-align:left;"><a ng-click="seekTo(text.startTime)"><i class="icon-play-circle"></i></a></td><td style="width: 16px; text-align:right" ng-show="showRange">{{text.startTime}}</td><td style="width: 8px;  text-align:center" ng-show="showRange">&ndash;</td><td style="width: 16px; text-align:left; padding-right:10px" ng-show="showRange">{{text.endTime}}</td><td ng-show="showStart">{{toTimestamp(text.startTime)}}</td><td ng-show="!editorEnabled"><div class="file-transcript-text" ng-bind-html-unsafe="text.text"></div></td><td ng-show="canShowEditor()" style="width: 8px; padding-right: 10px; text-align: right"><a href="#" ng-click="enableEditor()"><i class="icon-pencil"></i></a></td><td ng-show="editorEnabled"><input ng-model="editableTranscript" ng-show="editorEnabled"></td><td ng-show="editorEnabled" style="width: 50px;"><a href="#" ng-click="saveText(text)" style="width: 8px; float: left; padding: 0 8px"><i class="icon-ok"></i></a><a href="#" ng-click="disableEditor()" style="width: 8px; float: left; padding: 0 10px 0 8px"><i class="icon-remove"></i></a></td></tr></table></div>',link:function(e,t){var n=-1;e.transcriptStart=0,e.transcriptRows={},e.transcriptTimestamps=e.transcriptTimestamps||"range",e.$watch("transcript",function(t){angular.copy({},e.transcriptRows),angular.forEach(t,function(t,n){e.transcriptRows[t.startTime]=n})}),"range"==e.transcriptTimestamps?(e.showRange=!0,e.showStart=!1):(e.transcriptTimestamps="start")&&(e.showStart=!0,e.showRange=!1),e.toTimestamp=function(e){return new Date(1e3*e),e>3600?Math.floor(e/3600)+":"+i(Math.floor(e%3600/60))+":"+i(e%3600%60):Math.floor(e/60)+":"+i(e%60)};var i=function(e){return 10>e?"0"+e:e};e.seekTo=function(t){e.$emit("transcriptSeek",t)},e.editorEnabled=!1,e.canShowEditor=function(){return!this.editorEnabled&&e.canEdit&&parseInt(this.text.id,10)>0},e.enableEditor=function(){this.editorEnabled=!0,this.editableTranscript=this.text.text},e.disableEditor=function(){this.editorEnabled=!1},e.transcript&&e.transcript.length>0&&e.$watch("currentTime",function(i){var r=parseInt(i,10),o=angular.element(".file-transcript table tr")[0].scrollHeight;if(r!=n){if(r in e.transcriptRows){var a=e.transcriptRows[r];void 0!=a&&(t[0].scrollTop=Math.max(a-1,0)*o,e.transcriptStart=r)}n=r}})}}}])}(),function(){"use strict";angular.module("S3Upload",[]).factory("S3Upload",["$rootScope",function(e){function t(e){var t=this;t.options=e||{},t.progress=0,t.callbacks={},t.callbacks.onStart=e.onStart||function(){},t.callbacks.onComplete=e.onComplete||function(){},t.callbacks.onError=e.onError||function(){},t.callbacks.onProgress=e.onProgress||function(){}}return t.prototype={upload:function(){var t=this,n={bucket:t.options.bucket,access_key:t.options.access_key,file:t.options.file,ajax_base:t.options.ajax_base||"upload",key:t.options.key,content_type:t.options.file.type,on_start:function(n){t.callbacks.onStart(n),e.$apply()},on_complete:function(n){t.callbacks.onComplete(n),e.$apply()},on_error:function(){t.callbacks.onError(),e.$apply()},on_progress:function(n,i){var r=100*(n/i);t.progress=parseInt(r,10),t.callbacks.onProgress(t.progress),e.$apply()}};t.progress=0,t.s3upload=new window.mule_upload(n).upload_file(t.options.file)}},t}])}(),function(){"use strict";var e=angular.module("prxSearch",["Directory.searches.models","Directory.items.models"]);e.factory("SearchResults",["Search","Item","$q","Query",function(e,t,n,i){var r={length:0,query:void 0,currentIndex:0},o={},a=[];return r.setResults=function(e){if(e){(r.query!=e.query||r.length!=e.totalHits)&&(a.length=0,r.currentIndex=0,r.length=e.totalHits,r.query=new i(e.query&&e.query.split(/\s+AND\s+/g)));var n=10*(e.page-1);angular.forEach(e.results,function(e,i){a[i+n]=new t(e)})}else r.length=0,r.query=void 0,r.currentIndex=0,a.length=0},r.link=function(){var e=["/search"],t=[];if(r.query){r.query.queryParts.length&&t.push("query="+r.query.queryParts.join(","));var n=Math.ceil((r.currentIndex+1)/10);n>1&&t.push("page="+n),t=t.join("&"),t.length&&e.push(t)}return e.join("?")},r.setCurrentIndex=function(e){var t=!1;angular.forEach(a,function(n,i){if(!t){var o=!0;angular.forEach(e,function(e,t){n[t]!=e&&(o=!1)}),o&&(t=!0,r.currentIndex=i)}}),t||r.setResults()},r.getItem=function(t){if(t>=r.length||0>t)return n.reject();if("undefined"==typeof a[t]){var i=Math.ceil((t+1)/10),s=n.defer();a[t]=s.promise,"undefined"==typeof o[i]&&(o[i]=e.query({page:i,query:r.query}).then(function(e){r.setResults(e),o[i]=void 0})),o[i]=o[i].then(function(){n.when(a[t]).then(function(e){s.resolve(e)},function(e){s.reject(e)})})}return a[t]},r}])}(),angular.module("ngTutorial",[]).factory("Tutorial",["$rootScope","$timeout","$location","$cookies",function(e,t,n,i){var r=function(e){this.name=e,this.$currentStep=0,this.delay=1e3,this.steps=[],this.template="<div id='tutorial-{{tutorial.name}}-{{stepOptions.step}}' class='tutorial-step'><div class='arrow'></div><div class='tutorial-content' ng-bind-html-unsafe='stepOptions.content'></div><nav class='tutorial-navigation'><div class='btn-group'><button ng-disabled='!tutorial.canPrevious()'  ng-click='tutorial.showPreviousStep()' class='btn'>&laquo; Prev</button><button ng-disabled='!tutorial.canNext()' ng-click='tutorial.showNextStep()' class='btn'>Next &raquo;</button></div><button ng-click='tutorial.endTutorial()' class='btn pull-right'>End tutorial</button></nav></div>"};return r.prototype.addStep=function(e,n){var i=this,r=parseInt(e,10);i.steps[r]=n,n.name||(n.name=this.name+"Step"+e),0==r&&t(function(){i.start()},this.delay)},r.prototype.cookieName=function(){var e=this,t=e.name+"TutorialCookie";return t},r.prototype.start=function(){var e=this,t=i[e.cookieName()];t&&"t"==t||(e.$currentStep=0,e.showStep(e.$currentStep))},r.prototype.canNext=function(){var e=this;return e.$currentStep<e.steps.length-1},r.prototype.canPrevious=function(){var e=this;return e.$currentStep>0},r.prototype.showNextStep=function(){var e=this;e.canNext()&&(e.$currentStep=e.$currentStep+1,t(function(){e.showStep(e.$currentStep)},10))},r.prototype.showPreviousStep=function(){var e=this;e.canPrevious()&&(e.$currentStep=e.$currentStep-1,t(function(){e.showStep(e.$currentStep)},10))},r.prototype.showStep=function(e){angular.forEach(this.steps,function(t,n){if(n==e){t.scope().show();var i="tutorial-"+t.scope().tutorial.name+"-"+e;setTimeout(function(){$("html, body").animate({scrollTop:$("#"+i).offset().top-200},1e3)},10)}else t.scope().hide()})},r.prototype.endTutorial=function(){var e=this;i[e.cookieName()]="t",e.showStep(-1)},r}]).directive("ngTutorial",["Tutorial",function(e){return{restrict:"A",scope:!1,compile:function(){return{pre:function(t,n,i){t.tutorial=new e(i.ngTutorial)},post:function(){}}}}}]).directive("tutorialStep",["$parse","$compile","$http","$timeout","$q","$templateCache",function(e,t,n,i,r,o){"use strict";return $("body").on("keyup",function(e){27===e.keyCode&&$(".popover.in").each(function(){$(this).popover("hide")})}),{restrict:"A",scope:!0,link:function(i,a,s){var l=e(s.tutorialStep),c=(l.assign,l(i)),u={};angular.isObject(c)&&(u=c),r.when(u.content||o.get(c)||n.get(c,{cache:!0})).then(function(e){i.tutorial.addStep(u.step,a),i.stepOptions=u,angular.isObject(e)&&(e=e.data),s.unique&&a.on("show",function(){$(".popover.in").each(function(){var e=$(this),t=e.data("popover");t&&!t.$element.is(a)&&e.popover("hide")})}),s.hide&&i.$watch(s.hide,function(e,t){e?r.hide():e!==t&&r.show()});var n=i.tutorial.template;a.popover(angular.extend({},u,{trigger:"manual",content:n,html:!0}));var r=a.data("popover");r.hasContent=function(){return this.getTitle()||e},r.getPosition=function(){var e=$.fn.popover.Constructor.prototype.getPosition.apply(this,arguments);return t(this.$tip)(i),i.$digest(),this.$tip.data("popover",this),e},i.$popover=function(e){r(e)},angular.forEach(["show","hide"],function(e){i[e]=function(){r[e]()}}),i.dismiss=i.hide,angular.forEach(["show","shown","hide","hidden"],function(e){a.on(e,function(t){i.$emit("tutorial-step-"+e,t)})})})}}}]),angular.module("Directory.user",["Directory.loader","Directory.users.models"]).factory("Me",["$q","$timeout","Loader","User","$rootScope",function(e,t,n,i,r){var o,a=[],s=n(i.get("me")).then(function(e){o=e,r.currentUser=e;for(var t;t=a.pop();)s.authenticated.apply(s,t);return o});return s.authenticated=function(){var e=Array.prototype.slice.call(arguments);o?o.authenticated.apply(o,e):a.push(e)},s}]),angular.module("Directory.audioFiles.controllers",["ngPlayer"]).controller("AudioFileCtrl",["$scope","$timeout","Player","Me","TimedText",function(e,t,n,i,r){e.fileUrl=e.audioFile.url,e.play=function(){n.play(e.fileUrl)},e.player=n,e.isPlaying=function(){return e.isLoaded()&&!n.paused()},e.isLoaded=function(){return n.nowPlayingUrl()==e.fileUrl},e.$on("transcriptSeek",function(t,n){e.play(),e.player.seekTo(n)}),i.authenticated(function(){e.saveText=function(){this.text.text=this.editableTranscript,this.disableEditor();var e=new r(this.text);e.update()}})}]).controller("PersistentPlayerCtrl",["$scope","Player",function(e,t){e.player=t,e.collapsed=!1,e.collapse=function(){e.collapsed=!0},e.expand=function(){e.collapsed=!1}}]),angular.module("Directory.audioFiles.models",["RailsModel","S3Upload"]).factory("AudioFile",["Model","S3Upload","$http",function(e,t,n){var i=e({url:"/api/items/{{itemId}}/audio_files/{{id}}",name:"audio_file",only:["url","filename"]});return i.prototype.cleanFileName=function(e){return e.replace(/[^a-z0-9\.]+/gi,"_")},i.prototype.uploadKey=function(e,t){return e+"/"+this.cleanFileName(t)},i.prototype.getStorage=function(){var e=this;return i.processResponse(n.get(e.$url()+"/upload_to")).then(function(t){return e.storage=t,e.storage})},i.prototype.upload=function(e,n){var i=this;i.getStorage().then(function(){n=n||{},n.bucket=n.bucket||i.storage.bucket,n.access_key=n.access_key||i.storage.key,n.ajax_base=i.$url(),n.key=i.uploadKey(n.token,e.name),n.file=e,i.upload=new t(n),i.upload.upload()})},i}]).factory("TimedText",["Model","$http",function(e){var t=e({url:"/api/timed_texts/{{id}}",name:"timed_text",only:["text"]});return t}]),angular.module("Directory.collections.controllers",["Directory.loader","Directory.user","Directory.collections.models","ngTutorial"]).controller("CollectionsCtrl",["$scope","$modal","Collection","Loader","Me","Tutorial",function(e,t,n,i,r){r.authenticated(function(r){i.page(n.query(),n.get(r.uploadsCollectionId),"Collections",e).then(function(t){e.collection=void 0,e.uploadsCollection=t[1],e.uploadsCollection.fetchItems()}),e.tour={tempuploads:{content:"If you don't specify a collection, audio will be automatically added to temporary uploads. Select your audio and add it to a collection to make it searchable.",step:0},iapublic:{content:"Your public collections will be<br/>stored at the Internet Archive.<br/>They will be available for anyone<br/>to search, stream, or download.",step:1},s3private:{content:"Private collections allow you to store your audio so that is visible only to you. Users automatically have two hours of private storage.",step:2},edit:{content:"To delete items select batch edit.",step:3},tutorial1:{content:"Hopefully collections are making more sense.<br/>Next let's look at uploading.",step:4},tutorial2:{content:"Uploads are just a click or drag &amp; drop away &ndash; give it a try!",step:5}},e.$on("tutorial-step-shown",function(n){if(n.targetScope.stepOptions){var i=n.targetScope.stepOptions.step;switch(i){case 4:t({template:"/assets/collections/tutorial1.html",persist:!1,show:!0,backdrop:"static",scope:e,modalClass:"big-modal"});break;case 5:t({template:"/assets/collections/tutorial2.html",persist:!1,show:!0,backdrop:"static",scope:e,modalClass:"big-modal"})}}}),e.selectedItems=[],e.$watch("uploadsCollection.items",function(t){angular.isArray(t)&&angular.forEach(t,function(t){t.selected&&-1==e.selectedItems.indexOf(t)&&e.selectedItems.push(t)})},!0),e.toggleItemSelection=function(t){t.selected?(t.selected=!1,-1!=e.selectedItems.indexOf(t)&&e.selectedItems.splice(e.selectedItems.indexOf(t),1)):(t.selected=!0,-1==e.selectedItems.indexOf(t)&&e.selectedItems.push(t))},e.selectAll=function(t){angular.forEach(t,function(t){t.selected||e.toggleItemSelection(t)})},e.deleteSelection=function(){confirm("Are you sure you would like to delete these "+e.selectedItems.length+" items from My Uploads?\n\nThis is permanent and cannot be undone.")&&(angular.forEach(e.selectedItems,function(t){t.delete(),-1!==e.uploadsCollection.items.indexOf(t)&&e.uploadsCollection.items.splice(e.uploadsCollection.items.indexOf(t),1)}),e.selectedItems.length=0)},e.clearSelection=function(){angular.forEach(e.selectedItems,function(e){e.selected=!1}),e.selectedItems.length=0},e.delete=function(t){var n=confirm("Delete collection and all items?");if(!n)return!1;var i=e.collections[t];i.deleting=!0,i.delete().then(function(){e.collections.splice(t,1)})}})}]).controller("CollectionCtrl",["$scope","$routeParams","Collection","Loader","Item","$location","$timeout",function(e,t,n,i,r,o){e.canEdit=!1,i.page(n.get(t.collectionId),n.query(),"Collection/"+t.collectionId,e).then(function(){angular.forEach(e.collections,function(t){t.id==e.collection.id&&(e.canEdit=!0)})}),e.edit=function(){e.editItem=!0},e.close=function(){e.editItem=!1,e.item=new r({collectionId:parseInt(t.collectionId)})},e.delete=function(){confirm("Are you sure you want to delete the collection "+e.collection.title+" and all items it contains?\n\n This cannot be undone.")&&e.collection.delete().then(function(){o.path("/collections")})},e.close(),e.hasFilters=!1}]).controller("PublicCollectionsCtrl",["$scope","Collection","Loader",function(e,t,n){e.collections=n(t.public())}]).controller("CollectionFormCtrl",["$scope","Collection","Me",function(e,t,n){e.edit=function(t){e.collection=t},e.submit=function(){var i=new t(e.collection);i.id?i.update():i.create().then(function(t){e.collections.push(i),n.authenticated(function(e){e.collectionIds.push(t.id)})})}}]).controller("UploadCategorizationCtrl",["$scope",function(e){var t,n=e.dismiss;e.$watch("collections",function(t){if("undefined"!=typeof t)for(var n=0;n<e.collections.length;n++)if(e.collections[n].id!=e.currentUser.uploadsCollectionId){e.selectedItems.collectionId=e.collections[n].id;break}}),e.$watch("selectedItems.collectionId",function(n){if("undefined"!=typeof n)for(var i=0;i<e.collections.length;i++)if(e.collections[i].id==n){t=e.collections[i];break}}),e.dismiss=function(){e.clearSelection(),n()},e.submit=function(){angular.forEach(e.selectedItems,function(n){n.adopt(e.selectedItems.collectionId),e.uploadsCollection.items.splice(e.uploadsCollection.items.indexOf(n),1),t&&t.items&&t.items.push&&curcurrentCollection.items.push(n)}),e.dismiss()}}]).controller("NewPublicCollectionCtrl",["$scope","Collection",function(e,t){e.collection=new t({itemsVisibleByDefault:!0})}]).controller("NewPrivateCollectionCtrl",["$scope","Collection",function(e,t){e.collection=new t({itemsVisibleByDefault:!1})}]).controller("BatchEditCtrl",["$scope","Loader","Collection","Me",function(e,t,n,i){function r(e){return date=new Date(e.dateAdded),month=date.getUTCMonth(),year=date.getUTCFullYear(),1e6-(100*year+month)}function o(e){e=1e6-e;var t,n=Math.floor(e/100),i=e-100*n;switch(i){case 0:t="January";break;case 1:t="February";break;case 2:t="March";break;case 3:t="April";break;case 4:t="May";break;case 5:t="June";break;case 6:t="July";break;case 7:t="August";break;case 8:t="September";break;case 9:t="October";break;case 10:t="November";break;case 11:t="December";break;default:t="chris"}return t+", "+n}i.authenticated(function(){t.page(n.query(),"BatchEdit",e).then(function(e){angular.forEach(e,function(e){e.fetchItems()})})}),e.selected={},e.selectedItems=[],e.selected.tags=[],e.sortType=0,e.$watch(function(){var t=[];return e.collections&&angular.forEach(e.collections,function(e){e.items&&t.push.apply(t,e.items)}),t},function(t){e.itemsByMonth={},e.itemsByCollection={},e.selectedItems.length=0,t.length&&(angular.forEach(e.collections,function(t){t.items&&t.items.length&&(e.itemsByCollection[t.id]={name:t.title,items:t.items})}),angular.forEach(t,function(t){t.selected&&-1==e.selectedItems.indexOf(t)&&e.selectedItems.push(t),t.__dateHash=t.__dateHash||r(t),e.itemsByMonth[t.__dateHash]=e.itemsByMonth[t.__dateHash]||{name:o(t.__dateHash),items:[]},e.itemsByMonth[t.__dateHash].items.push(t)}))},!0),e.$watch("selectedItems",function(t){if(e.selected.tags.length=0,t.length){var n={};angular.forEach(t,function(e){angular.forEach(e.tags,function(e){n[e]=1})}),e.selected.tags.push.apply(e.selected.tags,Object.keys(n).map(function(e){return{text:e,id:e}}))}},!0),e.sortedItems=function(){return e.sortType?e.itemsByCollection:e.itemsByMonth},e.toggleItemSelection=function(t){t.selected?(t.selected=!1,-1!=e.selectedItems.indexOf(t)&&e.selectedItems.splice(e.selectedItems.indexOf(t),1)):(t.selected=!0,-1==e.selectedItems.indexOf(t)&&e.selectedItems.push(t))},e.tagSelect={placeholder:"Tags...",width:"220px",tags:[]},e.submit=function(){var t=[];angular.forEach(e.selected.tags,function(e){t.push(e.text)}),angular.forEach(e.selectedItems,function(e){e.tags=t,e.update()}),e.clearSelection()},e.clearSelection=function(){angular.forEach(e.selectedItems,function(e){e.selected=!1}),e.selectedItems.length=0},e.deleteSelection=function(){confirm("Are you sure you would like to delete these "+e.selectedItems.length+" items from My Uploads?\n\nThis is permanent and cannot be undone.")&&(angular.forEach(e.selectedItems,function(e){e.delete(),e.getCollection().items.splice(e.getCollection().items.indexOf(e),1)}),e.selectedItems.length=0)}}]),function(){function e(e,t){return function(n){return angular.isArray(n)?(t.splice(0,t.length),angular.forEach(n,function(n){n.itemsVisibleByDefault==e&&t.push(n)}),t):n}}angular.module("Directory.collections.models",["RailsModel"]).factory("Collection",["Model","Item",function(e,t){var n=e({url:"/api/collections/{{id}}",name:"collection",only:["title","description","itemsVisibleByDefault"]}),i=e({url:"/api/collections/public",name:"collection"});return n.public=function(){return i.query.apply(i,arguments)},n.prototype.fetchItems=function(){var e=this;return t.get({collectionId:this.id}).then(function(t){return e.items=t,angular.forEach(t,function(t){t.getCollection=function(){return e}}),t}),this},n.prototype.visibilityIsSet=function(){return this.id||this.itemsVisibleByDefault===!1||this.itemsVisibleByDefault},n.prototype.privateOrPublic=function(){return this.itemsVisibleByDefault?"public":"private"},n.prototype.getThumbClass=function(){return"icon-inbox"},n}]).filter("publicCollections",function(){var t=[];return e(!0,t)}).filter("privateCollections",function(){var t=[];return e(!1,t)}).filter("notUploads",["Me",function(e){var t={},n=[];return e.authenticated(function(e){t=e}),function(e){return angular.isArray(e)?(n.splice(0,n.length),angular.forEach(e,function(e){e.id!=t.uploadsCollectionId&&n.push(e)}),n):e}}])}(),angular.module("Directory.csvImport.controllers",["fileButton","Directory.alerts","Directory.csvImports.models","Directory.collections.models","Directory.loader","Directory.csvImports.filters"]).controller("ImportCtrl",["$scope","CsvImport","$routeParams","Collection","Loader",function(e,t,n,i,r){r.page(t.get(n.importId),i.query(),"importEdit-"+n.importId,e).then(function(){e.collections=[{id:0,title:"New Private Collection: "+e.csvImport.file},{id:-1,title:"New Public Collection: "+e.csvImport.file}].concat(e.collections)}),e.getNewPreviewRows=function(){t.get(e.csvImport.id).then(function(t){e.csvImport.previewRows=t.previewRows})},e.save=function(){e.csvImport.update()}}]).controller("ImportMappingCtrl",["$scope","Schema","Alert","MappingSet","$location",function(e,t,n,i,r){e.schema=t.get(),e.parseNestedQuery=window.parseNestedQuery,e.mappingSet=new i,e.submitMapping=function(){var t=e.csvImport;t.commit="import",t.update();var i=new n({status:"Submitting",message:t.file,progress:1,sync:t.alertSync()});i.i=t,i.add(),r.path("/imports")},e.$watch("csvImport.headers",function(t){angular.forEach(t,function(t,n){e.$watch("mappingSet.mappingAsArry["+n+"]",function(t,i){t?e.csvImport.mappings[n].column=t:i&&e.csvImport.resetMappingToExtra(n)
}),e.$watch("csvImport.mappings["+n+"].column",function(t){if(t){var i,r=e.schema.columnByName(t);e.mappingSet.set(n,t),r&&(i=e.schema.types.get(r.typeId),e.csvImport.mappings[n].type=i.name)}}),e.$watch("csvImport.mappings["+n+"].type",function(t){if(t){var i=e.schema.columnByName(e.csvImport.mappings[n].column);i&&e.schema.types.get(i.typeId).name!=t&&(e.csvImport.mappings[n].column=void 0)}})})})}]).controller("AlertCtrl",["$scope","Alert","$timeout",function(e,t,n){e.alertData={},e.alertData.alerts=t.getAlerts(),e.dismissIfDone=function(t){e.forceAlertsShow=!1,(t.path||t.done)&&t.dismiss()};var i=t.prototype.add;t.prototype.add=function(){return $("#alerts-container").addClass("open"),e.forceAlertsShow=!0,n(function(){e.forceAlertsShow=!1},2e3),i.call(this)}}]).controller("ImportsCtrl",["$scope","CsvImport","Loader",function(e,t,n){n.page(t.query(),"Imports",e)}]).controller("FSImportCtrl",["$scope","$http","CsvImport","$timeout","Alert",function(e,t,n,i,r){e.setFiles=function(t){e.$apply(function(e){angular.forEach(t[0].files,function(t){e.files.push(t)})})},e.submit=function(){angular.forEach(e.files,function(e){var i=new r;i.category="upload",i.status="Uploading",i.progress=1,i.message=e.name,i.add();var o=new FormData;o.append("csv_import[file]",e),t({method:"POST",url:"/api/csv_imports",data:o,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){var t=new n({id:e.id});i.progress=25,i.status="Waiting",i.startSync(t.alertSync())})})}}]),angular.module("Directory.csvImports.filters",["Directory.csvImports.models"]).filter("type",["Schema",function(e){return function(t,n){if("undefined"==typeof n||null==n||""==n||"*"==n)return t;var i=[];return angular.forEach(t,function(t){var r;(r=e.types.get(t.typeId))?r.name==n&&i.push(t):i.push(t)}),i}}]).filter("schemaMapped",["Schema",function(e){return function(t,n){var i=[];return angular.forEach(t,function(t){e.isMapped(t,n)&&i.push(t)}),i}}]).filter("isExtraField",["Schema",function(e){return function(t,n){if(n){var i=[];return angular.forEach(n,function(n,r){var o=!1;angular.forEach(e.columns,function(e){e.name==n.column&&(o=!0)}),o||i.push(t[r])}),i}return t}}]).filter("sortByImportState",function(){function e(e){switch(e){case"error":return 0;case"new":return 1;case"analyzed":return 2;case"analyzing":return 3;case"importing":return 4;case"queued_analyze":return 5;case"queud_import":return 6;case"imported":return 7;case"cancelled":return 8;default:return 9}}return function(t){return t?t.sort(function(t,n){return e(t.state)-e(n.state)}):void 0}}),angular.module("Directory.csvImports.models",["RailsModel"]).factory("CsvImport",["Model","Schema",function(e,t){var n=e({url:"/api/csv_imports",name:"csv_import",only:["mappingsAttributes","collectionId","commit"]});return n.prototype.editButtonMessage=function(){return"imported"==this.state?"Edit":"Continue"},n.prototype.cancel=function(){var e=this;this.commit="cancel",this.update().then(function(){e.state="cancelled"})},n.prototype.resetMappingToExtra=function(e){this.mappings[e].column=t.columnize(this.headers[e]),this.mappings[e].type="*"},n.prototype.terminal=function(){return"cancelled"==this.state||"imported"==this.state},n.prototype.link=function(){return this.terminal()||this.unActionable()?void 0:"/imports/"+this.id},n.prototype.importable=function(){return!(this.isSaving||"analyzed"!=this.state)},n.prototype.unActionable=function(){return this.state.match(/^queued/)||"analyzing"==this.state||"importing"==this.state},n.prototype.alertSync=function(){return{promise:[n,n.get,this.id],state:{analyzing:{status:"Analyzing",progress:50},analyzed:{status:"Analyzed",progress:100,done:!0,path:"/imports/:id"},error:{status:"Error",progress:void 0,done:!0,path:"/imports/:id"},queued_import:{status:"Waiting",progress:10},importing:{status:"Importing",progress:30},imported:{status:"Imported",progress:100,done:!0,path:"/collections/:id"}}}},n}]).factory("MappingSet",[function(){function e(){this.mappingAsHash={},this.mappingAsArry=[]}return e.prototype={setByIndex:function(e,t){if("undefined"!=typeof e&&t){var n=[];for(normalizeParams(this.mappingAsHash,t,e,n);n.length>0;)this.mappingAsArry[n.pop()]=void 0;this.mappingAsHash={},this.mappingAsArry[e]=t;for(var i=0;i<this.mappingAsArry.length;i++)normalizeParams(this.mappingAsHash,this.mappingAsArry[i],i,n)}},setByName:function(e,t){return this.setByIndex(t,e)},set:function(e,t){return this.setByIndex(e,t)}},e}]).factory("Schema",[function(){function e(e){return angular.isString(e)?e.replace(/_[\w\d]/g,function(e,t,n){return 0===t?e:n.charAt(t+1).toUpperCase()}):e}var t={columns:[],types:[{humanName:"---",name:"*"}],get:function(){return t}};return t.typesByName={string:"Title / Label",short_text:"Short Text",text:"Longform Text",date:"Date",number:"Number",array:"Comma Separated List",person:"Person's Name",geolocation:"Geographic Location"},angular.forEach(t.typesByName,function(e,n){t.types.push({humanName:e,name:n})}),t.columnize=function(e){return"undefined"!=typeof e&&null!=e?"extra["+escape(e.toLowerCase().replace(/\W+/g,"_"))+"]":void 0},angular.forEach({title:{type:"string",display:"Title"},episode_title:{type:"string",display:"Episode Title"},series_title:{type:"string",display:"Series Title"},description:{type:"text",display:"Description"},identifier:{type:"string",display:"Item ID"},date_broadcast:{type:"date",display:"Date Broadcast"},date_created:{type:"date",display:"Date Created"},rights:{type:"text",display:"Rights"},physical_format:{type:"short_text",display:"Physical Format"},digital_format:{type:"short_text",display:"Digital Format"},physical_location:{type:"short_text",display:"Physical Location"},"audio_files[][remote_file_url]":{type:"array",display:"Links(s) to Audio File"},duration:{type:"number",display:"Duration"},music_sound_used:{type:"short_text",display:"Music"},date_peg:{type:"short_text",display:"Date Peg"},tags:{type:"array",display:"Tags"},geographic_location:{type:"geolocation",display:"Geolocation"},"interviewers[]":{type:"person",display:"Interviewer"},"interviewees[]":{type:"person",display:"Interviewee"},"producers[]":{type:"person",display:"Producer"},"creators[]":{type:"person",display:"Creator"},"hosts[]":{type:"person",display:"Host"}},function(n,i){for(var r=0;t.types[r].name!=n.type;r++);t.columns.push({name:i,humanName:n.display,typeId:r,camelCaseName:e(i),typeName:n.type})}),t.appendColumns=function(e){var n=t.columns.slice(0,this.columns.length);return e.splice(0,0,0,0),n.splice.apply(n,e),n},t.columnsWith=function(){var e=Array.prototype.slice.call(arguments,0,arguments.length),n=[];for(index in e)n.push(t.nameToColumn(e[index]));return t.appendColumns(n)},t.nameToColumn=function(e){return{humanName:"Extra: "+e,name:t.columnize(e)}},t.columnByName=function(e){for(var n=0;n<t.columns.length;n++)if(e==t.columns[n].name)return t.columns[n];return void 0},t.types.get=function(e){return t.types[e]},t.getValue=function(e,n,i){var r=t.isMapped(e,n);return r!==!1?i[r]:void 0},t.isMapped=function(e,t){if(!t||!e)return!1;for(var n=0;n<t.length;n++){var i=e.name||e;if(t[n].column==i)return n}return!1},t.includesExtraFields=function(e){if(!e)return!1;for(var n=0;n<e.length;n++){var i=!1;if(angular.forEach(t.columns,function(t){t.name==e[n].column&&(i=!0)}),!i)return!0}return!1},t}]),angular.module("Directory.dashboard.controllers",["Directory.loader","Directory.user"]).controller("DashboardCtrl",["$scope","Item","Loader","Me",function(e,t,n,i){i.authenticated(function(){})}]),angular.module("Directory.entities.models",["RailsModel"]).factory("Entity",["Model",function(e){var t=e({url:"/api/items/{{itemId}}/entities/{{id}}",name:"entity",only:["isConfirmed","score"]});return t}]),angular.module("Directory.files.controllers",["fileDropzone","Directory.alerts","Directory.csvImports.models","Directory.user","ngCookies","Directory.people.models"]).controller("FilesCtrl",["$window","$cookies","$scope","$http","$q","$timeout","$route","$routeParams","$modal","Me","Loader","CsvImport","Alert","Collection","Item",function(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f){c.authenticated(function(c){u.page(p.query(),p.get(c.uploadsCollectionId),"Collections",n).then(function(e){n.uploadsCollection=e[1]}),n.files=[],n.uploadModal=l({template:"/assets/items/new.html",persist:!0,show:!1,backdrop:"static",scope:n,modalClass:"item-modal"}),n.shouldShowExitSurvey=null,n.exitSurveyModal=l({template:"/assets/dashboard/exit_survey.html",persist:!0,show:!1,backdrop:"static",scope:n}),n.showDetails=!1,e.onbeforeunload=function(e){var i=null,r=h.getAlerts();angular.forEach(r,function(t){t.isComplete()||"upload"!=t.category||(i="Your upload will be canceled if you leave this page. Are you sure?",e.returnValue=i)});var a=t.exitSurvey;return i||a&&"t"==a||(i="Before you go, will you please stay long enough to answer a couple of questions?",e.returnValue=i,n.shouldShowExitSurvey=o(function(){n.showExitSurvey()},1e3)),i},e.unload=function(){o.cancel(n.shouldShowExitSurvey)},n.showExitSurvey=function(){var e=t.exitSurvey;e&&"t"==e?console.log("Already seen the survey"):(r.when(n.exitSurveyModal).then(function(e){e.modal("show")}),t.exitSurvey="t")},n.uploadFile=function(){n.initializeItem(!0),n.$emit("filesAdded",[])},n.uploadCSV=function(e){var t=new h;t.category="upload",t.status="Uploading",t.progress=1,t.message=e.name,t.add();var n=new FormData;n.append("csv_import[file]",e),i({method:"POST",url:"/api/csv_imports",data:n,headers:{"Content-Type":void 0},transformRequest:angular.identity}).success(function(e){var n=new d({id:e.id});t.progress=25,t.status="Waiting",t.startSync(n.alertSync())})},n.initializeItem=function(e){if("ItemCtrl"==a.current.controller&&a.current.locals.$scope.item&&a.current.locals.$scope.item.id>0)n.item=a.current.locals.$scope.item;else if(e||!n.item){var t=parseInt(s.collectionId,10)||n.currentUser.uploadsCollectionId,i=new f({collectionId:t,title:"",files:[]});n.item=i}return n.item},n.handleAudioFilesAdded=function(e){var e=e||[];if(n.initializeItem(),n.item.id>0&&e.length>0)if(c.canEdit(n.item)){var t=n.item;r.when(n.uploadModal).then(function(i){var r=i;"none"==r.css("display")?n.uploadAudioFiles(t,e):(t.files=t.files||[],angular.forEach(e,function(e){t.files.push(e)}))})}else n.addMessage({type:"Error",title:"Unauthorized",content:"You don't have permission to edit this item; you can't add files to it."});else n.item.files||(n.item.files=[]),angular.forEach(e,function(e){n.item.files.push(e)}),e.length>=1&&(!n.item.title||""==n.item.title)&&(n.item.title=e[0].name),r.when(n.uploadModal).then(function(e){e.modal("show")})},n.uploadAudioFiles=function(e,t){angular.forEach(t,function(t){n.uploadAudioFile(e,t)})},n.uploadAudioFile=function(e,t){var e=e,i=new h;i.category="upload",i.status="Uploading",i.progress=1,i.message=t.name,i.add(),i.path=e.collectionId==n.currentUser.uploadsCollectionId?"/collections":e.link(),t.alert=i,e.addAudioFile(t,{onComplete:function(){var r='"'+t.name+'" upload completed.';e.collectionId==n.currentUser.uploadsCollectionId&&"CollectionsCtrl"==a.current.controller?r+=" To see transcripts and tags, move the item from My Uploads to a collection.":e.collectionId==n.currentUser.uploadsCollectionId&&"CollectionsCtrl"!=a.current.controller?r+=' To see transcripts and tags, move the item from My Uploads to a collection. <a href="/collections">Click here to get back to My Collections.</a>':r=r+'<a data-dismiss="alert" data-target=":parent" ng-href="'+e.link()+'"> View and edit the item!</a>',n.addMessage({type:"success",title:"Congratulations!",content:r}),i.progress=100,i.status="Uploaded",o(function(){n.$broadcast("datasetChanged")},750)},onError:function(){console.log("fileUploaded: addAudioFile: error",e),n.addMessage({type:"error",title:"Oops...",content:'"'+t.name+'" upload failed. Hmmm... try again?'}),i.progress=100,i.status="Error"},onProgress:function(e){i.progress=e}})},n.hideUploadModal=function(){r.when(n.uploadModal).then(function(e){e.modal("hide")})},n.$on("filesAdded",function(e,t){n.handleAudioFilesAdded(t)}),n.$watch("files",function(e){for(var t,i=[];t=e.pop();)t.name.match(/csv$/i)?n.uploadCSV(t):i.push(t);i.length>0&&n.$broadcast("filesAdded",i)})})}]).controller("NewItemFormCtrl",["$window","$cookies","$scope","$http","$q","$timeout","$route","$routeParams","$modal","Me","Loader","Alert","Collection","Item","Contribution",function(e,t,n,i,r,o,a,s,l,c,u,d,h,p,f){n.$watch("item",function(e){!angular.isUndefined(e)&&e.id>0&&angular.isUndefined(e.adoptToCollection)&&(e.adoptToCollection=e.collectionId)}),n.item&&n.item.id&&(n.item.adoptToCollection=n.item.collectionId),n.submit=function(){var e=n.item;this.item=n.initializeItem(!0),n.clear();var t=e.files,i=e.audioFiles,r=e.contributions;h.get(e.collectionId).then(function(t){angular.isArray(t.items)&&t.items.push(e)}),e.id?e.update().then(function(){e.tagList2Tags(),n.uploadAudioFiles(e,t),n.updateAudioFiles(e,i),n.updateContributions(e,r),delete n.item}):e.create().then(function(){e.tagList2Tags(),n.uploadAudioFiles(e,t),n.updateAudioFiles(e,i),n.updateContributions(e,r),o(function(){n.$broadcast("datasetChanged")},750),delete n.item})},n.clear=function(){n.hideUploadModal()},n.setFiles=function(e){n.$apply(function(t){var n=e[0].files;t.item.title&&""!=t.item.title||(t.item.title=n[0].name),t.item.files||(t.item.files=[]),angular.forEach(n,function(e){t.item.files.push(e)}),e[0].value=""})},n.removeAudioFile=function(e){e.id&&e.id>0?e._delete=!0:n.item.files.splice(n.item.files.indexOf(e),1)},n.addContribution=function(){var e=new f;n.item.contributions||(n.item.contributions=[]),n.item.contributions.push(e)},n.deleteContribution=function(e){e.id&&e.id>0?e._delete=!0:n.item.contributions.splice(n.item.contributions.indexOf(e),1)},n.updateContributions=function(e,t){e.contributions=t,e.updateContributions()},n.updateAudioFiles=function(e,t){e.audioFiles=t,e.updateAudioFiles()},n.tagSelect=function(){return{placeholder:"Tags...",width:"284px",tags:[],initSelection:function(e,t){t(n.item.getTagList())}}},n.roleSelect={placeholder:"Role...",width:"160px"},n.peopleSelect={placeholder:"Name...",width:"240px",minimumInputLength:2,quietMillis:100,formatSelection:function(e){return e.name},formatResult:function(e,t,n,i){var r=[];return window.Select2.util.markMatch(e.name,n.term,r,i),r.join("")},createSearchChoice:function(e,t){return 0===$(t).filter(function(){return 0===this.name.toUpperCase().localeCompare(e.toUpperCase())}).length?{id:"new",name:e}:void 0},initSelection:function(e,t){var n=angular.element(e).scope();t(n.contribution.person)},ajax:{url:function(){return"/api/collections/"+(s.collectionId||n.item.collectionId)+"/people"},data:function(e){return{q:e}},results:function(e){return{results:e}}}}}]),angular.module("Directory.items.controllers",["Directory.loader","Directory.user","Directory.items.models","Directory.entities.models","Directory.people.models","prxSearch"]).controller("ItemsCtrl",["$scope","Item","Loader","Me",function(e,t,n,i){i.authenticated(function(){e.collectionId&&(e.items=n.page(t.query(),"Items"))}),e.startUpload=function(){var t=[];e.$emit("filesAdded",t)}}]).controller("ItemCtrl",["$scope","Item","Loader","Me","$routeParams","Collection","Entity","$location","SearchResults",function(e,t,n,i,r,o,a,s,l){e.canEdit=!1,r.id&&n.page(t.get({collectionId:r.collectionId,id:r.id}),o.get({id:r.collectionId}),o.query(),"Item-v2/"+r.id,e).then(function(){angular.forEach(e.collections,function(t){t.id==e.item.collectionId&&(e.canEdit=!0)})}),l.setCurrentIndex({id:r.id}),e.nextItem=l.getItem(l.currentIndex+1),e.previousItem=l.getItem(l.currentIndex-1),e.searchResults=l,e.deleteEntity=function(t){var n=new a(t);n.itemId=e.item.id,n.deleting=!0,n.delete().then(function(){e.item.entities.splice(e.item.entities.indexOf(t),1)})},e.confirmEntity=function(t){t.itemId=e.item.id,t.isConfirmed=!0;var t=new a(t);t.update()},e.deleteItem=function(){confirm("Are you sure you want to delete the item "+e.item.title+"? \n\n This cannot be undone.")&&e.item.delete().then(function(){s.path("/collections/"+e.collection.id),$timeout(function(){e.$broadcast("datasetChanged")},750)})}}]).controller("ItemFormCtrl",["$scope","$routeParams","Schema","Item","Contribution",function(e,t,n,i,r){e.item={},e.itemTags=[],e.$parent.item&&(angular.copy(e.$parent.item,e.item),angular.forEach(e.item.tags,function(e){this.push({id:e,text:e})},e.itemTags)),e.fields=n.columns,e.tagSelect=function(){return{placeholder:"Tags...",width:"220px",tags:[],initSelection:function(t,n){n(e.itemTags)}}},e.roleSelect={placeholder:"Role...",width:"160px"},e.deleteContribution=function(e){e._delete=!0},e.addContribution=function(){var t=new r;e.item.contributions||(e.item.contributions=[]),e.item.contributions.push(t)},e.peopleSelect={placeholder:"Name...",width:"240px",minimumInputLength:2,quietMillis:100,formatSelection:function(e){return e.name},formatResult:function(e,t,n,i){var r=[];return window.Select2.util.markMatch(e.name,n.term,r,i),r.join("")},createSearchChoice:function(e,t){return 0===$(t).filter(function(){return 0===this.name.toUpperCase().localeCompare(e.toUpperCase())}).length?{id:"new",name:e}:void 0},initSelection:function(e,t){var n=angular.element(e).scope();t(n.contribution.person)},ajax:{url:"/api/collections/"+t.collectionId+"/people",data:function(e){return{q:e}},results:function(e){return{results:e}}}},e.$parent.$watch("item",function(t){t&&e.item!=t&&(angular.copy(t,e.item),e.itemTags=[],angular.forEach(e.item.tags,function(e){this.push({id:e,text:e})},e.itemTags))}),e.submit=function(){var t=[];angular.forEach(e.itemTags,function(e){this.push(e.id)},t),e.item.tags=t,e.item.id?e.item.update().then(function(){e.item.updateContributions(),angular.copy(e.item,e.$parent.item)}):e.item.create().then(function(){$timeout(function(){e.$broadcast("datasetChanged")},750),e.close()})}}]),angular.module("Directory.items.models",["RailsModel","Directory.audioFiles.models"]).factory("Item",["Model","$http","$q","Contribution","Person","AudioFile","Player",function(e,t,n,i,r,o,a){var s="dateBroadcast dateCreated datePeg description digitalFormat digitalLocation episodeTitle identifier musicSoundUsed notes physicalFormat physicalLocation rights seriesTitle tags title transcription adoptToCollection tagList text".split(" "),l=e({url:"/api/collections/{{collectionId}}/items/{{id}}",name:"item",only:s});return l.beforeRequest(function(e){var t=[];return t=angular.isArray(e)?e:[e],angular.forEach(t,function(e){e.tags=[],angular.forEach(e.tag_list||[],function(t){e.tags.push(t.text)}),delete e.tag_list,(!e.id||parseInt(e.id,10)<=0||e.adoptToCollection==e.collectionId)&&delete e.adoptToCollection}),e}),l.beforeResponse(function(e){return e.tagList=[],angular.forEach(e.tags||[],function(t){e.tagList.push({id:t,text:t})}),e.id&&(e.adoptToCollection=e.collectionId),e}),l.prototype.tagList2Tags=function(){var e=this;e.tags=[],angular.forEach(e.tagList||[],function(t){e.tags.push(t.text)})},l.prototype.getTitle=function(){return this.title?this.title:this.episodeTitle?this.episodeTitle+" : "+this.identifier:this.seriesTitle?this.seriesTitle+" : "+this.identifier:void 0},l.prototype.getDescription=function(){return this.description?this.description:this.notes?this.notes:void 0},l.prototype.getThumbClass=function(){return this.audioFiles&&this.audioFiles.length>0?"icon-volume-up":"icon-file-alt"},l.prototype.link=function(){return"/collections/"+this.collectionId+"/items/"+this.id},l.prototype.getDurationString=function(){var e=new Date(1e3*this.duration);return e.getUTCHours()+":"+e.getUTCMinutes()+":"+e.getUTCSeconds()},l.prototype.adopt=function(e){var t=this;return this.adoptToCollection=e,this.update().then(function(e){return t.adoptToCollection=void 0,e})},l.prototype.contributors=function(e){var t=[];return angular.forEach(this.contributions,function(n){n.role==e&&t.push(n.person.name)}),t},l.prototype.addAudioFile=function(e,t){var t=t||{},n=this,i=new o({itemId:n.id});return i.create().then(function(){i.filename=i.cleanFileName(e.name),n.audioFiles=n.audioFiles||[],n.audioFiles.push(i),t.token=n.token,i.upload(e,t)}),i},l.prototype.updateAudioFiles=function(){var e=this;angular.forEach(this.audioFiles,function(t,n){var i=new o(t);i.itemId=e.id,i._delete&&(i.delete(),e.audioFiles.splice(n,1))})},l.prototype.playable=function(){return this.audioFiles&&this.audioFiles.length>0},l.prototype.entityShortList=function(){if(this._entityShortList=this._entityShortList||[],this._entityShortList.length=0,this.tags&&this.tags.length>=5)for(var e=0;5>e;e++)this._entityShortList.push(this.tags[e]);else{angular.forEach(this.tags,function(e){this._entityShortList.push(e)},this);var e=0;if(this.entities)for(;e<this.entities.length&&this._entityShortList.length<=5;)this._entityShortList.push(this.entities[e].name),e++}return this._entityShortList},l.prototype.paused=function(){return this.playable()&&!this.playing()},l.prototype.loadedIntoPlayer=function(){var e=!1;if(!a.nowPlayingUrl()||!this.playable())return!1;var t=a.nowPlayingUrl().split("?")[0];return angular.forEach(this.audioFiles,function(n){t==n.url.split("?")[0]&&(e=!0)}),e},l.prototype.playing=function(){return this.loadedIntoPlayer()&&!a.paused()},l.prototype.updateContributions=function(){var e=this;angular.forEach(this.contributions,function(t,n){var o=new i(t);if(o.itemId=e.id,o._delete)o.delete(),e.contributions.splice(n,1);else if(o.person.id&&"new"!=o.person.id)o.id&&"new"!=o.id?(o.personId=o.person.id,o.update()):(o.id=null,o.personId=o.person.id,o.create());else{var a=new r({name:o.person.name,collectionId:e.collectionId});a.create().then(function(){o.personId=a.id,o.id&&"new"!=o.id?o.update():(o.id=null,o.create())})}})},l.prototype.play=function(){this.loadedIntoPlayer()?a.play():a.play(this.audioFiles[0].url,this.getTitle())},l.prototype.pause=function(){this.playing()&&a.pause()},l.prototype.standardRoles=["producer","interviewer","interviewee","creator","host"],l}]).filter("titleize",function(){return function(e){return angular.isString(e)?e.slice(0,1).toUpperCase()+e.slice(1).replace(/([A-Z])/g," $1"):e}}).filter("pluralize",function(){return function(e){return angular.isString(e)?e+"s":e}}),angular.module("Directory.people.models",["RailsModel"]).factory("Person",["Model",function(e){var t=e({url:"/api/collections/{{collectionId}}/people/{{id}}",name:"person",only:["name"]});return t.prototype.text=function(){return this.name},t}]).factory("Contribution",["Model",function(e){var t=e({url:"/api/items/{{itemId}}/contributions/{{id}}",name:"contribution",only:["personId","role"]});return t.prototype.text=function(){return this.name},t}]),angular.module("Directory.searches.controllers",["Directory.loader","Directory.searches.models","Directory.searches.filters","Directory.collections.models","prxSearch"]).controller("SearchCtrl",["$scope","$location","Query",function(e,t,n){e.location=t,e.$watch("location.search().query",function(t){e.query=new n(t)})}]).controller("GlobalSearchCtrl",["$scope","Query","$location",function(e,t,n){e.query=new t,e.go=function(){n.path("/search"),e.query.commit(),e.query=new t}}]).controller("SearchResultsCtrl",["$scope","Search","Loader","$location","$routeParams","Query","Collection","SearchResults",function(e,t,n,i,r,o,a,s){function l(){searchParams={},r.contributorName&&(searchParams["filters[contributor]"]=r.contributorName),"undefined"!=typeof r.collectionId&&(searchParams["filters[collection_id]"]=r.collectionId),e.query&&(searchParams.query=e.query.toSearchQuery()),searchParams.page=i.search().page,e.search?n(t.query(searchParams),e):e.search=n.page(t.query(searchParams)),e.$watch("search",function(e){s.setResults(e)})}e.location=i,e.$watch("location.search().query",function(t){e.query=new o(t),l()}),e.$watch("location.search().page",function(){l()}),e.$on("datasetChanged",function(){l()}),e.nextPage=function(){i.search("page",(parseInt(i.search().page)||1)+1),l()},e.backPage=function(){i.search("page",(parseInt(i.search().page)||2)-1),l()},e.addSearchFilter=function(t){e.query.add(t.field+":"+'"'+t.name+'"')}}]),angular.module("Directory.searches.filters",[]).filter("withoutFieldname",function(){return function(e){return e.replace(/\w+:/,"")}}).filter("highlightMatches",function(){var e=[];return function(t,n){if(n&&n.length){var i=new RegExp("(\\w*"+n+"\\w*)","ig");return e.length=0,angular.forEach(t,function(t){t.text.match(i)&&(e.push(angular.copy(t)),e[e.length-1].text=t.text.replace(i,"<em>$1</em>"))}),e}return t}}),angular.module("Directory.searches.models",["RailsModel","Directory.items.models"]).factory("Search",["Model","Item","Facet",function(e,t,n){var i=e({url:"/api/search",name:"search"});return i.prototype.lastItemNumber=function(){return Math.min(10*this.page,this.totalHits)},i.prototype.firstItemNumber=function(){return Math.min(10*(this.page-1)+1,this.totalHits)},i.prototype.hasMoreResults=function(){return this.lastItemNumber()<this.totalHits},i.prototype.facetsAsObjects=function(){return"undefined"!=typeof this._facetObjects?this._facetObjects:(this._facetObjects=[],angular.forEach(this.facets,function(e,t){this.push(new n(t,e))},this._facetObjects),this._facetObjects)},i.prototype.aFacetIsVisible=function(){var e=!1;return angular.forEach(this.facetsAsObjects(),function(t){t.visible()&&(e=!0)}),e},i}]).factory("Facet",["Collection",function(e){function t(e,t,n){this.name=e,this.count=t,this.field=n}function n(e,t,n){this.name=e,this.count=t,this.field=n}function i(e,t,n){this.name=e.id,this.model=e,this.count=t,this.field=n}function r(t,n){this.name=t,this.type=n._type,"collectionId"==this.name&&(this.name="Collection",this.type="reference",this.klass=e),this.data=n}return t.prototype.nameForPresenting=function(){return this.name},i.prototype=new t,n.prototype=new t,n.prototype.nameForPresenting=function(){return this._date||(this._date=new Date(0),this._date.setUTCSeconds(this.name/1e3)),this._dateString||(this._dateString=1==this._date.getUTCDate()&&0==this._date.getUTCMonth()?this._date.getUTCFullYear():1==this._date.getUTCDate()?this._date.getUTCMonth()+1+"/"+this._date.getUTCFullYear():this._date.getUTCMonth()+1+"/"+this._date.getUTCDate()+this.getUTCFullYear()),this._dateString},i.prototype.nameForPresenting=function(){return this.model.title},r.prototype.visible=function(){return this._entries&&this._entries.length>=1},r.prototype.entries=function(){if("undefined"!=typeof this._entries)return this._entries;this._entries=[];var e=this.name;switch(this.type){case"terms":angular.forEach(this.data.terms,function(n){this.push(new t(n.term,n.count,e))},this._entries);break;case"reference":var n=this._entries;angular.forEach(this.data.terms,function(t){this.klass.get(parseInt(t.term)).then(function(r){n.push(new i(r,t.count,e.toLowerCase()+"_id"))})},this);case"date_histogram":}return this._entries},r}]).filter("toItems",["Item",function(e){var t=[];return function(n){return t.length=0,n&&angular.forEach(n,function(n){"undefined"!=typeof n.$delete?t.push(n):t.push(angular.copy(new e(n),n))}),t}}]).factory("Query",["$location",function(e){function t(e){if("undefined"!=typeof e&&null!==e){if(angular.isArray(e))return e;var t=e.match(/([^,\"]*\"[^\"]+\"|[^,]+)/g);return t?i(t):[]}return[]}function n(e){if(angular.isArray(e))this.queryParts=e,this.updateQueryString();else if(angular.isString(e))this.queryString=e,this.updateQueryParts();else{if("undefined"!=typeof e&&null!=e){var t=n(e.query);return e.onQueryBuilt&&e.onQueryBuilt(t),t}this.queryString="",this.updateQueryParts()}this.string=""}var i=function(e){for(var t={},n=[],i=0,r=e.length;r>i;++i)t.hasOwnProperty(e[i])||(n.push(e[i]),t[e[i]]=1);return n};return n.prototype.updateQueryParts=function(){this.queryParts=t(this.queryString)},n.prototype.updateQueryString=function(){this.queryString=this.queryParts.join(","),""==this.queryString&&(this.queryString=null)},n.prototype.commit=function(){this.string&&""!=this.string&&(this.queryParts.push(this.string),this.string="",this.perform())},n.prototype.add=function(e){this.queryParts.push(e),this.perform()},n.prototype.remove=function(e){this.queryParts.splice(this.queryParts.indexOf(e),1),this.perform()},n.prototype.perform=function(){this.updateQueryString(),e.search("page",1),e.search("query",this.queryString)},n.prototype.toSearchQuery=function(){var e=this.queryParts.join(" AND ");return""==e?null:e},n}]),angular.module("Directory.users.models",["RailsModel"]).factory("User",["Model",function(e){var t=e({url:"/api/users",name:"user"});return t.prototype.authenticated=function(e,t){return this.id?(e&&e(this),!0):(t&&t(this),!1)},t.prototype.canEdit=function(e){return this.authenticated()&&e&&e.collectionId?this.collectionIds.indexOf(e.collectionId)>-1:!1},t}]),"#_=_"==window.location.hash&&(window.location.hash=""),function(){function e(e,t,n,i){i.account="";var r=document.getElementsByTagName("meta"),o="";angular.forEach(r,function(e){e=angular.element(e),"csrf-token"==e.attr("name")&&(o=e.attr("content"))}),e.defaults.headers.common["X-CSRF-Token"]=o,t.html5Mode(!0),n.when("/",{templateUrl:"/assets/dashboard/guest-96970ca5ec671f3afd3d3606a4b1fd08.html",controller:"DashboardCtrl",title:"Get Started"}).when("/search",{templateUrl:"/assets/search/results-ac7a055bbc236fe3a86ae06c94d16d28.html",controller:"SearchResultsCtrl",reloadOnSearch:!1,title:"Search"}).when("/about",{templateUrl:"/assets/dashboard/about.html",controller:"DashboardCtrl",title:"About"}).when("/imports/new",{templateUrl:"/assets/imports/new-90dfc21c0b3ed2f7bf8523f6ac33cf9b.html",controller:"ItemsCtrl",title:"Start a CSV Import"}).when("/collections",{templateUrl:"/assets/collections/index-04956fcb46dfb59e592cf4acb1ff7a22.html",controller:"CollectionsCtrl",loginRequired:!0,title:"My Collections"}).when("/collections/edit",{templateUrl:"/assets/collections/batch_edit-7eba8eefda35b03450b5a3b84632b23d.html",controller:"BatchEditCtrl",loginRequired:!0,title:"My Collections &raquo; Batch Edit"}).when("/collections/public",{templateUrl:"/assets/collections/index-04956fcb46dfb59e592cf4acb1ff7a22.html",controller:"PublicCollectionsCtrl",title:"Public Collections"}).when("/collections/privacy_faq",{templateUrl:"/assets/collections/privacy_faq-407bf27c22754c3204a138313b624a09.html",controller:"PrivacyFAQ",title:"Privacy FAQ"}).when("/collections/:collectionId",{templateUrl:"/assets/collections/show-00664b712117855c91a21558288b6684.html",controller:"CollectionCtrl",title:"Search &raquo; {{collection.title}}",reloadOnSearch:!1}).when("/collections/:collectionId/items/:id",{templateUrl:"/assets/items/show-7155e42c7c052baa6b44df3e7c4f18c2.html",controller:"ItemCtrl",title:"Search &raquo; {{collection.title}} &raquo; {{item.getTitle()}}"}).when("/imports",{templateUrl:"/assets/imports/index-553da40bc8cab73f6c6c8ac09c0c0ad3.html",controller:"ImportsCtrl",title:"My Imports"}).when("/contributors/:contributorName",{templateUrl:"/assets/search/index-61c00a71785c24153e21143e6ad1b59e.html",controller:"SearchCtrl"}).when("/imports/:importId",{templateUrl:"/assets/imports/show-6c5e470f8a661f5eb6c4e180481c2c39.html",controller:"ImportCtrl"}).otherwise({template:"<h1>404 - not found</h1>"})}e.$inject=["$httpProvider","$locationProvider","$routeProvider","AnalyticsProvider"];var t=["rails","ngCookies","analytics","ui","$strap","$strap.directives","RailsUjs","Directory.dashboard.controllers","Directory.files.controllers","Directory.csvImport.controllers","Directory.searches.controllers","Directory.items.controllers","Directory.audioFiles.controllers","Directory.collections.controllers"];window.directory=angular.module("Directory",t),window.directory.constant("STORAGE_PROVIDER",{bucket:"test.prx.org",access_key:"AKIAJWCOIDDEXQFW3ZRA"}),window.directory.config(e),window.directory.controller("DirectoryCtrl",["$scope","$route","$interpolate","Me","$timeout","$location",function(e,t,n,i,r,o){e.$on("$routeChangeSuccess",function(){e.hideFooter="/collections/edit"==o.path()?!0:!1}),r(function(){angular.element(".logo.up").addClass("raised-logo")},1e3),e.modalOpts={backdropFade:!0,dialogFade:!0},e.messages=[],e.addMessage=function(t){e.messages.push(t)},e.$on("alertEnded",function(t,n){console.log("alertEnded!",n),"Analyzed"==n.status&&e.addMessage({type:"success",title:"Congratulations!",content:"<em>"+n.message+'</em> has been analyzed! <a data-dismiss="alert" data-target=":parent" ng-href="'+n.path+'">Complete your import.</a>'})}),e.userMenu=[{text:"my collections",href:"/collections"},{text:"my imports",href:"/imports"},{text:"log out",href:"/users/sign_out",target:"_self",method:"delete"}],e.itemHelp={collection:{title:"Collection",content:"<p>A collection is a set of items. They can be public or private, and are a way to organize your uploads and data.</p><p>Examples</p><ul><li>Hidden Kitchens</li><li>My Project Audio</li></ul>"},title:{title:"Title",content:"<p>The name that will appear when you search for the item. Not all audio will have a predefined title, e.g., interviews or segments of a longer work. In these situations, make up a title that you think will help you or others easily identify the audio’s content.</p><p>Examples</p><ul><li>Willie Nelson Interview</li><li>War of the Worlds</li><li>NASA Apollo 11 Onboard Recordings</li></ul>"},episodeTitle:{title:"Episode Title",content:"<p>A finished episode or piece to which the audio contributed. Not all of your audio contributes to a larger piece. In these cases, leave this field blank.</p><p>Examples</p><ul><li>Hidden Kitchens Texas</li><li>Notes on Camp</li><li>Parasites</li></ul>"},seriesTitle:{title:"Series Title",content:"<p>The larger series to which the episode or piece contributed. Not all of your audio contributes to a series. In these cases, leave this field blank.</p><p>Examples</p><ul><li>Hidden Kitchens</li><li>This American Life</li><li>Love and Radio</li></ul>"},identifier:{title:"Item ID",content:"<p>A set of letters or numbers that you use to identify the item. Your ID is like a library call number. You can use an ID for an organizational system that you’ve invented, or you can use a URL.</p><p>Examples</p><ul><li>PROG_SV2BT0GDPUE28XX</li><li>NOVA003406</li><li>http://archive.org/details/<br/>TheApollo11MoonLanding</li></ul>"},description:{title:"Description",content:"<p>An abstract or summary of the audio. Your description can be a paragraph (or several) or only a sentence or two.</p><p>Examples</p><ul><li>Willie Nelson takes us across The Lone Star State in this lively hour of stories from KUT Austin and NPR. Explore the history of Texas through food—told by people who find it, grow it, cook it, eat it, sell it, share it, and celebrate with it.</li></ul>"},rights:{title:"Rights",content:"<p>Information about rights to the media item. Typically, rights information includes a statement about various property rights associated with the audio, including intellectual property rights. For audio that you’d like to see shared or remixed, we recommend using a <a href=”http://creativecommons.org/choose/” target=”blank”> Creative Commons license</a>.</p><p>Examples</p><ul><li>Creative Commons Attribution 3.0 Unported License</li><li>Copyright 2013 The Kitchen Sisters. Please contact kitchen@kitchensisters.org to get permission for use.</li></ul>"},dateCreated:{title:"Date Created",content:"<p>The original date that the media item was created. In the case of raw interviews, the date on which the interview was conducted. For a finished piece, this may be the date you completed your final edit.</p>"},dateBroadcast:{title:"Date Broadcast",content:"<p>The date on which the audio was originally broadcast either on the web or on air. (e.g., The date you first released the piece as a podcast or the date the piece ran on All Things Considered). If multiple broadcast dates are available, record the earliest date of broadcast.</p>"},physicalFormat:{title:"Physical Format",content:"<p>The format of a media item that occupies physical space (e.g., a tape on a shelf), rather than as a digital file residing on a server or hard drive. This field is useful for tracking items that have not yet been digitized and items that have been digitized but still have physical analogs.</p><p>Examples</p><ul><li>1 inch audio tape</li><li>1/2 inch digital audio tape</li></ul>"},physicalLocation:{title:"Physical Location",content:"<p>An address for a physical media item. This field may contain information about an item’s location on a specific shelf, including an organization's name, departmental name, shelf ID and contact information. You can include any information that will help you find the media later.</p><p>Examples</p><ul><li>Vault: ML007859.121.1.</li><li>Bay 12, Shelf 21</li><li>Front closet at Mario Furloni’s house, Oakland, CA</li></ul>"},digitalFormat:{title:"Digital Format",content:"<p>The audio file’s digital format on a server or hard drive. Digital media formats are expressed as MIME types (e.g., mpeg). Pop Up Archive currently supports aac, aif, aiff, alac, flac, m4a, m4p, mp2, mp3, mp4, ogg, raw, spx, wav, and  wma.</p><p>Examples</p><ul><li>mpeg (MP2, MP3)</li><li>wav (WAV)</li><li>aiff (AIF, AIFF)</li><li>mp4 (MP4)</li><li>ogg (Ogg Vorbis, Flac)</li></ul>"},audioFiles:{title:"Audio Files",content:"<p>Digital media files to be uploaded from your computer. A single item may have multiple values if the audio has multiple parts (e.g., an interview recorded over three separate tracks).</p>"},"audioFiles[][remoteFileUrl]":{title:"Link(s) to Audio File",content:"<p>A direct link to a digital media item on the web. Pop Up Archive will use this URL to upload your audio. A single item may have multiple values if the audio has multiple parts (e.g., an interview recorded over three separate tracks). The URL must end with a file extension like .mp2, .mp3, or .wav. A more general URL to a web page with information about the file can be listed in the Item ID field.</p><p>Examples</p><ul><li>http://archive.org/download/NasaApollo11OnboardRecordings/11_highlight_1.mp3</li><li>http://archive.org/download/NasaApollo11OnboardRecordings/11_highlight_2.mp3</li><li>http://archive.org/download/NasaApollo11OnboardRecordings/11_highlight_3.mp3</li></ul>"},digitalLocation:{title:"Link(s) to Audio File",content:"<p>A direct link to a digital media item on the web. Pop Up Archive will use this URL to upload your audio. A single item may have multiple values if the audio has multiple parts (e.g., an interview recorded over three separate tracks). The URL must end with .mp2, .mp3, or .wav. A more general URL to a web page with information about the file can be listed in the Item ID field.</p><p>Examples</p><ul><li>http://archive.org/download/NasaApollo11OnboardRecordings/11_highlight_1.mp3</li><li>http://archive.org/download/NasaApollo11OnboardRecordings/11_highlight_2.mp3</li><li>http://archive.org/download/NasaApollo11OnboardRecordings/11_highlight_3.mp3</li></ul>"},musicSoundUsed:{title:"Music",content:'<p>Information about the music or sound clips used in a piece. This could include title, artist, album, timestamp, producer or record label information.</p><p>Examples</p><ul><li>"Dole It Out", Podington Bear</li><li>At Club St. Germain, Django Reinhardt</li><li>The Beatles, Apple</li></ul>'},datePeg:{title:"Date Peg",content:"<p>A holiday or other date relevant to the item.</p><p>Examples</p><ul><li>Christmas</li><li>Yom Kippur</li><li>Independence Day</li></ul>"},notes:{title:"Notes",content:"Additional notes or information about the item."},duration:{title:"Duration",content:"<p>A timestamp for the overall length of the audio. Represents the playback time.</p><p>Examples</p><ul><li>00:56:46</li><li>00:56:46.0006</li></ul>"},tags:{title:"Tags",content:"<p>A keyword or term that describes the item.</p><p>Examples</p><ul><li>space exploration</li><li>cosmology</li><li>physics</li></ul>"},transcription:{title:"Transcription",content:"Text transcript of the speech in the audio."},geographicLocation:{title:"Geolocation",content:"<p>A place that is the subject of a piece of media. This could be a city name, a state name, an address, or even latitude and longitude coordinates. Basically, you can enter anything you might enter into Google Maps to find a location.</p><p>Examples</p><ul><li>37.2000,-76.7667</li><li>1600 Pennsylvania Avenue NW, Washington, D.C.</li><li>Chicago, IL</li></ul>"},"interviewers[]":{title:"Interviewer",content:"<p>The person(s) conducting the interview.</p><p>Examples</p><ul><li>Davia Nelson</li><li>Nicholas van der Kolk</li><li>Chana Joffe-Walt</li></ul>"},"interviewees[]":{title:"Interviewee",content:"<p>The person(s) being interviewed.</p><p>Examples</p><ul><li>Willie Nelson</li><li>George Foreman</li><li>Senator Barney Frank</li></ul>"},"producers[]":{title:"Producer",content:"<p>The person(s) who supervised or financed the work.</p><p>Examples</p><ul><li>Nancy Updike</li><li>Ellen Horne</li></ul>"},"hosts[]":{title:"Host",content:"<p>The person(s) hosting the broadcast piece.</p><p>Examples</p><ul><li>Ira Glass</li><li>Robert Krulwich</li><li>Art Bell</li></ul>"},contributors:{title:"Contributors",content:"<p>The person(s) with various roles related to the item, such as producers, interviewees, etc."}};
var a=function(){};e.$on("$routeChangeStart",function(e,t){"undefined"!=typeof t&&t.$$route.loginRequired&&i.authenticated(void 0,function(){window.location="/users/sign_in"})}),e.$on("$routeChangeSuccess",function(t,n){e.currentRoute=n}),e.$watch("currentRoute.$$route.title",function(e){a="undefined"!=typeof e?n(e):function(){}}),e.breadcrumbsTitle=function(){if(t.current){var e=a(t.current.scope);if(""!=e&&"undefined"!=typeof e)return"Pop Up Archive &raquo; "+e}return"Pop Up Archive"},e.iconForFile=function(e){var t="icon-file-alt";if(!e)return t;var n="";return e.filename?n=e.filename:e.name&&(n=e.name),(e.type&&e.type.match(/^audio/)||n.match(/\.(aac|aif|aiff|alac|flac|m4a|m4p|mp2|mp3|mp4|ogg|raw|spx|wav|wma)$/))&&(t="icon-volume-up"),t},e.readableFileSize=function(e){var t=Math.floor(Math.log(e)/Math.log(1024));return 1*(e/Math.pow(1024,t)).toFixed(1)+" "+["B","KB","MB","GB","TB"][t]}}])}();